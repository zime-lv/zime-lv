(this["webpackJsonpzime-lv"]=this["webpackJsonpzime-lv"]||[]).push([[4],{187:function(e){e.exports=JSON.parse('[{"Name":"Australian Central Time","Offset":9},{"Name":"Australian Eastern Time","Offset":10},{"Name":"Afghanistan Time","Offset":4},{"Name":"Alaska Time","Offset":-9},{"Name":"Alma-Ata Time","Offset":6},{"Name":"Armenia Time","Offset":4},{"Name":"Amazon Time","Offset":-4},{"Name":"Anadyr Time","Offset":12},{"Name":"Aqtobe Time","Offset":5},{"Name":"Argentina Time","Offset":-3},{"Name":"Arabia Time","Offset":3},{"Name":"Atlantic Time","Offset":-4},{"Name":"Australian Western Time","Offset":8},{"Name":"Azores Time","Offset":-1},{"Name":"Azerbaijan Time","Offset":4},{"Name":"Brunei Darussalam Time","Offset":8},{"Name":"Bolivia Time","Offset":-4},{"Name":"Bras\xedlia time","Offset":-3},{"Name":"Bangladesh Time","Offset":6},{"Name":"Bhutan Time","Offset":6},{"Name":"Casey Time","Offset":8},{"Name":"Central Africa Time","Offset":2},{"Name":"Cocos Islands Time","Offset":6},{"Name":"Central European Time","Offset":1},{"Name":"Chatham Island Time","Offset":13},{"Name":"Cook Island Time","Offset":-10},{"Name":"Chile Time","Offset":-4},{"Name":"Colombia Time","Offset":-5},{"Name":"China Time","Offset":8},{"Name":"Central Time","Offset":-6},{"Name":"Cuba Time","Offset":-5},{"Name":"Cape Verde Time","Offset":-1},{"Name":"Christmas Island Time","Offset":7},{"Name":"Chamorro Time","Offset":10},{"Name":"Davis Time","Offset":7},{"Name":"Easter Island Time","Offset":-6},{"Name":"Eastern Africa Time","Offset":3},{"Name":"Ecuador Time","Offset":-5},{"Name":"Eastern European Time","Offset":2},{"Name":"East Greenland Time","Offset":-1},{"Name":"Eastern Time","Offset":-5},{"Name":"Fiji Time","Offset":12},{"Name":"Falkland Island Time","Offset":-4},{"Name":"Fernando de Noronha Time","Offset":-2},{"Name":"Galapagos Time","Offset":-6},{"Name":"Gambier Time","Offset":-9},{"Name":"Georgia Time","Offset":4},{"Name":"French Guiana Time","Offset":-3},{"Name":"Gilbert Island Time","Offset":12},{"Name":"Greenwich Mean Time","Offset":0},{"Name":"Gulf Time","Offset":4},{"Name":"Guyana Time","Offset":-4},{"Name":"Hawaii-Aleutian Time","Offset":-10},{"Name":"Hong Kong Time","Offset":8},{"Name":"Hora Legal de Venezuela","Offset":4},{"Name":"Hovd Time","Offset":7},{"Name":"Indochina Time","Offset":7},{"Name":"Indian Chagos Time","Offset":6},{"Name":"Irkutsk Time","Offset":9},{"Name":"Iran Time","Offset":3},{"Name":"Israel Time","Offset":2},{"Name":"India Time","Offset":5},{"Name":"Irish Time","Offset":1},{"Name":"Japan Time","Offset":9},{"Name":"Kyrgyzstan Time","Offset":6},{"Name":"Krasnoyarsk Time","Offset":8},{"Name":"Korea Time","Offset":9},{"Name":"Kuybyshev Time","Offset":4},{"Name":"Lord Howe Time","Offset":10},{"Name":"Line Islands Time","Offset":14},{"Name":"Magadan Time","Offset":12},{"Name":"Marquesas Time","Offset":-9},{"Name":"Mawson Time","Offset":5},{"Name":"Marshall Islands Time","Offset":12},{"Name":"Myanmar Time","Offset":6},{"Name":"Moscow Time","Offset":4},{"Name":"Mountain Time","Offset":-7},{"Name":"Mauritius Time","Offset":4},{"Name":"Maldives Time","Offset":5},{"Name":"Malaysia Time","Offset":8},{"Name":"New Caledonia Time","Offset":11},{"Name":"Norfolk Time","Offset":11},{"Name":"Novosibirsk Time","Offset":6},{"Name":"Nepal Time","Offset":6},{"Name":"Newfoundland Time","Offset":-3},{"Name":"Niue Time","Offset":-11},{"Name":"New Zealand Time","Offset":12},{"Name":"Omsk Time","Offset":7},{"Name":"Peru Time","Offset":-5},{"Name":"Kamchatka Time","Offset":12},{"Name":"Papua New Guinea Time","Offset":10},{"Name":"Phoenix Island Time","Offset":13},{"Name":"Philippine Time","Offset":8},{"Name":"Pakistan Time","Offset":5},{"Name":"Pierre & Miquelon Time","Offset":-3},{"Name":"Pohnpei Time","Offset":11},{"Name":"Pacific Time","Offset":-8},{"Name":"Pitcairn Time","Offset":-8},{"Name":"Palau Time","Offset":9},{"Name":"Paraguay Time","Offset":-4},{"Name":"Reunion Time","Offset":4},{"Name":"Samara Time","Offset":4},{"Name":"South Africa Time","Offset":2},{"Name":"Solomon IslandsTime","Offset":11},{"Name":"Seychelles Time","Offset":4},{"Name":"Singapore Time","Offset":8},{"Name":"Suriname Time","Offset":-3},{"Name":"Samoa Time","Offset":-11},{"Name":"Tahiti Time","Offset":-10},{"Name":"French Southern and Antarctic Time","Offset":5},{"Name":"Tajikistan Time","Offset":5},{"Name":"Tokelau Time","Offset":13},{"Name":"East Timor Time","Offset":9},{"Name":"Turkmenistan Time","Offset":5},{"Name":"Tuvalu Time","Offset":12},{"Name":"Ulaanbaatar Time","Offset":8},{"Name":"Coordinated Universal Time","Offset":0},{"Name":"Uruguay Time","Offset":-3},{"Name":"Uzbekistan Time","Offset":5},{"Name":"Venezuelan Time","Offset":-4},{"Name":"Vladivostok Time","Offset":11},{"Name":"Vanuatu Time","Offset":11},{"Name":"West Africa Time","Offset":1},{"Name":"Western European Time","Offset":0},{"Name":"Wallis and Futuna Time","Offset":12},{"Name":"West Greenland Time","Offset":-3},{"Name":"Western Indonesian Time","Offset":7},{"Name":"Eastern Indonesian Time","Offset":9},{"Name":"Central Indonesian Time","Offset":8},{"Name":"West Samoa Time","Offset":13},{"Name":"Western Sahara Time","Offset":0},{"Name":"Yakutsk Time","Offset":10},{"Name":"Chuuk Time","Offset":10},{"Name":" Yekaterinburg Time","Offset":6}]')},200:function(e,t,a){e.exports=a(266)},201:function(e,t,a){},202:function(e,t,a){},207:function(e,t,a){},211:function(e,t,a){},222:function(e,t,a){var n={"./document.css":[267,7,7],"./en/PrivacyPolicy":[195,9,0],"./en/PrivacyPolicy.js":[195,9,0],"./en/UserAgreement":[196,9,1],"./en/UserAgreement.js":[196,9,1],"./lv/PrivacyPolicy":[197,9,2],"./lv/PrivacyPolicy.js":[197,9,2],"./lv/UserAgreement":[198,9,3],"./lv/UserAgreement.js":[198,9,3]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[2]).then((function(){return a.t(r,t[1])}))}r.keys=function(){return Object.keys(n)},r.id=222,e.exports=r},230:function(e,t,a){},261:function(e,t){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);a(201),a(202);var n=a(0),r=a.n(n),s=a(34),l=a.n(s),i=a(3),c=a(314),o=a(106),u=a.n(o),m=a(15),d=a(152),p=a(47),f=a(173),g=a(174);d.a.use(f.a).use(g.a).use(p.e).init({fallbackLng:"en",debug:!1,defaultNS:"Default",keySeparator:!1,interpolation:{escapeValue:!1},react:{wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}});var E,b=d.a,v=function(e,t){var a=Object(n.useState)((function(){var a=window.localStorage.getItem(t);return null!==a?JSON.parse(a):e})),r=Object(i.a)(a,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(s))}),[t,s]),[s,l]},h=(a(102),a(207),a(65)),y=a(283),O=a(73),N=a(112),S=a(107),C=a.n(S),T=a(303),k=a(296),I=a(188),P=a(309),j=a(138),w=a(304),q=a(286),A=a(307),F=a(288),D=a(287),R=(a(208),a(211),a(92)),_=function(e){var t={title:"Untitled",navigation:void 0,footer:void 0,header:!0,body:!0,headerContent:null,onNavigationClick:function(){}},a=Object.assign(t,e),s=0,l=a.footer?r.a.createElement(R.a.Footer,null,a.footer):"";return r.a.createElement(R.a,null,a.header&&r.a.createElement(R.a.Header,{className:"custom-card"},null!==a.headerContent?a.headerContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a.Title,null,a.title),r.a.createElement(j.a,{variant:"tabs",defaultActiveKey:a.navigationdefaultActiveKey},a.navigation&&a.navigation.map((function(e,t){return r.a.createElement(j.a.Item,{key:t},r.a.createElement(j.a.Link,{className:"custom-card",href:e.link,onClick:function(){return a.onNavigationClick(e.link)},style:{color:"black"}},e.name))}))))),a.body&&r.a.createElement(R.a.Body,{className:"custom-card"},r.a.Children.map(e.children,(function(e){return"object"!==typeof e?e:(s++,Object(n.cloneElement)(e,{styles:null,key:s}))}))),l)},x=a(9),L=a(7),G=(a(191),a(308),a(284)),B=a(285),U=function(e){var t=Object.assign({caption:"Submit",request:null,namespace:"Button",visible:!0,marginTop:0,timeout:15e3,onSubmit:function(){}},e),a=t.barrelGetters.request,s=t.barrelSetters.setRequest,l=t.barrelFunctions.showMessage,c=Object(n.useState)(!1),o=Object(i.a)(c,2),u=o[0],m=o[1];!function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setTimeout((function(){t>0&&a.current()}),t);return function(){return clearTimeout(e)}}}),[t])}((function(){a===t.request&&(m(!0),s(null),l("REQUEST_EXPIRED","error"))}),t.timeout);return r.a.createElement(r.a.Fragment,null,t.visible?r.a.createElement(G.a,{type:"submit",onClick:t.onSubmit,block:!0,disabled:a===t.request&&!u,style:{marginTop:t.marginTop+"px"}},r.a.createElement(B.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:a!==t.request||u}),"\xa0",t.caption,"\xa0"):r.a.createElement(r.a.Fragment,null))},V=a(306),K=a(184),z=a(185),H=a(192),M=a(194),J=function(e){Object(M.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(K.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(z.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log("Error boundary:",e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(r.a.Fragment,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),W=function(e){var t=Object.assign({namespace:"ModalMessage",centered:!0,message:"",title:null,footer:null,onHide:function(){},size:"sm",file:null,backdrop:!0},e),n=Object(y.a)([t.namespace]).t,s=null!==t.file?r.a.lazy((function(){return a(222)("./".concat(t.file))})):"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,Object.assign({},t,{size:t.size,"aria-labelledby":"contained-modal-title-vcenter",centered:t.centered,backdrop:t.backdrop}),null!==t.title&&r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(P.a,{style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"",boxShadow:"none"}},r.a.createElement(P.a.Brand,{href:"/"},r.a.createElement("img",{src:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top"})),r.a.createElement(j.a,{className:"mr-auto"},r.a.createElement(V.a.Title,{id:"contained-modal-title-vcenter"},t.title)))),r.a.createElement(V.a.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},""!==t.message?t.message:r.a.createElement(J,null,r.a.createElement(s,null))),null!==t.footer&&r.a.createElement(V.a.Footer,null,r.a.createElement(G.a,{block:!0,onClick:t.onHide},n("Close")))))},X=a(187),Y=function(e){var t=Object.assign({request:"get user sequence",namespace:"AccountRegistration"},e),a=t.barrelGetters,s=a.signedIn,l=a.accountNumber,c=(a.accountPhotoPath,a.userData),o=a.language,u=a.debug,m=t.barrelFunctions,d=m.getReviser,p=m.getWorkplace,f=m.sendRequest,g=(m.formatDate,v(!1,"userAgreementShow")),E=Object(i.a)(g,2),b=E[0],h=E[1],O=v(!1,"privacyPolicyShow"),N=Object(i.a)(O,2),S=N[0],C=N[1],T=v(null,"offsetList"),k=Object(i.a)(T,2),P=(k[0],k[1],Object(n.useState)(!1)),j=Object(i.a)(P,2),w=(j[0],j[1],Object(n.useState)("")),R=Object(i.a)(w,2),G=R[0],B=R[1],V=v("","birthYear"),K=Object(i.a)(V,2),z=K[0],H=K[1],M=v("","birthMonth"),J=Object(i.a)(M,2),Y=J[0],$=J[1],Z=v("","birthDay"),Q=Object(i.a)(Z,2),ee=Q[0],te=Q[1],ae=Object(y.a)(t.namespace).t,ne=L.b({timezone:L.c().required(ae("Timezone at birth is required")),birthYear:L.a().required(ae("Year is required")),birthMonth:L.a().required(ae("Month is required")),birthDay:L.a().required(ae("Day is required"))}),re=X.sort((function(e,t){return(e.Offset+12)%24>(t.Offset+12)%24||(e.Offset+12)%24===(t.Offset+12)%24&&e.Name>t.Name?1:-1})),se=function(e,t,a){console.log(e,t,a);var n="".concat(t,"/").concat(a,"/").concat(e);return function(e){if(!e.match(/^(0?[1-9]|1[0-2])[\/](0?[1-9]|[1-2][0-9]|3[01])[\/]\d{4}$/))return!1;var t=[];e.split("/").length>1&&(t=e.split("/"));var a=parseInt(t[0]),n=parseInt(t[1]),r=parseInt(t[2]);if(1==a||a>2){if(n>[31,28,31,30,31,30,31,31,30,31,30,31][a-1])return!1}else if(2==a){var s=!1;if((r%4||!(r%100))&&r%400||(s=!0),0==s&&n>=29)return!1;if(1==s&&n>29)return!1}return!0}(n)?""!==e&&""!==t&&""!==a?(B(""),n):(B(""),""):""!==e&&""!==t&&""!==a?(B(ae("Date must be valid")),""):(B(""),"")},le=(new Date).getFullYear();return!1===s?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"info"},r.a.createElement(F.a.Heading,null,ae("User not logged in")),r.a.createElement("p",null,r.a.createElement(q.a,{i18nKey:"AccountRegistration:Please log in first"},"Please log in first.")))):u||null===l?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{show:b,file:"".concat(o,"/UserAgreement"),size:"lg",centered:!1,title:ae("User Agreement"),footer:"",onHide:function(){return h(!1)}}),r.a.createElement(W,{show:S,file:"".concat(o,"/PrivacyPolicy"),size:"lg",centered:!1,title:ae("Privacy Policy"),footer:"",onHide:function(){return C(!1)}}),r.a.createElement(_,{title:ae("Open account")},r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.setFieldValue,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(A.a.Row,null,r.a.createElement(A.a.Group,{as:I.a,controlId:"formGridYear"},r.a.createElement(A.a.Label,null,ae("Date of birth")),r.a.createElement(A.a.Control,{custom:!0,as:"select",name:"birthYear",value:l.birthYear,onChange:function(e){s(e),H(e.target.value),B("")},isInvalid:!!c.birthYear&&i.birthYear},r.a.createElement("option",{key:"",value:""},ae("Year")),Array.from(Array(120).keys()).map((function(e){var t=le-e;return r.a.createElement("option",{key:e,value:t},t)}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.birthYear),r.a.createElement("div",{className:"invalid-feedback-custom"},G)),r.a.createElement(A.a.Group,{as:I.a,controlId:"formGridMonth"},r.a.createElement(A.a.Label,null,"\xa0"),r.a.createElement(A.a.Control,{custom:!0,as:"select",name:"birthMonth",value:l.birthMonth,onChange:function(e){s(e),$(e.target.value),B("")},isInvalid:!!c.birthMonth&&i.birthMonth},r.a.createElement("option",{key:"",value:""},ae("Month")),Array.from(Array(12).keys()).map((function(e){var t=new Date("".concat(e+1,"/1/1970")).toLocaleString(o,{month:"long"}),a=(e+1).toString().padStart(2,"0");return r.a.createElement("option",{key:e,value:a},a," - ",t)}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.birthMonth)),r.a.createElement(A.a.Group,{as:I.a,controlId:"formGridDay"},r.a.createElement(A.a.Label,null,"\xa0"),r.a.createElement(A.a.Control,{custom:!0,as:"select",name:"birthDay",value:l.birthDay,onChange:function(e){s(e),te(e.target.value),B("")},isInvalid:!!c.birthDay&&i.birthDay},r.a.createElement("option",{key:"",value:""},ae("Day")),Array.from(Array(31).keys()).map((function(e){var t=(e+1).toString().padStart(2,"0");return r.a.createElement("option",{key:e,value:t},t)}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.birthDay))),r.a.createElement(A.a.Group,{controlId:"validationFormikTimezone"},r.a.createElement(A.a.Label,null,ae("Timezone at birth")),r.a.createElement(A.a.Control,{as:"select",custom:!0,name:"timezone",value:l.timezone,onChange:s,isInvalid:!!c.timezone&&i.timezone},r.a.createElement("option",{value:""},ae("Choose...")),re.map((function(e,t){return r.a.createElement("option",{key:t,value:"".concat(((e.Offset+12)%24+1).toString().padStart(2,"0")," - ").concat(e.Name)},((e.Offset+12)%24+1).toString().padStart(2,"0")," -"," ",e.Name)}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.timezone)),r.a.createElement("div",{style:{paddingBottom:"10px"}},ae("Agree to terms and conditions")),r.a.createElement(q.a,{i18nKey:"AccountRegistration:The User Agreement and the Privacy Policy"},r.a.createElement(D.a,{style:{color:"var(--dark)"}}),r.a.createElement("a",{href:"#",onMouseDown:function(){return h(!0)}},"User Agreement"),r.a.createElement("br",null),r.a.createElement(D.a,{style:{color:"var(--dark)"}}),r.a.createElement("a",{href:"#",onMouseDown:function(){return C(!0)}},"Privacy Policy")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(U,Object.assign({},e,{caption:ae("Submit"),request:t.request,namespace:t.namespace})))},validationSchema:ne,onSubmit:function(e){delete e.birthYear,delete e.birthMonth,delete e.birthDay;var a=se(z,Y,ee);e.birthDate=a,""!==a&&(console.log(e),function(e){null!==e&&(e.reviser=d(),e.workplace=p(),e.email=c.email,f({req:t.request,data:e}))}(e))},initialValues:{timezone:"",birthYear:z,birthMonth:Y,birthDay:ee}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"info"},r.a.createElement(F.a.Heading,null,ae("Account successfully registered")),r.a.createElement("p",null,r.a.createElement(q.a,{i18nKey:"AccountRegistration:Account with your personal ID successfully registered",accountNumber:l},"Account with the personal ID",r.a.createElement("strong",null,{accountNumber:l}),"successfully registered."))))},$=a(311),Z=a(290),Q=a(137),ee=a.n(Q),te=a(315),ae=a(289),ne=a(62),re=function(e){var t=Object.assign({namespace:"Pagination",size:"md",countItems:0,itemsPerPage:5,active:0,onClick:function(){},align:"center"},e),a=Math.ceil(t.countItems/t.itemsPerPage);if(a<2)return r.a.createElement(r.a.Fragment,null);var n=function(){for(var e=[],n=function(n){1===n||n===a||n>=t.active-1&&n<=t.active+1?e.push(r.a.createElement(ne.a.Item,{key:n,active:n===t.active,onClick:function(){return function(e){switch(e){case"First":e=1;break;case"Prev":e=t.active>1?t.active-1:1;break;case"Next":e=t.active<Math.ceil(t.countItems/t.itemsPerPage)?t.active+1:Math.ceil(t.countItems/t.itemsPerPage);break;case"Last":e=Math.ceil(t.countItems/t.itemsPerPage)}t.onClick(e)}(n)}},n)):2!==n&&n!==a-1||e.push(r.a.createElement(ne.a.Ellipsis,{key:n,disabled:!0}))},s=1;s<=a;s++)n(s);return e};return r.a.createElement(r.a.Fragment,null,function(){var e=t.align;return r.a.createElement("div",{style:{textAlign:"".concat(e)}},r.a.createElement("span",{style:{display:"inline-block"}},r.a.createElement(ne.a,{size:t.size,style:{padding:0,margin:0}},a>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a.First,{onClick:function(){return t.onClick("First")}}),r.a.createElement(ne.a.Prev,{onClick:function(){return t.onClick("Prev")}})),n(),a>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a.Next,{onClick:function(){return t.onClick("Next")}}),r.a.createElement(ne.a.Last,{onClick:function(){return t.onClick("Last")}})))))}())},se=function(e){var t=Object.assign({request:"get transactions",namespace:"Transactions"},e),a=t.barrelGetters,n=a.transactions,s=a.countTransactions,l=a.activePageTransactions,i=a.transactionsPerPage,c=a.accountNumber,o=t.barrelFunctions,u=o.getTransactions,m=o.format,d=o.formatDate,p=o.formatPerCent,f=Object(y.a)([t.namespace]).t,g=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{variant:"flush"},null!==n&&n.map((function(e,t){g++;var a=e.business_title,n=e.conv_amount,s=e.created,l=e.sender_firstname,i=e.sender_lastname,o=e.purpose_id,u=e.purpose_title,E=e.recipient_id,b=e.roles,v=e.share,h=e.share_per_cent,y=e.from_account,O=e.to_account,N=e.type,S=E===c,C=f(y),T=f(O),k=null!==b&&"-"!==b&&"undefined"!==typeof b,I=k?b.split(","):[],P="undefined"!==typeof v&&null!==v&&"-"!==v;return"transfer U2S"===N?r.a.createElement(te.a.Item,{key:t,action:!0},l," ",i,r.a.createElement("span",{style:{float:"right"}},S?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement(q.a,{i18nKey:"Transactions:fromAccountToAccount",t_from_account:C,t_to_account:T},{t_from_account:C}," ",r.a.createElement(ae.a,{style:{color:"var(--dark)"}})," ",{t_to_account:T}),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):"transfer U2U"===N?r.a.createElement(te.a.Item,{key:t,action:!0},l," ",i,r.a.createElement("span",{style:{float:"right"}},S?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):"transfer V2U"===N?r.a.createElement(te.a.Item,{key:t,action:!0},f("Daily allowance"),r.a.createElement("span",{style:{float:"right"}},S?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):"transfer U2B"===N?r.a.createElement(te.a.Item,{key:t,action:!0},o,r.a.createElement("span",{style:{float:"right"}},S?"":"-",m(n)),r.a.createElement("br",null),a," \xb7 ",u,r.a.createElement("br",null),l," ",i,k&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),I.map((function(e,t){return r.a.createElement("span",{key:t}," ",r.a.createElement(Z.a,{pill:!0,variant:"secondary"},e))})))," ",P&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),v," ",f("shares")," (",p(h),")"),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):(console.log("Unknown transfer type:",N),r.a.createElement(r.a.Fragment,null))}))),0===g&&r.a.createElement("p",{className:"text-center text-muted"},f("No transactions")),r.a.createElement("br",null),r.a.createElement(re,Object.assign({},e,{size:"sm",countItems:s,itemsPerPage:i,active:l,onClick:function(e){switch(e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}u(e)}})))},le=a(310),ie=a(291),ce=function(e){var t=Object.assign({namespace:"Shareholder",request:"change share",purpose:null,shareholder:null,closeButton:!0,rangeControl:!0,sharePerCent:null,businessTitle:null,purposeTitle:null,businessOwnerFirstname:null,businessOwnerLastname:null,sharesCreated:null},e),a=t.barrelGetters.purposeShareholders,s=t.barrelSetters.setPurposeShareholders,l=t.barrelFunctions,c=l.sendRequest,o=l.formatPerCent,u=l.formatDate,m=Object(n.useState)(t.share),d=Object(i.a)(m,2),p=d[0],f=d[1],g=Object(n.useRef)(C.a.debounce((function(e){return h(e)}),2e3)).current,E=Object(y.a)([t.namespace]).t,b=function(e){f(e.target.value),g(e.target.value)},v=function(){var e={};return e.purpose_id=t.purpose,e.shareholder_id=t.shareholder,c({req:"remove shareholder",data:e})},h=function(e){var n=a;n[t.id].share=e,s(JSON.stringify(n));var r={};return r.purpose_id=t.purpose,r.shareholder_id=t.shareholder,r.share=e,c({req:t.request,data:r})};return r.a.createElement(r.a.Fragment,null,function(){var e="sharesLabel".concat(t.key);return r.a.createElement(le.a,{key:t.key,onClose:v,style:{minWidth:"100%"}},r.a.createElement(le.a.Header,{closeButton:t.closeButton},r.a.createElement("strong",{className:"mr-auto"},t.firstname," ",t.lastname," ",r.a.createElement("small",null,r.a.createElement(ie.a,{hidden:!0,fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement("small",null,r.a.createElement("span",{id:e},p)," ",E("shares"))),r.a.createElement(le.a.Body,null,r.a.createElement(A.a,null,r.a.createElement(A.a.Group,{controlId:"formRoles"},r.a.createElement("div",null,t.roles.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(Z.a,{pill:!0,variant:"secondary"},e)," ")})))),t.rangeControl&&r.a.createElement(A.a.Group,{controlId:"formBasicRange"},r.a.createElement(A.a.Control,{type:"range",variant:"light",defaultValue:p,min:1,max:1e3,step:1,onChange:b}))),r.a.createElement("span",null,null!==t.sharePerCent&&o(t.sharePerCent)," ",null!==t.businessTitle&&t.businessTitle," ",null!==t.businessTitle&&null!==t.purposeTitle&&r.a.createElement(r.a.Fragment,null," \xb7 "),null!==t.purposeTitle&&t.purposeTitle," "),null!==t.sharesCreated&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),u(t.sharesCreated,{month:"long",day:"numeric",year:"numeric"}))," ",(null!==t.businessOwnerFirstname||null!==t.businessOwnerLastname)&&r.a.createElement("br",null),null!==t.businessOwnerFirstname&&t.businessOwnerFirstname," ",null!==t.businessOwnerLastname&&t.businessOwnerLastname," "))}())},oe=function(e){var t=Object.assign({request:"get shares",namespace:"Shares"},e),a=t.barrelGetters,n=a.shares,s=a.countShares,l=a.activePageShares,i=a.sharesPerPage,c=a.userData,o=t.barrelFunctions.getShares,u=Object(y.a)([t.namespace]).t,m=0;return r.a.createElement(r.a.Fragment,null,null!==n&&n.map((function(t,a){m++;var n=t.business_title,s=t.owner_firstname,l=t.owner_lastname,i=t.purpose_id,o=t.purpose_title,u=t.shareholder_id,d=t.shares_created,p=t.share_per_cent,f=t.shares_roles,g=t.shares_share,E=null!==f?f.split(","):[];return r.a.createElement(ce,Object.assign({},e,{key:a,id:a,shareholder:u,purpose:i,firstname:c.firstname,lastname:c.lastname,share:g,roles:E,closeButton:!1,rangeControl:!1,sharePerCent:p,businessOwnerFirstname:s,businessOwnerLastname:l,businessTitle:n,purposeTitle:o,sharesCreated:d}))})),0===m&&r.a.createElement("p",{className:"text-center text-muted"},u("No shares")),r.a.createElement(re,Object.assign({},e,{size:"md",countItems:s,itemsPerPage:i,active:l,onClick:function(e){switch(console.log("on page select",e),e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}o(e)}})))},ue=function(e){var t=Object.assign({},e),a=t.barrelGetters,n=a.userData,s=a.accountNumber,l=a.accordionView,i=t.barrelSetters,c=i.setAccountType,o=i.setRedirectTo,u=i.setAccordionView,m=t.barrelFunctions,d=m.format,p=m.getAccountData,f=m.getTransactions,g=m.getShares,E=Object(y.a)("Balance").t,b=n,v=function(e){c(e),o("/transfer")},h=null!==b?d(b.acc_curr+b.acc_cred+b.acc_save):null,O=null!==b?d(b.acc_curr):null,N=null!==b?d(b.acc_cred):null,S=null!==b?d(b.acc_save):null;null===s&&o("/sign-out");var C=function(e){var t=l!==e?e:null;if(u(t),null!==t)switch(e){case"balance":p();break;case"transactions":f(1);break;case"shares":g(1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{defaultActiveKey:l},r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"accountNumber",style:{cursor:"pointer"},onClick:function(){return C("accountNumber")}},E("Account number")),r.a.createElement($.a.Collapse,{eventKey:"accountNumber"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,s)))),r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"balance",style:{cursor:"pointer"},onClick:function(){return C("balance")}},E("Balance")),r.a.createElement($.a.Collapse,{eventKey:"balance"},r.a.createElement(R.a.Body,null,r.a.createElement(A.a,{noValidate:!0},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,E("Available")),r.a.createElement(A.a.Text,null,r.a.createElement("div",{style:{fontSize:"3em"}},h))),r.a.createElement(A.a.Group,null,r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},E("Current account")),r.a.createElement("span",{className:"link",onClick:function(){return v("acc_curr")}},r.a.createElement(Z.a,{variant:"Light"},O),"\xa0",r.a.createElement(ee.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},E("Credit account")),r.a.createElement("span",{className:"link",onClick:function(){return v("acc_cred")}},r.a.createElement(Z.a,{variant:"Light"},N),"\xa0",r.a.createElement(ee.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},E("Savings account")),r.a.createElement("span",{className:"link",onClick:function(){return v("acc_save")}},r.a.createElement(Z.a,{variant:"Light"},S),"\xa0",r.a.createElement(ee.a,{style:{color:"var(--dark)"}}))))))))),r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"transactions",style:{cursor:"pointer"},onClick:function(){return C("transactions")}},E("Transactions")),r.a.createElement($.a.Collapse,{eventKey:"transactions"},r.a.createElement(R.a.Body,null,r.a.createElement(se,e)))),r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"shares",style:{cursor:"pointer"},onClick:function(){return C("shares")}},E("Shares")),r.a.createElement($.a.Collapse,{eventKey:"shares"},r.a.createElement(R.a.Body,null,r.a.createElement(oe,e))))))},me=a(292),de=function(e){var t=e.args,a=e.title,n=e.navigation,s=e.navigationdefaultActiveKey,l=e.onNavigationClick,i=Object.assign({request:"transfer U2S",namespace:"Transfer"},t),c=i.barrelGetters,o=c.userData,u=c.accountNumber,m=c.accountType,d=c.language,p=c.currencyAbbr,f=i.barrelFunctions,g=f.format,E=f.parseLocaleNumber,b=f.sendRequest,v=f.getReviser,h=f.getWorkplace,O=Object(y.a)([i.namespace]).t,N=L.b({fromAccount:L.c().required(O("From Account is required")),toAccount:L.c().required(O("To Account is required")),amount:L.c().required(O("Amount is required")).matches(new RegExp(O("Amount Regex")),O("Wrong amount format"))}),S="",C="",T="";null!==o&&(S=" ("+g(o.acc_curr)+")",C=" ("+g(o.acc_cred)+")",T=" ("+g(o.acc_save)+")");return r.a.createElement(x.a,{component:function(e){var c=e.handleSubmit,o=e.handleChange,u=(e.handleBlur,e.values),d=e.touched,f=(e.isValid,e.validateForm,e.errors);return r.a.createElement(_,{title:a,navigation:n,navigationdefaultActiveKey:s,onNavigationClick:l},r.a.createElement(A.a,{noValidate:!0,onSubmit:c},r.a.createElement(A.a.Group,{controlId:"validationFromAccount"},r.a.createElement(A.a.Label,null,O("From account")),r.a.createElement(A.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:o,isInvalid:!!f.fromAccount&&d.fromAccount},r.a.createElement("option",{value:""},O("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==m&&"acc_curr"!==m},O("Current account"),S),r.a.createElement("option",{value:"acc_cred",hidden:null!==m&&"acc_cred"!==m},O("Credit account"),C),r.a.createElement("option",{value:"acc_save",hidden:null!==m&&"acc_save"!==m},O("Savings account"),T)),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.fromAccount)),r.a.createElement(A.a.Group,{controlId:"validationToAccount"},r.a.createElement(A.a.Label,null,O("To account")),r.a.createElement(A.a.Control,{as:"select",custom:!0,name:"toAccount",onChange:o,isInvalid:!!f.toAccount&&d.toAccount},r.a.createElement("option",{value:""},O("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:"acc_curr"===m},O("Current account"),S),r.a.createElement("option",{value:"acc_cred",hidden:"acc_cred"===m},O("Credit account"),C),r.a.createElement("option",{value:"acc_save",hidden:"acc_save"===m},O("Savings account"),T)),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.toAccount)),r.a.createElement(A.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(A.a.Label,null,O("Amount")),r.a.createElement(me.a,null,r.a.createElement(me.a.Prepend,null,r.a.createElement(me.a.Text,{id:"inputGroupPrepend"},p)),r.a.createElement(A.a.Control,{placeholder:g(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:o,isInvalid:!!f.amount&&d.amount}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.amount))),r.a.createElement(U,Object.assign({},t,{caption:O("Submit"),request:"transfer U2S",namespace:i.namespace}))))},validationSchema:N,onSubmit:function(e){!function(e){e.reviser=v(),e.workplace=h(),e.uid=u,e.amount=E(e.amount,d),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2,useGrouping:!1}).format(e.amount),b({req:i.request,data:e})}(e)},initialValues:{fromAccount:"",toAccount:"",amount:""}})},pe=function(e){var t=Object.assign({namespace:"TanInput",request:"submit tan",show:!1,size:"lg"},e),a=t.barrelGetters,n=a.tanRequired,s=a.userData,l=t.barrelSetters.setTanRequired,i=t.barrelFunctions.sendRequest,c=Object(y.a)([t.namespace]).t,o=L.b({tan:L.c().required(c("TAN is required"))}),u=r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,o=(a.isValid,a.validateForm,a.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,c("A transaction number has been sent to your email account.")),r.a.createElement("br",null),r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(A.a.Group,{controlId:"validationFormikTAN"},r.a.createElement(A.a.Label,null,c("TAN")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"tan",value:l.tan,onChange:s,isInvalid:!!o.tan&&i.tan}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.tan))),r.a.createElement(U,Object.assign({},e,{caption:c("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:o,onSubmit:function(e){return l(!1),e.email=s.email,i({req:t.request,data:e})},initialValues:{tan:""}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{message:u,show:n,size:t.size,centered:!0,onHide:function(){return l(!1)}}))},fe=function(e){var t=e.args,a=e.title,n=e.navigation,s=e.navigationdefaultActiveKey,l=e.onNavigationClick,i=Object.assign({request:"transfer U2U",namespace:"Transfer"},t),c=i.barrelGetters,o=c.userData,u=c.accountNumber,m=c.language,d=c.accountType,p=c.currencyAbbr,f=c.tanRequired,g=i.barrelSetters.setTransferRequest,E=i.barrelFunctions,b=E.format,v=E.parseLocaleNumber,h=E.sendRequest,O=E.getReviser,N=E.getWorkplace,S=Object(y.a)([i.namespace]).t,C=L.b({fromAccount:L.c().required(S("From Account is required")),toPersonalID:L.c().required(S("Recipients Personal ID is required")).matches(new RegExp(S("Personal ID Regex")),S("Wrong Personal ID format")),amount:L.c().required(S("Amount is required")).matches(new RegExp(S("Amount Regex")),S("Wrong amount format"))}),T="",k="",I="";null!==o&&(T=" ("+b(o.acc_curr)+")",k=" ("+b(o.acc_cred)+")",I=" ("+b(o.acc_save)+")");return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,Object.assign({show:f,size:"sm"},t)),r.a.createElement(x.a,{component:function(e){var c=e.handleSubmit,o=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,f=(e.isValid,e.errors);return r.a.createElement(_,{title:a,navigation:n,navigationdefaultActiveKey:s,onNavigationClick:l},r.a.createElement(A.a,{noValidate:!0,onSubmit:c},r.a.createElement(A.a.Group,{controlId:"validationFromAccount"},r.a.createElement(A.a.Label,null,S("From account")),r.a.createElement(A.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:o,isInvalid:!!f.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},S("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==d&&"acc_curr"!==d},S("Current account"),T),r.a.createElement("option",{value:"acc_cred",hidden:null!==d&&"acc_cred"!==d},S("Credit account"),k),r.a.createElement("option",{value:"acc_save",hidden:null!==d&&"acc_save"!==d},S("Savings account"),I)),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.fromAccount)),r.a.createElement(A.a.Group,{controlId:"validationFormikToPersonalID"},r.a.createElement(A.a.Label,null,S("To Personal ID")),r.a.createElement(me.a,null,r.a.createElement(me.a.Prepend,null,r.a.createElement(me.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(A.a.Control,{type:"text",placeholder:S("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"toPersonalID",value:u.toPersonalID,onChange:o,isInvalid:!!f.toPersonalID&&m.toPersonalID}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.toPersonalID))),r.a.createElement(A.a.Group,{controlId:"description",name:"description",value:u.description,onChange:o},r.a.createElement(A.a.Label,null,S("Description")),r.a.createElement(A.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(A.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(A.a.Label,null,S("Amount")),r.a.createElement(me.a,null,r.a.createElement(me.a.Prepend,null,r.a.createElement(me.a.Text,{id:"inputGroupPrepend"},p)),r.a.createElement(A.a.Control,{placeholder:b(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:o,isInvalid:!!f.amount&&m.amount}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.amount))),r.a.createElement(U,Object.assign({},t,{caption:S("Submit"),request:"get tan",namespace:i.namespace}))))},validationSchema:C,onSubmit:function(e){!function(e){e.transferType=i.request,e.reviser=O(),e.workplace=N(),e.uid=u,e.email=o.email,e.language=m,e.amount=v(e.amount,m),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2,useGrouping:!1}).format(e.amount),g(JSON.stringify(e)),e={email:e.email,language:e.language},h({req:"get tan",data:e})}(e)},initialValues:{fromAccount:"",toPersonalID:"",amount:"",description:""}}))},ge=function(e){var t=e.args,a=e.title,n=e.navigation,s=e.navigationdefaultActiveKey,l=e.onNavigationClick,i=Object.assign({request:"transfer U2B",namespace:"Transfer"},t),c=i.barrelGetters,o=c.userData,u=c.accountNumber,m=c.language,d=c.accountType,p=c.currencyAbbr,f=c.tanRequired,g=i.barrelSetters.setTransferRequest,E=i.barrelFunctions,b=E.format,v=E.parseLocaleNumber,h=E.sendRequest,O=E.getReviser,N=E.getWorkplace,S=Object(y.a)([i.namespace]).t,C=L.b({fromAccount:L.c().required(S("From Account is required")),purposeID:L.c().required(S("Purpose ID is required")),amount:L.c().required(S("Amount is required")).matches(new RegExp(S("Amount Regex")),S("Wrong amount format"))}),T="",k="",I="";null!==o&&(T=" ("+b(o.acc_curr)+")",k=" ("+b(o.acc_cred)+")",I=" ("+b(o.acc_save)+")");return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,Object.assign({show:f,size:"sm"},t)),r.a.createElement(x.a,{component:function(e){var c=e.handleSubmit,o=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,f=(e.isValid,e.errors);return r.a.createElement(_,{title:a,navigation:n,navigationdefaultActiveKey:s,onNavigationClick:l},r.a.createElement(A.a,{noValidate:!0,onSubmit:c},r.a.createElement(A.a.Group,{controlId:"validationFromAccount"},r.a.createElement(A.a.Label,null,S("From account")),r.a.createElement(A.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:o,isInvalid:!!f.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},S("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==d&&"acc_curr"!==d},S("Current account"),T),r.a.createElement("option",{value:"acc_cred",hidden:null!==d&&"acc_cred"!==d},S("Credit account"),k),r.a.createElement("option",{value:"acc_save",hidden:null!==d&&"acc_save"!==d},S("Savings account"),I)),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.fromAccount)),r.a.createElement(A.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(A.a.Label,null,S("To Purpose ID")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeID",value:u.purposeID,onChange:o,isInvalid:!!f.purposeID&&m.purposeID}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.purposeID))),r.a.createElement(A.a.Group,{controlId:"description",name:"description",value:u.description,onChange:o},r.a.createElement(A.a.Label,null,S("Description")),r.a.createElement(A.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(A.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(A.a.Label,null,S("Amount")),r.a.createElement(me.a,null,r.a.createElement(me.a.Prepend,null,r.a.createElement(me.a.Text,{id:"inputGroupPrepend"},p)),r.a.createElement(A.a.Control,{type:"string",placeholder:b(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:o,isInvalid:!!f.amount&&m.amount}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},f.amount))),r.a.createElement(U,Object.assign({},t,{caption:S("Submit"),request:"get tan",namespace:i.namespace}))))},validationSchema:C,onSubmit:function(e){!function(e){e.transferType=i.request,e.reviser=O(),e.workplace=N(),e.uid=u,e.email=o.email,e.language=m,e.currency=p,e.amount=v(e.amount,m),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2,useGrouping:!1}).format(e.amount),g(JSON.stringify(e)),e={email:e.email,language:e.language},h({req:"get tan",data:e})}(e)},initialValues:{fromAccount:"",purposeID:"",amount:"",description:""}}))},Ee=a(312),be=a(293),ve=a(294),he=a(295),ye=function(e){var t=Object.assign({},e),a=t.barrelGetters.accountNumber,n=t.barrelFunctions,s=n.sendRequest,l=n.getReviser,i=n.getWorkplace,c=(t.barrelEventHandlers.onBusinessRegistration,Object(y.a)(["BusinessRegistration"]).t),o=L.b({businessTitle:L.c().required(c("Business title is a required field")).min(3,c("Business title too short")).max(70,c("Business title too long")).trim(),businessDescription:L.c().optional()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{component:function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.values),s=e.touched,l=(e.isValid,e.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:t},r.a.createElement(A.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(A.a.Label,null,c("Business Title")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"businessTitle",value:n.businessTitle,onChange:a,isInvalid:!!l.businessTitle&&s.businessTitle}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},l.businessTitle))),r.a.createElement(A.a.Group,{controlId:"businessDescription",name:"businessDescription",value:n.businessDescription,onChange:a},r.a.createElement(A.a.Label,null,c("Business Description")),r.a.createElement(A.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(G.a,{type:"submit",block:!0},c("Submit")))},validationSchema:o,onSubmit:function(e){!function(e){e.reviser=l(),e.workplace=i(),e.uid=a,s({req:"register business",data:e})}(e)},initialValues:{businessTitle:"",businessDescription:""}}))},Oe=function(e){var t=Object.assign({businessID:null,purposeID:null,title:"",description:""},e),a=t,n=t.businessID,s=t.purposeID,l=t.id,i=a.barrelGetters,c=i.accountNumber,o=i.language,u=(i.businessPurposes,a.barrelSetters.setBusinessPurposes,a.barrelFunctions),m=u.getReviser,d=u.getWorkplace,p=a.barrelEventHandlers.onPurposeRegistration,f=Object(y.a)(["PurposeRegistration"]).t,g=L.b({purposeTitle:L.c().required(f("Purpose title is a required field")).min(3,f("Purpose title too short")).max(70,f("Purpose title too long")).trim(),purposeDescription:L.c().optional()});return r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(A.a.Group,{controlId:"validationFormikPurposeID"},r.a.createElement(A.a.Label,null,f("Purpose Title")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeTitle",value:l.purposeTitle,onChange:s,isInvalid:!!c.purposeTitle&&i.purposeTitle}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.purposeTitle))),r.a.createElement(A.a.Group,{controlId:"purposeDescription"},r.a.createElement(A.a.Label,null,f("Purpose Description")),r.a.createElement(A.a.Control,{as:"textarea",rows:"3",name:"purposeDescription",value:l.purposeDescription,onChange:s})),r.a.createElement(U,Object.assign({},e,{caption:f(null===t.purposeID?"Submit":"Save"),request:"register purpose",namespace:t.namespace})))},validationSchema:g,onSubmit:function(e){!function(e){e.reviser=m(),e.workplace=d(),e.businessID=n,e.id=l,e.purposeID=s,e.uid=c,e.language=o,p({req:null===t.purposeID?"register purpose":"update purpose property",data:e})}(e)},initialValues:{purposeTitle:t.title,purposeDescription:t.description}})},Ne=function(e){var t=Object.assign({request:"register shareholder",namespace:"ShareholderRegistration"},e),a=t,n=t.purposeID,s=a.barrelGetters.accountNumber,l=a.barrelFunctions,i=l.getReviser,c=l.getWorkplace,o=l.sendRequest,u=Object(y.a)([t.namespace]).t,m=L.b({shareholderRoles:L.c().optional(),shares:L.a().typeError(u("Shares must be a number")).required(u("Shares is required")).min(1,u("Shares too few")).max(1e3,u("Shares too many"))});return r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(le.a,{style:{minWidth:"100%"}},r.a.createElement(le.a.Body,null,r.a.createElement(A.a.Group,{controlId:"validationFormikShareholderPersonalID"},r.a.createElement(A.a.Label,null,u("Shareholder Personal ID")),r.a.createElement(me.a,null,r.a.createElement(me.a.Prepend,null,r.a.createElement(me.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(A.a.Control,{type:"text",placeholder:u("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"personalID",value:l.personalID,onChange:s,isInvalid:!!c.personalID&&i.personalID}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.personalID))),r.a.createElement(A.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(A.a.Label,null,u("Shareholder Roles")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"shareholderRoles",value:l.shareholderRoles,onChange:s,isInvalid:!!c.shareholderRoles&&i.shareholderRoles}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.shareholderRoles))),r.a.createElement(A.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(A.a.Label,null,u("Shares")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"number",min:1,max:1e3,step:1,placeholder:"","aria-describedby":"inputGroupPrepend",name:"shares",value:l.shares,onChange:s,isInvalid:!!c.shares&&i.shares}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.shares))),r.a.createElement(U,Object.assign({},e,{caption:u("Submit"),request:t.request,namespace:t.namespace})))))},validationSchema:m,onSubmit:function(e){e.reviser=i(),e.workplace=c(),e.uid=s,e.purposeID=n,o({req:t.request,data:e})},initialValues:{personalID:"",shares:1,shareholderRoles:""}})},Se=function(e){var t=Object.assign({namespace:"MyBusiness"},e),a=t.barrelGetters,n=a.userBusinesses,s=a.countBusinesses,l=a.businessesPerPage,i=a.activePageBusinesses,c=a.userBusinessesLoaded,o=a.activeBusiness,u=a.activeBusinessID,m=a.businessPurposes,d=a.countBusinessPurposes,p=a.businessPurposesPerPage,f=a.activePageBusinessPurposes,g=a.activeBusinesPurpose,E=a.activePurposeProperty,b=a.purposeShareholders,v=a.activePurposeData,h=a.language,O=a.accountNumber,N=t.barrelSetters,S=N.setRedirectTo,C=N.setBusinessPurposes,T=N.setActiveBusinesPurpose,P=N.setActivePurposeProperty,j=N.setActivePurposeData,w=t.barrelFunctions,q=w.getBusinesses,F=w.getBusinessPurposes,D=w.getPurposeShareholders,_=w.sendRequest,x=Object(y.a)([t.namespace]).t,L=[],G=[],B=0;null!==n&&Object.keys(n).map((function(t,a){return L[a]=[],G[a]=[],null!==m&&Object.keys(m).map((function(s,l){return m[s].business_id===n[t].business_id&&(L[a][l]=r.a.createElement(te.a.Item,{action:!0,key:m[s].purpose_id,eventKey:m[s].purpose_id,onClick:function(){return function(e){var t=e.eventKey,a=e.purposeID;D(a,t)}({eventKey:l,purposeID:m[s].purpose_id})}},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},m[s].title),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(e){j(JSON.stringify(m[s])),T("addPurpose"),e.stopPropagation()},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),G[a][l]=r.a.createElement(Ee.a.Pane,{key:m[s].purpose_id,eventKey:m[s].purpose_id},r.a.createElement($.a,{defaultActiveKey:null!==E?E:"shareholders"},r.a.createElement(R.a,{bg:"light"},r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"pointer"},eventKey:"purpose_id",onClick:function(){return P("purpose_id")}},x("Purpose ID")),r.a.createElement($.a.Collapse,{eventKey:"purpose_id"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,m[s].purpose_id)))),r.a.createElement(R.a,{bg:"light"},r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"default"},eventKey:"title",onClick:function(){return P("title")}},r.a.createElement("span",{style:{cursor:"pointer"}},x("Purpose Title"))),r.a.createElement($.a.Collapse,{eventKey:"title"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,m[s].title)))),r.a.createElement(R.a,{bg:"light"},r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"default"},eventKey:"description",onClick:function(){return P("description")}},r.a.createElement("span",{style:{cursor:"pointer"}},x("Purpose Description"))),r.a.createElement($.a.Collapse,{eventKey:"description"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,m[s].description)))),r.a.createElement(R.a,{bg:"light"},r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"default"},eventKey:"shareholders",onClick:function(){return P("shareholders")}},r.a.createElement("span",{style:{cursor:"pointer"}},x("Purpose Shareholders")),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ve.a,{onClick:function(e){P("addShareholder"),e.stopPropagation()},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),r.a.createElement($.a.Collapse,{eventKey:"addShareholder"},r.a.createElement(R.a.Body,null,r.a.createElement(Ne,Object.assign({},e,{purposeID:m[s].purpose_id})))),r.a.createElement($.a.Collapse,{eventKey:"shareholders"},r.a.createElement(R.a.Body,null,"undefined"!==typeof b&&null!==b&&Object.keys(b).map((function(t,a){if(b[t].purpose_id===m[s].purpose_id){var n=b[t].purpose_id,l=b[t],i=l.shareholder_id,c=l.firstname,o=l.lastname,u=l.roles,d=l.share;B++;var p=null!==u?u.split(","):[];return r.a.createElement(ce,Object.assign({},e,{key:a,id:a,shareholder:i,purpose:n,firstname:c,lastname:o,share:d,roles:p}))}return""})),0===B&&r.a.createElement(R.a.Text,{className:"text-muted"},x("No shareholders"))))),r.a.createElement(R.a,{bg:"light"},r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"pointer"},eventKey:"productStatus",onClick:function(){return P("productStatus")}},x("Product Status")),r.a.createElement($.a.Collapse,{eventKey:"productStatus"},r.a.createElement(R.a.Body,{onClick:function(e){var t=m;t[s].status=0===m[s].status?1:0,C(JSON.stringify(t));var a={};return a.purpose_id=m[s].purpose_id,a.purpose_status=m[s].status,_({req:"change purpose status",data:a})}},r.a.createElement(A.a,null,"undefined"===typeof b||null===b&&r.a.createElement(A.a.Text,null,x("To publish, please add at least one shareholder"),r.a.createElement("br",null),r.a.createElement("br",null)),"undefined"!==typeof b&&null!==b&&r.a.createElement(A.a.Check,{type:"switch",disabled:"undefined"===typeof b||null===b,label:x(0===m[s].status?"Not published":"Published"),checked:1===m[s].status,onChange:function(e){console.log(e)}}))))),!1))),B=0,!0})),!0}));var U=r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{defaultActiveKey:null===o&&c?"myBusinesses":o},null!==n&&Object.keys(n).map((function(t,a){var s=new Date(n[t].created),l=new Intl.DateTimeFormat(h).format(s);return r.a.createElement(R.a,{key:a},r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:a,style:{cursor:"pointer"},onClick:function(){return function(e){var t=e.eventKey,a=e.businessID;F(a,t,1)}({eventKey:a,businessID:n[t].business_id})}},r.a.createElement(he.a,{style:{color:"var(--dark)"}})," ",n[t].title),r.a.createElement($.a.Collapse,{eventKey:a},r.a.createElement(R.a.Body,null,r.a.createElement(Ee.a.Container,{id:"left-tabs-example",defaultActiveKey:null!==g?g:"aboutBusiness"},r.a.createElement(k.a,null,r.a.createElement(I.a,{sm:5},r.a.createElement(te.a,{variant:"flush"},r.a.createElement(te.a.Item,{action:!0,eventKey:"aboutBusiness"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},x("About")),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ve.a,{onClick:function(e){j(null),T("addPurpose"),e.stopPropagation()},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),!1,L[a]),null!==d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(re,Object.assign({},e,{size:"sm",countItems:d,itemsPerPage:p,active:f,onClick:function(e){return F(u,0,e)}})))),r.a.createElement(I.a,{sm:7},r.a.createElement(Ee.a.Content,null,r.a.createElement(Ee.a.Pane,{eventKey:"aboutBusiness"},r.a.createElement($.a,{defaultActiveKey:"businessID"},r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"pointer"},eventKey:"businessID"},x("Business ID")),r.a.createElement($.a.Collapse,{eventKey:"businessID"},r.a.createElement(R.a,{border:"light"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,n[t].business_id))))),r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"pointer"},eventKey:"businessDescription"},x("Business Description")),r.a.createElement($.a.Collapse,{eventKey:"businessDescription"},r.a.createElement(R.a,{border:"light"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,n[t].description))))),r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,style:{cursor:"pointer"},eventKey:"businessCreationDate"},x("Business Created")),r.a.createElement($.a.Collapse,{eventKey:"businessCreationDate"},r.a.createElement(R.a,{border:"light"},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Text,null,l))))))),G[a],r.a.createElement(Ee.a.Pane,{eventKey:"addPurpose"},r.a.createElement($.a,{defaultActiveKey:"newPurpose"},r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"newPurpose"},x(null===v?"New Purpose":"Edit Purpose")),r.a.createElement($.a.Collapse,{eventKey:"newPurpose"},r.a.createElement(R.a.Body,null,r.a.createElement(Oe,Object.assign({},e,{businessID:n[t].business_id,id:null!==v?v.id:null,purposeID:null!==v?v.purpose_id:null,title:null!==v?v.title:"",description:null!==v?v.description:""}))))))))))))))})),!1,r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"addBusiness",style:{cursor:"pointer"}},r.a.createElement("span",null,r.a.createElement(ve.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",x("Add Business"))),r.a.createElement($.a.Collapse,{eventKey:"addBusiness"},r.a.createElement(R.a.Body,null,r.a.createElement(ye,e))))),null!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(re,Object.assign({},e,{size:"md",countItems:s,itemsPerPage:l,active:i,onClick:function(e){return q(e)}}))));return null===O&&S("/sign-out"),r.a.createElement(r.a.Fragment,null,U)},Ce=(a(230),a(297)),Te=a(298),ke=a(299),Ie=function(e){var t=Object.assign({namespace:"UserEditor",request:"update user",mode:"label"},e),a=t.barrelGetters,s=a.userData,l=a.accountNumber,c=t.barrelFunctions,o=c.sendRequest,u=c.getReviser,m=c.getWorkplace,d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],g=p[1],E=Object(n.useState)(!1),b=Object(i.a)(E,2),v=b[0],h=b[1],O=Object(n.useState)(!1),N=Object(i.a)(O,2),S=N[0],C=N[1],T=Object(n.useState)(!1),k=Object(i.a)(T,2),I=k[0],P=k[1],j=Object(n.useState)(!1),w=Object(i.a)(j,2),q=w[0],F=w[1],D=Object(n.useState)(!1),R=Object(i.a)(D,2),G=R[0],B=R[1];Object(n.useEffect)((function(){B(!!(f||v||S||I))}),[f,v,S,I]);var V=Object(y.a)([t.namespace]).t,K=function(){F(!q)},z={firstName:f?L.c().required(V("First name is required")):L.c().optional(),lastName:v?L.c().required(V("Last name is required")):L.c().optional(),email:S?L.c().email(V("Invalid email address")).required(V("Email is required")):L.c().optional(),password:I?L.c().required(V("No password provided")).min(8,V("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,V("Password is too weak")):L.c().optional()},H=L.b(z);if(null===s)return r.a.createElement(r.a.Fragment,null);var M=t.mode,J=s.firstname,W=s.lastname,X=s.email,Y="label"===M?r.a.createElement("span",{style:{whiteSpace:"nowrap"}},J," ",W):r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,i=(a.handleBlur,a.values),c=a.touched,o=(a.isValid,a.validateForm,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(_,{title:V("Profile")},r.a.createElement(te.a,{variant:"flush"},r.a.createElement(te.a.Item,{as:"div",action:!0},r.a.createElement(A.a.Label,null,V("First name")),f?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(Ce.a,{onClick:function(){return g(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return g(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,J)),f&&r.a.createElement(A.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:V("Enter first name"),name:"firstName",value:i.firstName,onChange:s,isInvalid:!!o.firstName&&c.firstName}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.firstName)))),r.a.createElement(te.a.Item,{as:"div",action:!0},r.a.createElement(A.a.Label,null,V("Last name")),v?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(Ce.a,{onClick:function(){return h(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return h(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,W)),v&&r.a.createElement(A.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:V("Enter last name"),name:"lastName",value:i.lastName,onChange:s,isInvalid:!!o.lastName&&c.lastName}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.lastName)))),null!==l&&r.a.createElement(te.a.Item,{as:"div",action:!0},r.a.createElement(A.a.Label,null,V("Email address")),S?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(Ce.a,{onClick:function(){return C(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return C(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,X)),S&&r.a.createElement(A.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{placeholder:V("Enter email"),name:"email",value:i.email,onChange:s,isInvalid:!!o.email&&c.email}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.email)))),r.a.createElement(te.a.Item,{as:"div",action:!0},r.a.createElement(A.a.Label,null,V("Password")),I?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(Ce.a,{onClick:function(){return P(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return P(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:q?"text":"password",placeholder:V("Enter new password"),name:"password",value:i.password,onChange:s,isInvalid:!!o.password&&c.password}),r.a.createElement(me.a.Append,null,r.a.createElement(me.a.Text,{id:"inputGroupAppend",onClick:K,style:{cursor:"pointer"}},q?r.a.createElement(Te.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}):r.a.createElement(ke.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.password)))))),r.a.createElement(A.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(U,Object.assign({},e,{caption:V("Submit"),visible:G,marginTop:20,request:t.request,namespace:t.namespace})))))},validationSchema:H,onSubmit:function(e){e.personalID=l,f||(e.firstname=null),v||(e.lastname=null),S||(e.email=s.email),I||(e.password=null),function(e){null!==e&&(e.reviser=u(),e.workplace=m(),o({req:t.request,data:e}))}(e)},initialValues:{firstName:s.firstname,lastName:s.lastname,email:s.email,password:""}});return r.a.createElement(r.a.Fragment,null,Y)},Pe=a(300),je=function(e){var t=Object.assign({request:"register currency",namespace:"Currencies"},e),a=t.barrelGetters,n=a.currencies,s=a.settings,l=a.countCurrencies,i=a.activePageCurrencies,c=a.currenciesPerPage,o=a.currencyAbbr,u=a.userData,m=t.barrelSetters.setCurrencyAbbr,d=t.barrelFunctions,p=d.sendRequest,f=d.getCurrencies,g=d.formatExchangeRate,E=Object(y.a)([t.namespace]).t,b=function(e){m(e.target.id),p({req:"register user currency",data:{email:u.email,currency_id:e.target.id}})},v=function(e){switch(e){case"First":e=1;break;case"Prev":e=i>1?i-1:1;break;case"Next":e=i<Math.ceil(l/c)?i+1:Math.ceil(l/c);break;case"Last":e=Math.ceil(l/c)}f(e)};return r.a.createElement(x.a,{component:function(t){t.handleSubmit,t.handleChange,t.handleBlur,t.values,t.touched,t.isValid,t.validateForm,t.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"}},E("Select")),r.a.createElement("th",{style:{textAlign:"center"}},E("Abbr")),r.a.createElement("th",{style:{textAlign:"center"}},E("Name")),r.a.createElement("th",{style:{textAlign:"center"}},E("Region")),r.a.createElement("th",{style:{textAlign:"center"}},E("Rate")))),r.a.createElement("tbody",null,null!==n&&n.map((function(e,t){var a=e.name,n=e.abbr,l=e.rate,i=e.region;return"undefined"===typeof s.currencies||null===s.currencies||0===s.currencies.length||s.currencies.includes(n)?r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(A.a.Check,{type:"radio",checked:o===n,name:"selected-currency",id:n,"aria-label":"option 1",onChange:b})),r.a.createElement("td",{style:{textAlign:"center"}},n),r.a.createElement("td",{style:{textAlign:"left"}},a),r.a.createElement("td",{style:{textAlign:"left"}},i),r.a.createElement("td",{style:{textAlign:"right"}},g(l))):""})))),r.a.createElement(re,Object.assign({},e,{pages:Math.ceil(l/c),active:i,onClick:v})))},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},we=function(e){var t=Object.assign({namespace:"CurrencyRegistration",request:"register currency"},e),a=t.barrelFunctions,n=a.getReviser,s=a.getWorkplace,l=a.sendRequest,i=Object(y.a)(["CurrencyRegistration"]).t,c=L.b({curr_abbr:L.c().required(i("Currency abbreviation is required")).min(3,i("Currency abbreviation is too short")).max(5,i("Currency abbreviation is too long")),curr_title:L.c().required(i("Currency name is required")).min(3,i("Currency name is too short")).max(70,i("Currency name is too long")),curr_region:L.c().required(i("Currency region is required")).min(3,i("Currency region is too short")).max(70,i("Currency region is too long")),curr_rate:L.c().required(i("Exchange rate is required")).matches(new RegExp(i("Exchange Rate Regex")),i("Wrong exchange rate format"))});return r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),c=a.touched,o=(a.isValid,a.validateForm,a.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(A.a.Group,{controlId:"validationFormikCurrAbbr"},r.a.createElement(A.a.Label,null,i("Abbreviation")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_abbr",value:l.curr_abbr,onChange:s,isInvalid:!!o.curr_abbr&&c.curr_abbr}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.curr_abbr))),r.a.createElement(A.a.Group,{controlId:"validationFormikCurrName"},r.a.createElement(A.a.Label,null,i("Currency Name")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_title",value:l.curr_title,onChange:s,isInvalid:!!o.curr_title&&c.curr_title}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.curr_title))),r.a.createElement(A.a.Group,{controlId:"validationFormikCurrRegion"},r.a.createElement(A.a.Label,null,i("Currency Region")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_region",value:l.curr_region,onChange:s,isInvalid:!!o.curr_region&&c.curr_region}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.curr_region))),r.a.createElement(A.a.Group,{controlId:"validationFormikCurrRate"},r.a.createElement(A.a.Label,null,i("Initial Exchange Rate")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_rate",value:l.curr_rate,onChange:s,isInvalid:!!o.curr_rate&&c.curr_rate}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.curr_rate))),r.a.createElement(U,Object.assign({},e,{caption:i("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:c,onSubmit:function(e){return console.log(e),e.reviser=n(),e.workplace=s(),l({req:t.request,data:e})},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},qe=a(313),Ae=a(301),Fe=a(302),De=function(e){var t={namespace:"IdleTimer",timeout:300,timestamp:null,stage2:60,stage3:20,onTick:function(){},onTimerReset:function(){},onTimeout:function(){},events:["load","mousemove","mousedown","click","scroll","keypress"]},a=Object.assign(t,e),s=(a.barrelGetters.session,a.barrelFunctions.formatDate),l=a.barrelEventHandlers.onSessionTimeout,c=Object(y.a)(a.namespace).t,o=Object(n.useState)(a.timeout),u=Object(i.a)(o,2),m=u[0],d=u[1],p=r.a.useState(!1),f=Object(i.a)(p,2),g=f[0],E=f[1];!function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){t>0&&a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){d(m-1),a.onTick(m)}),1e3),function(e,t){var a=Object.assign({namespace:"EventListener",onTimeout:function(){},events:["load","mousemove","mousedown","click","scroll","keypress"]},{events:t});Object(n.useEffect)((function(){var t=function(t){e(t)};for(var n in a.events)window.addEventListener(a.events[n],t);return function(){for(var e in a.events)window.removeEventListener(a.events[e],t)}}),[])}((function(){d(a.timeout),a.onTimerReset()}),["mousedown","click","scroll","keypress"]),Object(n.useEffect)((function(){m===a.timeout&&E(!1),m===a.stage3&&E(!0),0===m&&l()}),[m]);return r.a.createElement(r.a.Fragment,null,function(){var t;t=m>a.stage2?Math.ceil(m/60):m;var n=s(new Date(1970,1,1,0,0,t),{minute:"numeric",second:"numeric"}),l=r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{i18nKey:"IdleTimer:Automatic logout",timeFormatted:n},r.a.createElement("div",{className:"text-center"},"Automatic logout in"),r.a.createElement("div",{className:"text-center",style:{fontSize:"4em",fontWeight:"bold",color:"#A93226"}},{timeFormatted:n}),r.a.createElement("div",{className:"text-center"},"Do you want to continue the session?")),r.a.createElement("br",null),r.a.createElement(U,Object.assign({},e,{caption:c("Continue now"),request:"continue session",onSubmit:function(){d(a.timeout),E(!1)},namespace:a.namespace})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{show:g,message:l,onHide:function(){return E(!1)}}),r.a.createElement(qe.a,{placement:"bottom",overlay:r.a.createElement(Ae.a,null,m>a.stage2?r.a.createElement(q.a,{i18nKey:"IdleTimer:Minutes to automatical log out",currTime:t},"You will be automatically logged out in ",{currTime:t}," ","minutes."):r.a.createElement(q.a,{i18nKey:"IdleTimer:Seconds to automatical log out",currTime:t},"You will be automatically logged out in ",{currTime:t}," ","seconds."))},r.a.createElement("div",{style:{whiteSpace:"nowrap",cursor:"default"}},r.a.createElement(Fe.a,{style:{color:"var(--dark)"}}),"\xa0",m>a.stage2?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-sm-inline text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:minutes",currTime:t},{currTime:t}," minutes")),r.a.createElement("span",{className:"d-inline d-sm-none text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:min",currTime:t},{currTime:t}," min"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-sm-inline text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:seconds",currTime:t},{currTime:t}," seconds")),r.a.createElement("span",{className:"d-inline d-sm-none text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:sec",currTime:t},r.a.createElement("span",null,{currTime:t})," sec"))))))}())},Re=function(e){var t=Object.assign({},e),a=t.barrelGetters.ip,n=t.barrelSetters,s=n.setLoggingIn,l=n.setUpdateInterval,i=t.barrelFunctions,c=i.getReviser,o=i.getWorkplace,u=i.sendRequest,m=i.getUri,d=Object(y.a)("LogIn").t,p=L.b({email:L.c().email(d("Invalid email address")).required(d("Email is required")),password:L.c().required(d("No password provided"))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{component:function(t){var a=t.handleSubmit,n=t.handleChange,s=(t.handleBlur,t.values),l=t.touched,i=(t.isValid,t.validateForm,t.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:a},r.a.createElement("h3",null,d("Sign In")),r.a.createElement(A.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(A.a.Label,null,d("Email address")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{placeholder:d("Enter email"),name:"email",value:s.email,onChange:n,isInvalid:!!i.email&&l.email}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},i.email))),r.a.createElement(A.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(A.a.Label,null,d("Password")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"password",placeholder:d("Enter password"),name:"password",value:s.password,onChange:n,isInvalid:!!i.password&&l.password}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},i.password))),r.a.createElement(A.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(U,Object.assign({},e,{caption:d("Submit"),request:"sign in user",namespace:"LogIn"}))),r.a.createElement(T.a,{fluid:"md"},r.a.createElement(k.a,null,r.a.createElement(I.a,null,r.a.createElement("p",{className:"other-options text-left"},r.a.createElement(q.a,{i18nKey:"LogIn:Not yet registered"},"Not yet ",r.a.createElement("a",{href:"/sign-up"},"registered?")))),r.a.createElement(I.a,null,r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(q.a,{i18nKey:"LogIn:Forgot password"},"Forgot ",r.a.createElement("a",{href:"/reset"},"password?")))))))},validationSchema:p,onSubmit:function(e){l(-1),s(!0),function(e){e.reviser=c(),e.workplace=o(),e.ip=a,e.uri=m(),u({req:"sign in user",data:e})}(e)},initialValues:{email:"",password:"",rememberMe:""}}))},_e=function(e){var t=Object.assign({namespace:"Summary"},e),a=t.barrelGetters,s=a.settings,l=a.signedIn,c=a.accountNumber,o=a.sessionTimeout,u=t.barrelFunctions,d=u.getBusinesses;u.sendRequest;Object(N.a)(t.barrelEventHandlers);var p=Object(y.a)(t.namespace).t;if(!1===l)return r.a.createElement(r.a.Fragment,null,"User not logged in");var f=Object(m.g)(),g=r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{fluid:!0,style:{paddingRight:"0",paddingLeft:"0"}},r.a.createElement(k.a,null,r.a.createElement(I.a,null,r.a.createElement(P.a,{style:{borderRadius:"5px",backgroundColor:"var(--light)",boxShadow:"none"}},r.a.createElement(P.a.Brand,{href:"/"},r.a.createElement("img",{src:null!==s&&"undefined"!==typeof s.logo?s.logo:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top"})),r.a.createElement(j.a,{className:"mr-auto"},r.a.createElement(j.a.Link,{eventKey:"profile",href:"/profile"},r.a.createElement(Ie,e))),r.a.createElement(j.a,null,r.a.createElement(j.a.Link,{eventKey:"sign-out",href:"/sign-out"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement("span",null,r.a.createElement(w.a,{style:{color:"var(--dark)"}})),r.a.createElement("span",{className:"d-none d-sm-inline"},"\xa0",p("Sign out"))))),r.a.createElement(j.a,null,r.a.createElement(j.a.Item,null,r.a.createElement(De,Object.assign({timeout:o},e))))))),r.a.createElement(k.a,null,r.a.createElement(I.a,null,r.a.createElement("div",{style:{height:"7px"}}),r.a.createElement(P.a,{collapseOnSelect:!0,expand:"sm",variant:"dark",style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"var(--dark)",boxShadow:"none"}},r.a.createElement(j.a,null,r.a.createElement(j.a.Link,{className:"nav-link-2",eventKey:"balance",href:"/balance",style:{fontWeight:"/balance"===f.pathname?"bold":"normal"}},p("Balance"))),r.a.createElement(P.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(P.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(j.a,{className:"mr-auto"},null!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Link,{className:"nav-link-2",eventKey:"transfer",href:"/transfer",style:{fontWeight:"/transfer"===f.pathname?"bold":"normal"}},p("Transfer")),r.a.createElement(j.a.Link,{className:"nav-link-2",eventKey:"my-business",onClick:function(){return d(1)},href:"#",style:{fontWeight:"/my-business"===f.pathname?"bold":"normal"}},p("Business")),null!==s&&"undefined"!==typeof s.currencies&&(null===s.currencies||0===s.currencies.length||s.currencies.length>1)&&r.a.createElement(j.a.Link,{className:"nav-link-2",eventKey:"currency",href:"/currency",style:{fontWeight:"/currency"===f.pathname?"bold":"normal"}},p("Currency")))))))))),E=r.a.createElement(h.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:function(){return null!==c?ue(e):Y(e)}}),r.a.createElement(m.b,{exact:!0,path:"/summary",component:function(){return null!==c?ue(e):Y(e)}}),r.a.createElement(m.b,{exact:!0,path:"/account-registration",component:function(){return Y(e)}}),r.a.createElement(m.b,{exact:!0,path:"/profile",component:function(){return Ie(Object(O.a)({},e,{mode:"profile"}))}}),null!==s&&"undefined"!==typeof s.currencies&&(null===s.currencies||0===s.currencies.length||s.currencies.length>1)&&r.a.createElement(m.b,{exact:!0,path:"/currency",component:function(){return function(e){var t=Object.assign({namespace:"CurrencyContainer"},e),a=t.barrelGetters,n=a.settings,s=a.accordionViewCurrency,l=a.activePageCurrencies,i=a.accountNumber,c=t.barrelSetters,o=c.setAccordionViewCurrency,u=c.setRedirectTo,m=t.barrelFunctions.getCurrencies,d=Object(y.a)([t.namespace]).t;return null===i&&u("/sign-out"),"undefined"!==typeof n.currencies&&null!==n.currencies&&n.currencies.length<2?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{defaultActiveKey:s},r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"currencies",style:{cursor:"pointer"},onClick:function(){o("currencies"),m(l)}},d("Currencies")),r.a.createElement($.a.Collapse,{eventKey:"currencies"},r.a.createElement(R.a.Body,null,r.a.createElement(je,e)))),"undefined"!==typeof n.currencyCreationAllowed&&n.currencyCreationAllowed&&r.a.createElement(R.a,null,r.a.createElement($.a.Toggle,{as:R.a.Header,eventKey:"currencyRegistration",style:{cursor:"pointer"},onClick:function(){o("currencyRegistration")}},d("Currency Registration")),r.a.createElement($.a.Collapse,{eventKey:"currencyRegistration"},r.a.createElement(R.a.Body,null,r.a.createElement(we,e))))))}(Object(O.a)({},e))}}),r.a.createElement(m.b,{exact:!0,path:"/my-business",component:function(){return Se(e)}}),r.a.createElement(m.b,{exact:!0,path:"/balance",component:function(){return ue(e)}}),r.a.createElement(m.b,{exact:!0,path:"/transfer",component:function(){return function(e){var t=Object.assign({},e),a=t.barrelGetters,s=a.accountNumber,l=a.transferType,c=t.barrelSetters.setRedirectTo,o=t.barrelFunctions.format,u=t.barrelEventHandlers.onTransferTypeChange,m=Object(y.a)("Transfer").t,d=t.data,p=l,f=Object(n.useState)(null),g=Object(i.a)(f,2),E=g[0],b=g[1],v=function(e){u(e)},h=[{name:m("U2S"),link:"#u2s"},{name:m("U2U"),link:"#u2u"},{name:m("U2B"),link:"#u2b"}];return Object(n.useEffect)((function(){if(null!==p)switch(p){case"#u2s":b(r.a.createElement(de,{title:m("Transfer to account"),args:t,navigation:h,navigationdefaultActiveKey:p,onNavigationClick:v}));break;case"#u2u":b(r.a.createElement(fe,{title:m("Transfer to account"),args:t,navigation:h,navigationdefaultActiveKey:p,onNavigationClick:v}));break;case"#u2b":b(r.a.createElement(ge,{title:m("Transfer to account"),args:t,navigation:h,navigationdefaultActiveKey:p,onNavigationClick:v}))}}),[d,o,p]),null===s&&c("/sign-out"),r.a.createElement(r.a.Fragment,null,E)}(e)}}),r.a.createElement(m.b,{exact:!0,path:"/contact",component:function(){return function(e){var t=Object.assign({namespace:"Contact",request:"send message"},e),a=t.barrelGetters,n=a.language,s=a.accountNumber,l=t.barrelFunctions.sendRequest,i=Object(y.a)([t.namespace]).t,c=L.b({subject:L.c().required(i("Subject is required"))});return r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),c=a.touched,o=(a.isValid,a.validateForm,a.errors);return r.a.createElement(_,{header:!1},r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(A.a.Group,{controlId:"validationFormikSubject"},r.a.createElement(A.a.Label,null,i("Subject")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"string",placeholder:i("Enter message subject"),"aria-describedby":"inputGroupPrepend",name:"subject",value:l.subject,onChange:s,isInvalid:!!o.subject&&c.subject}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},o.subject))),r.a.createElement(A.a.Group,{controlId:"validationFormikMessage"},r.a.createElement(A.a.Label,null,i("Message")),r.a.createElement(A.a.Control,{placeholder:i("Enter message"),name:"message",value:l.message,onChange:s,as:"textarea",rows:"10"})),r.a.createElement(U,Object.assign({},e,{caption:i("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:c,onSubmit:function(e){e.sender=s,e.language=n,l({req:t.request,data:e})},initialValues:{subject:"",message:""}})}(e)}})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{fluid:"md"},r.a.createElement(k.a,null,r.a.createElement(I.a,null,g,r.a.createElement("div",{style:{height:"7px"}}))),r.a.createElement(k.a,null,r.a.createElement(I.a,null,E))))},xe={uri:{ENDPOINT:"http://localhost:9000"}};switch(window&&window.location&&window.location.hostname){case"localhost":E=xe;break;case"192.168.2.100":E={uri:{ENDPOINT:"http://192.168.2.100:5000"}};break;case"dev.zime.lv":E={uri:{ENDPOINT:"https://dev.zime.lv"}};break;case"zime.lv":E={uri:{ENDPOINT:"https://zime.lv"}};break;default:E=xe}var Le=Object(O.a)({},E),Ge=a(190),Be=a.n(Ge).a.connect(Le.uri.ENDPOINT,{secure:!0,reconnect:!0}),Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&console.log("request: ".concat(e.req),e),Be.emit("onDataReceived",e),!0},Ve=function(e){var t=Object.assign({request:"register user",namespace:"SignUp"},e),a=t.barrelGetters.language,s=t.barrelFunctions,l=s.getReviser,c=s.getWorkplace,o=s.sendRequest,u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(y.a)(t.namespace).t,g=L.b({firstName:L.c().required(f("First name is required")),lastName:L.c().required(f("Last name is required")),email:L.c().email(f("Invalid email address")).required(f("Email is required")),password:L.c().required(f("No password provided")).min(8,f("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,f("Password is too weak"))}),E=function(){p(!d)};return r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,f("Sign Up")),r.a.createElement(A.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(A.a.Label,null,f("First name")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:f("Enter first name"),name:"firstName",value:l.firstName,onChange:s,isInvalid:!!c.firstName&&i.firstName}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.firstName))),r.a.createElement(A.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(A.a.Label,null,f("Last name")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:"text",placeholder:f("Enter last name"),name:"lastName",value:l.lastName,onChange:s,isInvalid:!!c.lastName&&i.lastName}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.lastName))),r.a.createElement(A.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(A.a.Label,null,f("Email address")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{placeholder:f("Enter email"),name:"email",value:l.email,onChange:s,isInvalid:!!c.email&&i.email}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.email))),r.a.createElement(A.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(A.a.Label,null,f("Password")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:d?"text":"password",placeholder:f("Enter password"),name:"password",value:l.password,onChange:s,isInvalid:!!c.password&&i.password}),r.a.createElement(me.a.Append,null,r.a.createElement(me.a.Text,{id:"inputGroupAppend",onClick:E,style:{cursor:"pointer"}},d?r.a.createElement(Te.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(ke.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.password))),r.a.createElement(A.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(U,Object.assign({},e,{caption:f("Submit"),request:t.request,namespace:t.namespace}))),r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(q.a,{i18nKey:"SignUp:Already registered"},"Already registered ",r.a.createElement("a",{href:"/sign-in"},"sign in?"))))},validationSchema:g,onSubmit:function(e){!function(e){null!==e&&(e.reviser=l(),e.workplace=c(),e.language=a,e.validateEmail=!0,o({req:t.request,data:e}))}(e)},initialValues:{firstName:"",lastName:"",email:"",password:""}})},Ke=function(e){var t=Object.assign({},e.data),a=t.barrelGetters,n=a.error,s=a.info,l=t.barrelEventHandlers.onAlertClose;if(null!==n){var i=Object(y.a)("Errors").t;return r.a.createElement(F.a,{variant:"danger",onClose:function(){return l()},dismissible:!0},i(n))}if(null!==s){var c=Object(y.a)("Infos").t;return r.a.createElement(F.a,{variant:"info",onClose:function(){return l()},dismissible:!0},c(s))}return r.a.createElement(r.a.Fragment,null)},ze=function(e){var t=Object.assign({namespace:"CurrencyContainer"},e),a=t.barrelGetters.userData,n=t.barrelFunctions.sendRequest,s=(Object(y.a)("LanguageSelector").t,function(e){b.changeLanguage(e)}),l=function(e){s(e),null!==a&&n({req:"register user language",data:{email:a.email,language:e}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"7px"}}),r.a.createElement(Z.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){l("en")}},"en")," ",r.a.createElement(Z.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){l("lv")}},"lv"))},He=function(e){var t=Object.assign({namespace:"Main"},e),a=e,s=t.barrelGetters,l=s.session,c=(s.instance,s.debug,s.signedIn),o=s.dailyAllowanceDispatched,u=s.accountNumber,d=(s.updateInterval,s.externalRequest),p=s.cartContent,f=s.validateTokenEmail,g=s.passwordResetTokenValidated,E=s.validateTokenPasswordReset,b=s.connected,v=s.isExternalRequest,O=t.barrelSetters,N=O.setUpdateInterval,S=O.setDailyAllowanceDispatched,C=(O.setSignedIn,O.setRedirectTo,O.setIsExternalRequest),T=t.barrelFunctions,k=(T.processResponse,T.getIP),I=T.getCart,P=T.getCartPurposes,j=T.getAccountData,w=T.sendRequest,q=T.sendEmailValidationRequest,F=T.sendPasswordResetRequest,D=T.getContainerClass,R=T.getRedirect,G=t.barrelEventHandlers,V=G.onRedirect,K=G.onSessionStart,z=(G.onSessionEnd,Object(y.a)(t.namespace).t);Object(n.useEffect)((function(){return k(),I(),function(){}}),[]),Object(n.useEffect)((function(){null!==l&&K()}),[l]),Object(n.useEffect)((function(){}),[b]),Object(n.useEffect)((function(){c&&(N(-1),null===u||o||(j(),w({req:"dispatch daily allowance",data:{uid:u}}),S(!0)),null!==u?v&&(C(!1),V("/auth")):V("/account-registration"))}),[c]),Object(n.useEffect)((function(){}),[u]),Object(n.useEffect)((function(){if(null!==d){var e={customer:u,cart:d.cart};w({req:"get cart",data:e})}}),[JSON.stringify(d)]),Object(n.useEffect)((function(){null!==p&&P()}),[JSON.stringify(p)]),Object(n.useEffect)((function(){null!==f&&q(JSON.parse(f))}),[f]),Object(n.useEffect)((function(){null!==g&&V("/password")}),[g]),Object(n.useEffect)((function(){null!==E&&F(JSON.parse(E))}),[E]);var H=D(c),M=H.wrapperClass,J=H.innerClass,W=c?"App":"App bg";return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,R(),r.a.createElement("div",{className:W,style:{}},r.a.createElement("div",{className:M,style:{}},r.a.createElement("div",{className:"d-none d-md-block",style:{height:"1rem"}}),r.a.createElement("div",{className:J},r.a.createElement("div",{style:{height:"16px"}}),r.a.createElement("div",null,r.a.createElement(Ke,{data:a})),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:function(){return c?_e(a):Re(a)}}),r.a.createElement(m.b,{exact:!0,path:"/sign-in",component:function(){return Re(a)}}),r.a.createElement(m.b,{exact:!0,path:"/sign-up",component:function(){return Ve(a)}}),r.a.createElement(m.b,{exact:!0,path:"/auth",component:function(){return c?function(e){var t=Object.assign({namespace:"Checkout"},e),a=t.barrelGetters,n=(a.externalRequest,a.accountNumber,a.cartContent),s=a.cartPurposes,l=t.barrelFunctions,i=(l.sendRequest,l.format),c=Object(y.a)([t.namespace]).t,o=function(){var e=0,t=0;return r.a.createElement(r.a.Fragment,null,null!==n&&n.map((function(a,n){e+=a.price*a.amount;var l="N";null!==s&&("undefined"!==typeof s.find((function(e){return e.purpose_id===a.product}))&&(l="Y",t+=a.price*a.amount));return r.a.createElement("div",{key:n},r.a.createElement("div",null,"product: ",a.product),r.a.createElement("div",null,"price: ",a.price),r.a.createElement("div",null,"amount: ",a.amount),r.a.createElement("div",null,"found: ",l),r.a.createElement("br",null))})),r.a.createElement("div",null,"Total: ",i(e)),r.a.createElement("div",null,"Real: ",i(t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{title:c("Checkout")},r.a.createElement("div",null,r.a.createElement(o,null))))}(a):Re(a)}}),r.a.createElement(m.b,{exact:!0,path:"/validate-email",component:function(){return function(e){var t=Object.assign({namespace:"ValidateEmail"},e),a=t.barrelGetters,s=(a.validateTokenEmail,a.validationTokenEmail),l=a.validationTokenEmailResent,i=a.language,c=t.barrelSetters.setValidateTokenEmail,o=t.barrelFunctions,u=o.getUrlParam,m=o.sendRequest,d=Object(y.a)([t.namespace]).t,p=u("token"),f=u("email");Object(n.useEffect)((function(){null!==p&&null!==f&&c(JSON.stringify({token:p,email:f}))}),[]);var g=function(e){m({req:"resend validate email token",data:{token:s.token,email:s.email,language:i}})};return r.a.createElement(r.a.Fragment,null,null===p?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,d("A verification link has been sent to your email account.")),r.a.createElement("hr",null),r.a.createElement("p",null,d("Please click on the link that has just been sent to your email account")),l<5&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("h5",null,d("Didn't receive email?")),r.a.createElement(U,Object.assign({},e,{caption:d("Submit"),visible:!0,marginTop:20,request:"resend validate email token",namespace:t.namespace,onSubmit:g})))):r.a.createElement("div",{className:"text-center"},r.a.createElement(B.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1})))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/password",component:function(){return function(e){var t=Object.assign({namespace:"ChangePassword",request:"change password",email:null},e),a=t.barrelGetters,s=a.passwordResetTokenValidated,l=a.passwordResetTokenEmail,c=t.barrelFunctions.sendRequest,o=Object(y.a)([!0===s?"SignUp":"ChangePassword"]).t,u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],f=function(){p(!d)},g=L.b({password:L.c().required(o("No password provided")).min(8,o("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,o("Password is too weak"))});return!0===s?r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement(A.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(A.a.Label,null,o("New password")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{type:d?"text":"password",placeholder:o("Enter password"),name:"password",value:l.password,onChange:s,isInvalid:!!c.password&&i.password}),r.a.createElement(me.a.Append,null,r.a.createElement(me.a.Text,{id:"inputGroupAppend",onClick:f,style:{cursor:"pointer"}},d?r.a.createElement(Te.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(ke.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.password))),r.a.createElement(U,Object.assign({},e,{caption:o("Submit"),request:t.request,namespace:t.namespace})))},validationSchema:g,onSubmit:function(e){return e.email=l,c({req:t.request,data:e})},initialValues:{password:""}}):r.a.createElement(r.a.Fragment,null,o("Awaiting validation"))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/profile",component:function(){return c?_e(a):Re(a)}}),r.a.createElement(m.b,{exact:!0,path:"/currency",component:function(){return c?_e(a):Re(a)}}),r.a.createElement(m.b,{exact:!0,path:"/sign-out",component:function(){return function(e){var t=Object.assign({},e),a=Object(y.a)("Logout").t,s=t.barrelGetters,l=s.error,i=s.info,c=s.language,o=t.barrelSetters.setLanguage,u=t.barrelFunctions.showMessage,m=t.barrelEventHandlers,d=m.onLogOut;m.onSessionStart;return Object(n.useEffect)((function(){var e=l,t=i,a=c;d(),o(a),null!==e?u(e,"error"):null!==t&&u(t,"info")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,a("See you soon")),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},r.a.createElement("a",{href:"/"},a("Sign in"))))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/reset",component:function(){return function(e){var t=Object.assign({namespace:"ResetPassword",request:"reset password"},e),a=t.barrelGetters.language,s=t.barrelSetters.setValidateTokenPasswordReset,l=t.barrelFunctions,i=l.sendRequest,c=l.getUrlParam,o=Object(y.a)(t.namespace).t,u=c("token"),m=c("email");Object(n.useEffect)((function(){null!==u&&null!==m&&s(JSON.stringify({token:u,email:m}))}),[]);var d=L.b({email:L.c().email(o("Invalid email address")).required(o("Email is required"))});return null===u?r.a.createElement(x.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(A.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,o("Reset password")),r.a.createElement(A.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(A.a.Label,null,o("Email address")),r.a.createElement(me.a,null,r.a.createElement(A.a.Control,{placeholder:o("Enter email"),name:"email",value:l.email,onChange:s,isInvalid:!!c.email&&i.email}),r.a.createElement(A.a.Control.Feedback,{type:"invalid"},c.email))),r.a.createElement(A.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(U,Object.assign({},e,{caption:o("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:d,onSubmit:function(e){e.language=a,i({req:t.request,data:e})},initialValues:{email:""}}):r.a.createElement("div",{className:"text-center"},r.a.createElement(B.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1}))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/account-registration",component:function(){return _e(a)}}),r.a.createElement(m.b,{exact:!0,path:"/business-registration",component:function(){return _e(a)}}),r.a.createElement(m.b,{exact:!0,path:"/my-business",component:function(){return _e(a)}}),r.a.createElement(m.b,{exact:!0,path:"/balance",component:function(){return _e(a)}}),r.a.createElement(m.b,{exact:!0,path:"/transfer",component:function(){return _e(a)}}),r.a.createElement(m.b,{exact:!0,path:"/contact",component:function(){return _e(a)}}),r.a.createElement(m.b,{exact:!0,path:"/summary",component:function(){return _e(a)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{style:{width:"40%"}},r.a.createElement(ze,a)),r.a.createElement("span",{className:"text-muted",style:{float:"left",marginLeft:"18px",width:"30%",textAlign:"left"}},c&&"/contact"!=window.location.pathname&&r.a.createElement("small",null,"\xa0")),r.a.createElement("span",{className:"text-muted",style:{float:"right",marginRight:"18px",width:"30%",textAlign:"right"}},c&&"/contact"!=window.location.pathname&&r.a.createElement("small",null,r.a.createElement("a",{href:"/contact"},z("Contact"))))))))))},Me=(a(264),a(305)),Je=function(e){var t=Object.assign({namespace:"Main"},e),a=e,n=t.barrelFunctions,s=n.getContainerClass,l=n.getRedirect,i=(Object(y.a)(t.namespace).t,s(!1)),c=i.wrapperClass,o=i.innerClass;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,l(),r.a.createElement("div",{className:"App bg",style:{}},r.a.createElement("div",{className:c,style:{}},r.a.createElement("div",{className:"d-none d-md-block",style:{height:"1rem"}}),r.a.createElement("div",{className:o},r.a.createElement("div",{style:{height:"16px"}}),r.a.createElement("div",null,r.a.createElement(Ke,{data:a})),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",component:function(){return function(e){var t=Object.assign({namespace:"UnderConstruction"},e),a=Object(y.a)([t.namespace]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,r.a.createElement(Me.a,{style:{color:"var(--dark)",fontSize:"3rem"}}),r.a.createElement("br",null),r.a.createElement("br",null),a("We are constructing"),r.a.createElement("br",null),r.a.createElement("br",null)))}(a)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,r.a.createElement(ze,a))))))))},We=a(27),Xe=function(e){var t=Object.assign({namespace:"Dispatcher"},e),a="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,s=Object(n.useState)(a),l=Object(i.a)(s,2),o=l[0],d=l[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),g=f[0],E=f[1],h=Object(n.useState)(!1),y=Object(i.a)(h,2),O=y[0],S=y[1],C=Object(n.useState)(!0),T=Object(i.a)(C,2),k=T[0],I=T[1],P=v(null,"request"),j=Object(i.a)(P,2),w=j[0],q=j[1],A=Object(n.useState)(Date.now()),F=Object(i.a)(A,2),D=F[0],R=F[1],_=v(Object(c.a)(),"session"),x=Object(i.a)(_,2),L=x[0],G=x[1],B=v(null,"settings"),U=Object(i.a)(B,2),V=U[0],K=U[1],z=v(60*(o?120:5),"sessionTimeout"),H=Object(i.a)(z,2),M=H[0],J=H[1],W=v(!1,"connected"),X=Object(i.a)(W,2),Y=X[0],$=X[1],Z=v("","ip"),Q=Object(i.a)(Z,2),ee=Q[0],te=Q[1],ae=v(!1,"signedIn"),ne=Object(i.a)(ae,2),re=ne[0],se=ne[1],le=v(!1,"dailyAllowanceDispatched"),ie=Object(i.a)(le,2),ce=ie[0],oe=ie[1],ue=v(!1,"isExternalRequest"),me=Object(i.a)(ue,2),de=me[0],pe=me[1],fe=v(null,"externalRequest"),ge=Object(i.a)(fe,2),Ee=ge[0],be=ge[1],ve=v(null,"cartContent"),he=Object(i.a)(ve,2),ye=he[0],Oe=he[1],Ne=v(-1,"updateInterval"),Se=Object(i.a)(Ne,2),Ce=Se[0],Te=Se[1],ke=v("Z","currencyAbbr"),Ie=Object(i.a)(ke,2),Pe=Ie[0],je=Ie[1],we=Object(n.useState)(1,"currencyRate"),qe=Object(i.a)(we,2),Ae=qe[0],Fe=qe[1],De=v(null,"currencies"),Re=Object(i.a)(De,2),_e=Re[0],xe=Re[1],Le=v(null,"transactions"),Ge=Object(i.a)(Le,2),Ve=Ge[0],Ke=Ge[1],ze=v(null,"shares"),Me=Object(i.a)(ze,2),Xe=Me[0],Ye=Me[1],$e=v("balance","accordionView"),Ze=Object(i.a)($e,2),Qe=Ze[0],et=Ze[1],tt=v(null,"accordionViewCurrency"),at=Object(i.a)(tt,2),nt=at[0],rt=at[1],st=v(null,"countCurrencies"),lt=Object(i.a)(st,2),it=lt[0],ct=lt[1],ot=v(null,"countTransactions"),ut=Object(i.a)(ot,2),mt=ut[0],dt=ut[1],pt=v(null,"countShares"),ft=Object(i.a)(pt,2),gt=ft[0],Et=ft[1],bt=v(1,"activePageCurrencies"),vt=Object(i.a)(bt,2),ht=vt[0],yt=vt[1],Ot=v(1,"activePageTransactions"),Nt=Object(i.a)(Ot,2),St=Nt[0],Ct=Nt[1],Tt=v(1,"activePageShares"),kt=Object(i.a)(Tt,2),It=kt[0],Pt=kt[1],jt=v(5,"currenciesPerPage"),wt=Object(i.a)(jt,2),qt=wt[0],At=wt[1],Ft=v(5,"transactionsPerPage"),Dt=Object(i.a)(Ft,2),Rt=Dt[0],_t=Dt[1],xt=v(5,"sharesPerPage"),Lt=Object(i.a)(xt,2),Gt=Lt[0],Bt=Lt[1],Ut=v(null,"userData"),Vt=Object(i.a)(Ut,2),Kt=Vt[0],zt=Vt[1],Ht=v(null,"uid"),Mt=Object(i.a)(Ht,2),Jt=Mt[0],Wt=Mt[1],Xt=v(null,"accountNumber"),Yt=Object(i.a)(Xt,2),$t=Yt[0],Zt=Yt[1],Qt=v(null,"userSequence"),ea=Object(i.a)(Qt,2),ta=ea[0],aa=ea[1],na=v(null,"accountType"),ra=Object(i.a)(na,2),sa=ra[0],la=ra[1],ia=v(null,"userBusinesses"),ca=Object(i.a)(ia,2),oa=ca[0],ua=ca[1],ma=v(null,"countBusinesses"),da=Object(i.a)(ma,2),pa=da[0],fa=da[1],ga=v(1,"businessesPerPage"),Ea=Object(i.a)(ga,2),ba=Ea[0],va=Ea[1],ha=v(1,"activePageBusinesses"),ya=Object(i.a)(ha,2),Oa=ya[0],Na=ya[1],Sa=v(!1,"userBusinessesLoaded"),Ca=Object(i.a)(Sa,2),Ta=Ca[0],ka=Ca[1],Ia=v(null,"activeBusiness"),Pa=Object(i.a)(Ia,2),ja=Pa[0],wa=Pa[1],qa=v(null,"activeBusinessID"),Aa=Object(i.a)(qa,2),Fa=Aa[0],Da=Aa[1],Ra=v(null,"businessPurposes"),_a=Object(i.a)(Ra,2),xa=_a[0],La=_a[1],Ga=v(null,"cartPurposes"),Ba=Object(i.a)(Ga,2),Ua=Ba[0],Va=Ba[1],Ka=v(null,"countBusinessPurposes"),za=Object(i.a)(Ka,2),Ha=za[0],Ma=za[1],Ja=v(5,"businessPurposesPerPage"),Wa=Object(i.a)(Ja,2),Xa=Wa[0],Ya=Wa[1],$a=v(1,"activePageBusinessPurposes"),Za=Object(i.a)($a,2),Qa=Za[0],en=Za[1],tn=v(null,"activeBusinesPurpose"),an=Object(i.a)(tn,2),nn=an[0],rn=an[1],sn=v(null,"activePurposeData"),ln=Object(i.a)(sn,2),cn=ln[0],on=ln[1],un=v(null,"activePurposeProperty"),mn=Object(i.a)(un,2),dn=mn[0],pn=mn[1],fn=v(null,"purposeShareholders"),gn=Object(i.a)(fn,2),En=gn[0],bn=gn[1],vn=Object(n.useState)(null),hn=Object(i.a)(vn,2),yn=hn[0],On=hn[1],Nn=Object(n.useState)(null),Sn=Object(i.a)(Nn,2),Cn=Sn[0],Tn=Sn[1],kn=Object(n.useState)(null),In=Object(i.a)(kn,2),Pn=In[0],jn=In[1],wn=Object(n.useState)(null),qn=Object(i.a)(wn,2),An=qn[0],Fn=qn[1],Dn=Object(n.useState)(null),Rn=Object(i.a)(Dn,2),_n=Rn[0],xn=Rn[1],Ln=Object(n.useState)(null),Gn=Object(i.a)(Ln,2),Bn=Gn[0],Un=Gn[1],Vn=Object(n.useState)(null),Kn=Object(i.a)(Vn,1)[0],zn=v(null,"validationTokenEmail"),Hn=Object(i.a)(zn,2),Mn=Hn[0],Jn=Hn[1],Wn=v(0,"validationTokenEmailResent"),Xn=Object(i.a)(Wn,2),Yn=Xn[0],$n=Xn[1],Zn=v(b.options.fallbackLng[0],"language"),Qn=Object(i.a)(Zn,2),er=Qn[0],tr=Qn[1],ar=v("#u2s","transferType"),nr=Object(i.a)(ar,2),rr=nr[0],sr=nr[1],lr=v(null,"transferRequest"),ir=Object(i.a)(lr,2),cr=ir[0],or=ir[1],ur=v(!1,"tanRequired"),mr=Object(i.a)(ur,2),dr=mr[0],pr=mr[1],fr=Object(n.useState)(""),gr=Object(i.a)(fr,2),Er=gr[0],br=gr[1],vr=Object(n.useState)(null),hr=Object(i.a)(vr,2),yr=hr[0],Or=hr[1],Nr=Object(n.useState)(null),Sr=Object(i.a)(Nr,2),Cr=Sr[0],Tr=Sr[1],kr={debug:o,loggingOut:g,loggingIn:O,pageLoading:k,request:w,instance:D,session:L,sessionTimeout:M,settings:JSON.parse(V),ip:ee,updateInterval:Ce,currencies:JSON.parse(_e),transactions:JSON.parse(Ve),shares:JSON.parse(Xe),accordionView:Qe,accordionViewCurrency:nt,countCurrencies:it,countTransactions:mt,countShares:gt,activePageCurrencies:ht,activePageTransactions:St,activePageShares:It,currenciesPerPage:qt,transactionsPerPage:Rt,sharesPerPage:Gt,userData:JSON.parse(Kt),redirectTo:yn,lastInsertId:Cn,connected:Y,signedIn:re,dailyAllowanceDispatched:ce,isExternalRequest:de,externalRequest:JSON.parse(Ee),cartContent:JSON.parse(ye),currencyAbbr:Pe,currencyRate:Ae,accountNumber:$t,userSequence:ta,accountType:sa,uid:Jt,userBusinesses:JSON.parse(oa),countBusinesses:pa,businessesPerPage:ba,activePageBusinesses:Oa,userBusinessesLoaded:Ta,activeBusiness:ja,activeBusinessID:Fa,businessPurposes:JSON.parse(xa),cartPurposes:JSON.parse(Ua),countBusinessPurposes:Ha,businessPurposesPerPage:Xa,activePageBusinessPurposes:Qa,activeBusinesPurpose:nn,activePurposeProperty:dn,activePurposeData:JSON.parse(cn),purposeShareholders:JSON.parse(En),tanRequired:dr,tmrConnected:Kn,validateTokenEmail:Pn,validateTokenPasswordReset:An,passwordResetTokenValidated:_n,passwordResetTokenEmail:Bn,validationTokenEmail:Mn,validationTokenEmailResent:Yn,transferRequest:JSON.parse(cr),language:er,transferType:rr,accountPhotoPath:Er,error:yr,info:Cr},Ir={setDebug:d,setLoggingOut:E,setLoggingIn:S,setPageLoading:I,setRequest:q,setInstance:R,setSession:G,setSessionTimeout:J,setSettings:K,setIP:te,setUpdateInterval:Te,setCurrencies:xe,setTransactions:Ke,setShares:Ye,setAccordionView:et,setAccordionViewCurrency:rt,setCountCurrencies:ct,setCountTransactions:dt,setCountShares:Et,setActivePageCurrencies:yt,setActivePageTransactions:Ct,setActivePageShares:Pt,setCurrenciesPerPage:At,setTransactionsPerPage:_t,setSharesPerPage:Bt,setConnected:$,setLanguage:tr,setUserData:zt,setSignedIn:se,setDailyAllowanceDispatched:oe,setIsExternalRequest:pe,setExternalRequest:be,setCartContent:Oe,setCurrencyAbbr:je,setCurrencyRate:Fe,setRedirectTo:On,setLastInsertId:Tn,setAccountNumber:Zt,setUserSequence:aa,setAccountType:la,setUID:Wt,setUserBusinesses:ua,setCountBusinesses:fa,setBusinessesPerPage:va,setActivePageBusinesses:Na,setUserBusinessesLoaded:ka,setActiveBusiness:wa,setActiveBusinessID:Da,setBusinessPurposes:La,setCartPurposes:Va,setCountBusinessPurposes:Ma,setBusinessPurposesPerPage:Ya,setActivePageBusinessPurposes:en,setActiveBusinesPurpose:rn,setActivePurposeProperty:pn,setActivePurposeData:on,setPurposeShareholders:bn,setAccountPhotoPath:br,setValidateTokenEmail:jn,setValidateTokenPasswordReset:Fn,setPasswordResetTokenValidated:xn,setPasswordResetTokenEmail:Un,setValidationTokenEmail:Jn,setValidationTokenEmailResent:$n,setTransferRequest:or,setTanRequired:pr},Pr=function(e){var t=e.req,a=e.data,n=void 0===a?null:a;return!!jr({req:t,data:n,session:L,uid:"STA",barrels:Rr})||(console.log("THIS SHOULD NEVER BE REACHED"),Ue({req:t,uid:"STA",session:L,data:n},o))},jr=function(e){var t=e.req,a=e.data,n=e.session,r=e.uid,s=e.barrels;return a.instance=D,q(t),function(e){var t=Object.assign({},e),a=t.req,n=t.data,r=t.session,s=t.uid,l=t.barrels,i=l.barrelGetters,c=i.debug,o=i.userData,u=i.userSequence,m=l.barrelSetters,d=m.setUserData,p=m.setUID;m.setAccountNumber;Object(N.a)(l.barrelFunctions);var f=!1,g=function(e,a){f||e!==t.req&&"default"!==e||(a(),f=!0)};return g("sign in user",(function(){d(JSON.stringify(n)),Ue({req:a,data:n,uid:s,session:r},c)})),g("get user sequence",(function(){var e=new Date(n.birthDate),t=e.getFullYear().toString(),l=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");n.birthDate="".concat(t,"-").concat(l,"-").concat(i),Ue({req:a,data:n,uid:s,session:r},c)})),g("register account",(function(){var e=new Date(n.birthDate),t=e.getFullYear().toString(),l=t.slice(-2),i=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0"),d="".concat(m).concat(i).concat(l),f=n.timezone.slice(0,2),g=o.lastname.slice(0,1).toUpperCase(),E=g.charCodeAt(0).toString().padStart(5,"0");n.scode="".concat(f).concat(d).concat(g),n.tcode="".concat(f).concat(d).concat(E),n.timezone=n.timezone.slice(5),n.sequence=u.toString().padStart(5,"0"),n.birthDate="".concat(t,"-").concat(i,"-").concat(m),p(n.personalID),Ue({req:a,data:n,uid:s,session:r},c)})),g("default",(function(){return Ue({req:a,data:n,uid:s,session:r},c),!0})),f}({req:t,data:a,session:n,uid:r,barrels:s})},wr=function(e){var t=e.args,a=e.barrels;return"error"===t.status?function(e){var t=e.args,a=e.barrels,n=Object.assign({},t),r=a.barrelGetters.debug,s=a.barrelSetters,l=s.setRequest,c=s.setUID,o=s.setAccountNumber,u=s.setRedirectTo,m=a.barrelFunctions.showMessage,d=n.req,p=n.error,f=n.context;r&&console.log("ERROR: ".concat(d),p,f,n,a);var g=!1,E=function(e,t){if(!g){var a=Object(i.a)(e,2),n=a[0],r=a[1];return(n===d&&r===p.code||"*"===n&&r===p.code||"unknown"===n)&&(t(),l(null),g=!0,!0)}};return E(["*","INVALID_SESSION"],(function(){return m("SESSION_TIMED_OUT","info"),u("/sign-out"),!0})),E(["transfer U2S","NO_ROWS_CHANGED"],(function(){return m("INVALID_TRANSFER","error"),!0})),E(["transfer U2U","NO_ROWS_CHANGED"],(function(){return m("INVALID_TRANSFER","error"),!0})),E(["transfer U2B","NO_ROWS_CHANGED"],(function(){return m("INVALID_TRANSFER","error"),!0})),E(["register user","NO_ROWS_CHANGED"],(function(){return m("INVALID_USER_REGISTRATION","error"),!0})),E(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),E(["validate email token","NO_ROWS_CHANGED"],(function(){return m("TOKEN_VALIDATION_FAILED","error"),!0})),E(["validate password reset token","NO_ROWS_CHANGED"],(function(){return m("TOKEN_VALIDATION_FAILED","error"),!0})),E(["reset password","NO_ROWS_CHANGED"],(function(){return!0})),E(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),E(["update user","NO_ROWS_CHANGED"],(function(){return!0})),E(["sign in user","NO_ROWS_CHANGED"],(function(){return m("USER_NOT_FOUND","error"),!0})),E(["change password","NO_ROWS_CHANGED"],(function(){return m("SAME_PASSWORD_RESET","info"),!0})),E(["submit tan","NO_ROWS_CHANGED"],(function(){return m("INVALID_TAN","error"),!0})),E(["get cart","NO_ROWS_CHANGED"],(function(){return!0})),E(["transfer V2U","NO_ROWS_CHANGED"],(function(){return!0})),E(["register user currency","NO_ROWS_CHANGED"],(function(){return!0})),E(["end session","NO_ROWS_CHANGED"],(function(){return!0})),E(["register account","ER_DUP_ENTRY"],(function(){return c(null),o(null),m("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),E(["register account","ER_FOREIGN_DUPLICATE_KEY_WITH_CHILD_INFO"],(function(){return c(null),o(null),m("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),E(["register shareholder","ER_NO_REFERENCED_ROW_2"],(function(){return m("USER_NOT_FOUND","error"),!0})),E(["*","ER_CANT_CREATE_THREAD"],(function(){return m("NO_RESPONSE_FROM_SERVER","error"),!0})),E(["unknown"],(function(){return m(p.code,"error"),!0})),!1}({args:t,uid:Jt,barrels:a}):function(e){var t=e.args,a=e.barrels,n=Object.assign({},t),r=a.barrelGetters,s=r.debug,l=(r.session,r.sessionTimeout,r.settings,r.loggingIn,r.isExternalRequest,r.instance),c=r.currencies,o=r.transactions,u=r.transferRequest,m=r.shares,d=r.userData,p=r.accountNumber,f=r.language,g=r.userBusinesses,E=r.cartPurposes,b=r.businessPurposes,v=r.purposeShareholders,h=r.activeBusinesPurpose,y=r.lastInsertId,O=a.barrelSetters,N=O.setRequest,S=O.setSession,C=O.setSettings,T=O.setLoggingIn,k=(O.setUpdateInterval,O.setCurrencies),I=O.setTransactions,P=O.setShares,j=O.setCountCurrencies,w=O.setCountTransactions,q=O.setCountShares,A=O.setConnected,F=O.setUserData,D=O.setSignedIn,R=(O.setIsExternalRequest,O.setCartContent),_=O.setCurrencyAbbr,x=O.setCurrencyRate,L=O.setRedirectTo,G=O.setLastInsertId,B=O.setAccountNumber,U=O.setUserSequence,V=O.setUID,K=O.setUserBusinesses,z=O.setCountBusinesses,H=O.setUserBusinessesLoaded,M=O.setCartPurposes,J=O.setBusinessPurposes,W=O.setCountBusinessPurposes,X=O.setPurposeShareholders,Y=O.setAccountPhotoPath,$=O.setPasswordResetTokenValidated,Z=O.setPasswordResetTokenEmail,Q=O.setValidateTokenEmail,ee=O.setValidationTokenEmail,te=O.setValidationTokenEmailResent,ae=O.setActivePurposeData,ne=O.setTanRequired,re=a.barrelFunctions,se=re.sendRequest,le=(re.getBusinesses,re.getAccountData),ie=re.getTransactionById,ce=re.getBusinessPurposes,oe=re.getPurposeShareholders,ue=re.showMessage,me=re.changeLanguage,de=re.sortObjectArray,pe=re.getObjectArrayElementIndex,fe=(re.showTanInput,a.barrelEventHandlers),ge=fe.onRedirect,Ee=(fe.onSessionTimeout,fe.onSessionEnd),be=n.req;s&&console.log("response: ".concat(be," (").concat(n.status,")"),n,a);var ve=!1,he=function(e,t){if(!ve){var a=Object(i.a)(e,3),r=a[0],s=a[1],c=a[2],o=void 0===c?null:c;(l===n.reqData.instance&&"*"===r&&s===n.status&&o===o||l===n.reqData.instance&&r===n.req&&s===n.status||l===n.reqData.instance&&"unknown"===r)&&(t()&&N(null),null===o&&(ve=!0))}};return he(["*","continue","VALIDATE SESSION"],(function(){return"undefined"!==typeof n.token&&(console.log("Renewing session..."),Ee(),S(n.token)),!1})),he(["start session","success"],(function(){return A(!0),!0})),he(["end session","success"],(function(){return A(!1),!0})),he(["get user sequence","continue"],(function(){if("SELECT FROM users"===n.name)return U(n.results.sequence),!1})),he(["get user sequence","success"],(function(){se({req:"register account",data:n.reqData})})),he(["get tan","success"],(function(){return ne(!0),!0})),he(["get cart","continue"],(function(){"SELECT carts"===n.name&&R(n.results.content)})),he(["submit tan","pending"],(function(){})),he(["submit tan","finished"],(function(){if("UPDATE tans"===n.name)return!(n.queryCnt>0)})),he(["submit tan","success"],(function(){return se({req:u.transferType,data:u}),!1})),he(["register user","pending"],(function(){return!1})),he(["register user","continue"],(function(){return"INSERT INTO users"===n.name?!(n.results.insertId>0):("INSERT INTO validation_tokens"===n.name&&ee({token:n.tags.token,email:n.tags.email}),!1)})),he(["register user","success"],(function(){return ge("/validate-email"),!0})),he(["resend validate email token","continue"],(function(){if("SELECT validation_tokens"===n.name)return te(n.results.resent),!1})),he(["resend validate email token","success"],(function(){return!0})),he(["validate email token","continue"],(function(){return"UPDATE validation tokens"===n.name?!(n.results.affectedRows>0):"UPDATE users"===n.name&&(!(n.results.affectedRows>0)||(ge("/sign-in"),!0))})),he(["validate email token","success"],(function(){return Q(null),!0})),he(["validate password reset token","success"],(function(){return $(!0),!0})),he(["get uri settings","continue"],(function(){if("SELECT FROM uri_settings"===n.name){var e=JSON.parse(n.results.settings);if(C(JSON.stringify(e)),"undefined"!==typeof e.currency&&null!==e.currency){var t=e.currency;se({req:"register user currency",data:{email:d.email,currency_id:t}})}}return!1})),he(["register user currency","success"],(function(){_(n.reqData.currency_id)})),he(["sign in user","continue"],(function(){if("SELECT users"===n.name){if(1===n.results.status)return F(JSON.stringify(n.results)),B(n.results.uid),_(n.results.currency_abbr),x(isNaN(n.results.currency_rate)?1:n.results.currency_rate),me(n.results.language),!1;if(0===n.results.status)return ge("/validate-email"),!0;if(2===n.results.status)return L("/sign-out"),ue("ACCOUNT_SUSPENDED","error"),!0;if(3===n.results.status)return L("/sign-out"),ue("ACCOUNT_DELETED","error"),!0}})),he(["sign in user","finished"],(function(){if("SELECT users"===n.name)return!(n.queryCnt>0)&&(ue("INVALID_SIGN_IN","error"),L("/sign-out"),!0)})),he(["sign in user","success"],(function(){return D(!0),T(!1),Ee(),S(n.token),!0})),he(["update user","success"],(function(){return se({req:"get user",data:{email:d.email}}),!1})),he(["get user","continue"],(function(){return"SELECT users"!==n.name||(F(JSON.stringify(n.results)),V(n.results.uid),B(n.results.uid),null===p&&null!==n.results.uid&&L("/summary"),!1)})),he(["get user","finished"],(function(){if("SELECT users"===n.name)return 1!==n.queryCnt&&(0!==n.queryCnt||(L("/sign-out"),!0))})),he(["get user","success"],(function(){return!0})),he(["get user businesses","continue"],(function(){if("SELECT businesses"===n.name){var e=n.results,t=e.business_id;null===g?(K(JSON.stringify([e])),ce(t,0,1)):K(JSON.stringify([].concat(Object(We.a)(g),[e])))}else"COUNT businesses"===n.name&&z(n.results.count_businesses);return!1})),he(["get user businesses","finished"],(function(){return H(!0),L("/my-business"),!1})),he(["get user businesses","success"],(function(){return!0})),he(["get cart purposes","continue"],(function(){return"SELECT purposes"===n.name?M(null===E?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(E),[n.results]))):n.name,!1})),he(["get cart purposes","success"],(function(){return!0})),he(["get business purposes","continue"],(function(){return"SELECT purposes"===n.name?J(null===b?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(b),[n.results]))):"COUNT purposes"===n.name&&W(n.results.count_purposes),!1})),he(["get business purposes","finished"],(function(){return!0})),he(["get purpose shareholders","continue"],(function(){return"SELECT shares"===n.name&&X(null===v?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(v),[n.results]))),!1})),he(["get purpose shareholders","finished"],(function(){return!0})),he(["get business by id","continue"],(function(){return"SELECT businesses"===n.name&&K(null===g?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(g),[n.results]))),!1})),he(["get business by id","finished"],(function(){return!(n.queryCnt>0)&&(console.log("Error getting business by id"),!0)})),he(["get business by id","success"],(function(){return!0})),he(["get purpose by id","continue"],(function(){var e=pe(b,"purpose_id",n.results.purpose_id);if(e>-1){b.splice(e,1);var t=[].concat(Object(We.a)(b),[n.results]);t=de(t,"title"),J(JSON.stringify(t)),ae(JSON.stringify(n.results))}else"SELECT purposes"===n.name&&J(null===b?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(b),[n.results])));return!1})),he(["get purpose by id","finished"],(function(){return n.queryCnt<1})),he(["get purpose by id","success"],(function(){return!0})),he(["get shareholder by id","continue"],(function(){return X(null===v?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(v),[n.results]))),!1})),he(["get shareholder by id","finished"],(function(){return!0})),he(["upload file","continue"],(function(){return Y(Date.now()),!1})),he(["upload file","finished"],(function(){return"SELECT 1"!==n.name||0===n.queryCnt})),he(["upload file","success"],(function(){return!0})),he(["register account","continue"],(function(){return n.results.affectedRows<1&&(V(null),B(null),ue("INVALID_DATA","error"),!0)})),he(["register account","success"],(function(){return se({req:"get user",data:{email:n.email}}),!1})),he(["get account data","continue"],(function(){return"SELECT users"===n.name&&(V(n.results.uid),F(JSON.stringify(n.results))),!1})),he(["get account data","finished"],(function(){return"SELECT users"===n.name&&0===n.queryCnt&&(ue("SESSION_TIMED_OUT","info"),L("/sign-out"),!0)})),he(["get account data","success"],(function(){return!0})),he(["transfer U2S","pending"],(function(){return!1})),he(["transfer U2S","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(G(n.results.insertId),!1))})),he(["transfer U2S","success"],(function(){return ie(y),!1})),he(["transfer U2U","pending"],(function(){return!1})),he(["transfer U2U","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(G(n.results.insertId),!1))})),he(["transfer U2U","success"],(function(){return ie(y),ne(!1),!1})),he(["transfer U2B","pending"],(function(){return!1})),he(["transfer U2B","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(G(n.results.insertId),!1))})),he(["transfer U2B","success"],(function(){return ie(y),ne(!1),!1})),he(["register business","continue"],(function(){if("INSERT INTO businesses"===n.name)return!(n.results.insertId>0)||(G(n.results.insertId),!1)})),he(["register business","success"],(function(){return se({req:"get business by id",data:{id:y}}),!1})),he(["register currency","continue"],(function(){return!(n.results.insertId>0)||(G(n.results.insertId),!1)})),he(["register currency","success"],(function(){return se({req:"get currency by id",data:{id:y}}),!1})),he(["get currencies","continue"],(function(){return"SELECT currencies"===n.name?k(null===c?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(c),[n.results]))):"COUNT currencies"===n.name&&j(n.results.count_currencies),!1})),he(["get currencies","finished"],(function(){return L("/currency"),!0})),he(["get currency by id","continue"],(function(){return"SELECT currencies"===n.name&&k(null===c?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(c),[n.results]))),!1})),he(["get currency by id","finished"],(function(){return!0})),he(["get transactions","continue"],(function(){return"SELECT transactions"===n.name?I(null===o?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(o),[n.results]))):"COUNT transactions"===n.name&&w(n.results.count_transaction_positions),!1})),he(["get transactions","finished"],(function(){return L("/balance"),!0})),he(["get shares","continue"],(function(){return"SELECT shares"===n.name?P(null===m?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(m),[n.results]))):"COUNT shares"===n.name&&q(n.results.count_shares),!1})),he(["get shares","finished"],(function(){return!0})),he(["get transaction by id","continue"],(function(){return I(null===o?JSON.stringify([n.results]):JSON.stringify([].concat(Object(We.a)(o),[n.results]))),!1})),he(["get transaction by id","finished"],(function(){return le(),!1})),he(["send message","success"],(function(){return ue("SEND_MESSAGE_SUCCESS","info"),!0})),he(["register purpose","continue"],(function(){if("INSERT INTO purposes"===n.name)return!(n.results.insertId>0)||(G(n.results.insertId),!1)})),he(["register purpose","success"],(function(){return se({req:"get purpose by id",data:{id:y,language:f}}),!1})),he(["update purpose property","success"],(function(){return se({req:"get purpose by id",data:{id:n.reqData.id,language:f}}),!1})),he(["register shareholder","continue"],(function(){if(!(n.results.insertId>0))return!0;G(n.results.insertId)})),he(["register shareholder","success"],(function(){return oe(h),!1})),he(["change share","success"],(function(){return!0})),he(["remove shareholder","success"],(function(){return oe(h),!1})),he(["reset password","success"],(function(){return $(!1),!0})),he(["change password","success"],(function(){return $(null),Z(null),ge("/sign-in"),ue("PASSWORD_CHANGE_SUCCESS","info"),!0})),he(["unknown"],(function(){return!1})),ve}({args:t,uid:Jt,barrels:a})},qr=function(){Or(null),Tr(null)},Ar=function(e){var t=window.location.search;return new URLSearchParams(t).get(e)},Fr={sendRequest:Pr,processResponse:wr,showMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";"error"===t?Or(e):Tr(e)},hideMessage:qr,changeLanguage:function(e){b.changeLanguage(e),tr(e)},sortObjectArray:function(e,t){return e.sort((function(e,a){return e[t]>a[t]?1:a[t]>e[t]?-1:0}))},getObjectArrayElementIndex:function(e,t,a){return null===e?-1:e.map((function(e){return e[t]})).indexOf(a)},format:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Intl.NumberFormat(er,{notation:"standard",minimumFractionDigits:2,useGrouping:a}).format(e*Ae)+" "+t},formatPerCent:function(e){return new Intl.NumberFormat(er,{notation:"standard",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)+"%"},formatExchangeRate:function(e){return new Intl.NumberFormat(er,{notation:"standard",minimumFractionDigits:5,maximumFractionDigits:5}).format(e)},getContainerClass:function(e){return{wrapperClass:e?"auth-wrapper auth-wrapper-summary":"auth-wrapper",innerClass:e?"auth-inner auth-inner-summary":"auth-inner autoWidth"}},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:er,r=new Date(e);if(a){var s=r.getTimezoneOffset();r=u()(r).add(-s,"m").toDate()}return new Intl.DateTimeFormat(n,t).format(r)},sendEmailValidationRequest:function(e){var t=e.token,a=e.email;Pr({req:"validate email token",data:{token:t,email:a}})},sendPasswordResetRequest:function(e){var t=e.token,a=e.email;Un(a),Pr({req:"validate password reset token",data:{token:t,email:a}})},getRedirect:function(){return null===yn?"":r.a.createElement(m.a,{push:!0,to:yn})},getUri:function(){return"".concat(window.location.hostname)},getIP:function(){o||fetch("https://dev.zime.lv/ip",{method:"post",mode:"no-cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){te("string"===typeof e.ip?e.ip:"")})).catch((function(e){console.error("Error:",e)}))},getCart:function(){var e=Ar("cart");null!==e&&(be(JSON.stringify({cart:e})),re||pe(!0))},getCartPurposes:function(){if(null!==ye){var e=[];kr.cartContent.map((function(t){e.push(t.product)})),Va(null),Pr({req:"get cart purposes",data:{purposes:JSON.stringify(e),language:er,page:1,limit:5}})}},getUrlParam:Ar,getAccountData:function(){null!==$t&&Pr({req:"get account data",data:{uid:$t}})},getTransactionById:function(e){Pr({req:"get transaction by id",data:{id:e,language:er}})},getBusinesses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;ua(null),Ma(null),en(1),Da(null),Pr({req:"get user businesses",data:{uid:$t,page:e,limit:ba}}),Na(e)},getBusinessPurposes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return null!==t&&(wa(t),rn(null),pn(null)),La(null),Ma(null),en(a),Da(e),Pr({req:"get business purposes",data:{business_id:e,language:er,page:a,limit:Xa}})},getPurposeShareholders:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==t&&rn(e),bn(null),Pr({req:"get purpose shareholders",data:{purpose_id:e}})},getCurrencies:function(e){xe(null),Pr({req:"get currencies",data:{page:e,limit:qt}}),yt(e)},getTransactions:function(e){Ke(null),Pr({req:"get transactions",data:{page:e,limit:Rt,uid:$t,language:er}}),Ct(e)},getShares:function(e){Ye(null),Pr({req:"get shares",data:{page:e,limit:Gt,uid:$t,language:er}}),Pt(e)},parseLocaleNumber:function(e,t){var a=new Intl.NumberFormat(t,{style:"currency",currency:"USD"}).formatToParts(123456.789),n="",r="",s="";return a.forEach((function(e){switch(e.type){case"group":n=e.value;break;case"decimal":r=e.value;break;case"currency":s=e.value}})),parseFloat(e.replace(new RegExp("\\"+n,"g"),"").replace(new RegExp("\\"+r),".").replace(new RegExp("\\"+s,"g"),""))},getReviser:function(){return"STA"},getWorkplace:function(){return"LAPSTA"}};b.on("languageChanged",(function(e){tr(e)}));var Dr=function(){Pr({req:"end session",data:{}});var e={request:"bye"};e.instance=D,function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&console.log("request: end session",e,t),Be.emit("end session",{data:e,session:t,req:"end session"})}(e,L,o)},Rr={barrelGetters:kr,barrelSetters:Ir,barrelFunctions:Fr,barrelEventHandlers:{onRedirect:function(e){On(e)},onSignUp:function(e){return Pr({req:"register user",data:e})},onSessionTimeout:function(){console.log("Session timed out..."),E(!0),On("/sign-out")},onTransferTypeChange:function(e){sr(e)},onTransferSuccess:function(){},onTransfer:function(e){Pr(e)},onSessionStart:function(){var e={request:"hello"};e.instance=D,function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&console.log("request: start session",e,t),Be.emit("start session",{data:e,session:t,req:"start session"})}(e,L,o)},onSessionEnd:Dr,onSessionReset:function(){G(Object(c.a)())},onPurposeRegistration:function(e){Pr(e)},onLogOut:function(){Te(-1),Dr(),se(!1),oe(!1),K(null),pe(!1),xe(null),Ke(null),Ye(null),et("balance"),rt(null),Zt(null),la(null),sr("#u2s"),or(null),dt(null),zt(null),ua(null),ka(!1),wa(null),La(null),Va(null),rn(null),pn(null),bn(null),br(""),xn(null),Un(null),pr(!1),Or(null),Tr(null)},onAlertClose:function(){qr()}}};return function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],s=a[1];Be.on("onDataReceived",(function(e){s(e)})),Object(n.useEffect)((function(){null!==r&&e(r)}),[r])}((function(e){wr({args:e,barrels:Rr})})),"construction"!==t.mode?r.a.createElement(He,Rr):r.a.createElement(Je,Rr)},Ye=(a(265),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"lds-hourglass"})))});null!==function(e){var t=window.location.search;return new URLSearchParams(t).get(e)}("reset")&&(window.localStorage.clear(),console.log("Local storage cleared"));var $e=document.getElementById("root"),Ze=document.getElementById("construction");$e&&l.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ye,null)},r.a.createElement(Xe,{mode:Ze?"construction":""})),$e)}},[[200,5,6]]]);
//# sourceMappingURL=main.9f4401a5.chunk.js.map