(this["webpackJsonpdev-zime-lv"]=this["webpackJsonpdev-zime-lv"]||[]).push([[4],{186:function(e){e.exports=JSON.parse('[{"Name":"(GMT-12:00) International Date Line West","Offset":-12},{"Name":"(GMT-11:00) Midway Island, Samoa","Offset":-11},{"Name":"(GMT-10:00) Hawaii","Offset":-10},{"Name":"(GMT-09:00) Alaska","Offset":-9},{"Name":"(GMT-08:00) Pacific Time (US & Canada)","Offset":-8},{"Name":"(GMT-08:00) Tijuana, Baja California","Offset":-8},{"Name":"(GMT-07:00) Arizona","Offset":-7},{"Name":"(GMT-07:00) Chihuahua, La Paz, Mazatlan","Offset":-7},{"Name":"(GMT-07:00) Mountain Time (US & Canada)","Offset":-7},{"Name":"(GMT-06:00) Central America","Offset":-6},{"Name":"(GMT-06:00) Central Time (US & Canada)","Offset":-6},{"Name":"(GMT-06:00) Guadalajara, Mexico City, Monterrey","Offset":-6},{"Name":"(GMT-06:00) Saskatchewan","Offset":-6},{"Name":"(GMT-05:00) Bogota, Lima, Quito, Rio Branco","Offset":-5},{"Name":"(GMT-05:00) Eastern Time (US & Canada)","Offset":-5},{"Name":"(GMT-05:00) Indiana (East)","Offset":-5},{"Name":"(GMT-04:00) Atlantic Time (Canada)","Offset":-4},{"Name":"(GMT-04:00) Caracas, La Paz","Offset":-4},{"Name":"(GMT-04:00) Manaus","Offset":-4},{"Name":"(GMT-04:00) Santiago","Offset":-4},{"Name":"(GMT-03:30) Newfoundland","Offset":-3},{"Name":"(GMT-03:00) Brasilia","Offset":-3},{"Name":"(GMT-03:00) Buenos Aires, Georgetown","Offset":-3},{"Name":"(GMT-03:00) Greenland","Offset":-3},{"Name":"(GMT-03:00) Montevideo","Offset":-3},{"Name":"(GMT-02:00) Mid-Atlantic","Offset":-2},{"Name":"(GMT-01:00) Cape Verde Is.","Offset":-1},{"Name":"(GMT-01:00) Azores","Offset":-1},{"Name":"(GMT+00:00) Casablanca, Monrovia, Reykjavik","Offset":0},{"Name":"(GMT+00:00) Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London","Offset":0},{"Name":"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna","Offset":1},{"Name":"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague","Offset":1},{"Name":"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris","Offset":1},{"Name":"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb","Offset":1},{"Name":"(GMT+01:00) West Central Africa","Offset":1},{"Name":"(GMT+02:00) Amman","Offset":2},{"Name":"(GMT+02:00) Athens, Bucharest, Istanbul","Offset":2},{"Name":"(GMT+02:00) Beirut","Offset":2},{"Name":"(GMT+02:00) Cairo","Offset":2},{"Name":"(GMT+02:00) Harare, Pretoria","Offset":2},{"Name":"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius","Offset":2},{"Name":"(GMT+02:00) Jerusalem","Offset":2},{"Name":"(GMT+02:00) Minsk","Offset":2},{"Name":"(GMT+02:00) Windhoek","Offset":2},{"Name":"(GMT+03:00) Kuwait, Riyadh, Baghdad","Offset":3},{"Name":"(GMT+03:00) Moscow, St. Petersburg, Volgograd","Offset":3},{"Name":"(GMT+03:00) Nairobi","Offset":3},{"Name":"(GMT+03:00) Tbilisi","Offset":3},{"Name":"(GMT+03:30) Tehran","Offset":3},{"Name":"(GMT+04:00) Abu Dhabi, Muscat","Offset":4},{"Name":"(GMT+04:00) Baku","Offset":4},{"Name":"(GMT+04:00) Yerevan","Offset":4},{"Name":"(GMT+04:30) Kabul","Offset":4},{"Name":"(GMT+05:00) Yekaterinburg","Offset":5},{"Name":"(GMT+05:00) Islamabad, Karachi, Tashkent","Offset":5},{"Name":"(GMT+05:30) Sri Jayawardenapura","Offset":5},{"Name":"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi","Offset":5},{"Name":"(GMT+05:45) Kathmandu","Offset":6},{"Name":"(GMT+06:00) Almaty, Novosibirsk","Offset":6},{"Name":"(GMT+06:00) Astana, Dhaka","Offset":6},{"Name":"(GMT+06:30) Yangon (Rangoon)","Offset":6},{"Name":"(GMT+07:00) Bangkok, Hanoi, Jakarta","Offset":7},{"Name":"(GMT+07:00) Krasnoyarsk","Offset":7},{"Name":"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi","Offset":8},{"Name":"(GMT+08:00) Kuala Lumpur, Singapore","Offset":8},{"Name":"(GMT+08:00) Irkutsk, Ulaan Bataar","Offset":8},{"Name":"(GMT+08:00) Perth","Offset":8},{"Name":"(GMT+08:00) Taipei","Offset":8},{"Name":"(GMT+09:00) Osaka, Sapporo, Tokyo","Offset":9},{"Name":"(GMT+09:00) Seoul","Offset":9},{"Name":"(GMT+09:00) Yakutsk","Offset":9},{"Name":"(GMT+09:30) Adelaide","Offset":9},{"Name":"(GMT+09:30) Darwin","Offset":9},{"Name":"(GMT+10:00) Brisbane","Offset":10},{"Name":"(GMT+10:00) Canberra, Melbourne, Sydney","Offset":10},{"Name":"(GMT+10:00) Hobart","Offset":10},{"Name":"(GMT+10:00) Guam, Port Moresby","Offset":10},{"Name":"(GMT+10:00) Vladivostok","Offset":10},{"Name":"(GMT+11:00) Magadan, Solomon Is., New Caledonia","Offset":11},{"Name":"(GMT+12:00) Auckland, Wellington","Offset":12},{"Name":"(GMT+12:00) Fiji, Kamchatka, Marshall Is.","Offset":12},{"Name":"(GMT+13:00) Nuku\'alofa","Offset":13}]')},199:function(e,t,a){e.exports=a(269)},201:function(e,t,a){},202:function(e,t,a){},207:function(e,t,a){},211:function(e,t,a){},222:function(e,t,a){var n={"./document.css":[270,7,7],"./en/PrivacyPolicy":[194,9,0],"./en/PrivacyPolicy.js":[194,9,0],"./en/UserAgreement":[195,9,1],"./en/UserAgreement.js":[195,9,1],"./lv/PrivacyPolicy":[196,9,2],"./lv/PrivacyPolicy.js":[196,9,2],"./lv/UserAgreement":[197,9,3],"./lv/UserAgreement.js":[197,9,3]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[2]).then((function(){return a.t(r,t[1])}))}r.keys=function(){return Object.keys(n)},r.id=222,e.exports=r},230:function(e,t,a){},261:function(e,t){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){"use strict";a.r(t);a(200),a(201),a(202);var n=a(0),r=a.n(n),s=a(34),l=a.n(s),i=a(2),c=a(318),o=a(105),u=a.n(o),m=a(15),d=a(286),p=a(151),f=a(49),E=a(172),g=a(173);p.a.use(E.a).use(g.a).use(f.e).init({fallbackLng:"en",debug:!1,defaultNS:"Default",keySeparator:!1,interpolation:{escapeValue:!1},react:{wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}});var b,v=p.a,h=a(47),y={uri:{ENDPOINT:"http://localhost:9000"}};switch(window&&window.location&&window.location.hostname){case"localhost":b=y;break;case"192.168.2.100":b={uri:{ENDPOINT:"http://192.168.2.100:5000"}};break;case"dev.zime.lv":b={uri:{ENDPOINT:"https://dev.zime.lv"}};break;case"local-currency.com":b={uri:{ENDPOINT:"https://local-currency.com"}};break;default:b=y}var O=Object(h.a)({},b),S=function(e,t){var a=Object(n.useState)((function(){var a=window.localStorage.getItem(t);return null!==a?JSON.parse(a):e})),r=Object(i.a)(a,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(s))}),[t,s]),[s,l]},C=(a(207),a(45)),N=a(111),T=a(106),R=a.n(T),k=a(306),P=a(299),j=a(187),I=a(313),w=a(137),A=a(307),q=a(289),D=a(311),_=a(291),F=a(290),G=(a(208),a(211),a(92)),L=function(e){var t={title:"Untitled",navigation:void 0,footer:void 0,header:!0,body:!0,headerContent:null,onNavigationClick:function(){}},a=Object.assign(t,e),s=0,l=a.footer?r.a.createElement(G.a.Footer,null,a.footer):"";return r.a.createElement(G.a,null,a.header&&r.a.createElement(G.a.Header,{className:"custom-card"},null!==a.headerContent?a.headerContent:r.a.createElement(r.a.Fragment,null,a.title.length>0&&r.a.createElement(G.a.Title,null,a.title),r.a.createElement(w.a,{variant:"tabs",defaultActiveKey:a.navigationdefaultActiveKey},a.navigation&&a.navigation.map((function(e,t){return r.a.createElement(w.a.Item,{key:t},r.a.createElement(w.a.Link,{className:"custom-card",href:e.link,onClick:function(){return a.onNavigationClick(e.link)},style:{color:"black"}},e.name))}))))),a.body&&r.a.createElement(G.a.Body,{className:"custom-card"},r.a.Children.map(e.children,(function(e){return"object"!==typeof e?e:(s++,Object(n.cloneElement)(e,{styles:null,key:s}))}))),l)},U=a(9),B=a(7),x=(a(191),a(312),a(287)),M=a(288),K=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setTimeout((function(){t>0&&a.current()}),t);return function(){return clearTimeout(e)}}}),[t])},V=function(e){var t=Object.assign({caption:"Submit",request:null,namespace:"Button",visible:!0,marginTop:0,timeout:15e3,onSubmit:function(){}},e),a=t.barrelGetters.request,s=t.barrelSetters,l=(s.setRequest,s.setError),c=s.setInfo,o=(t.barrelFunctions.showMessage,Object(n.useState)(!1)),u=Object(i.a)(o,2),m=u[0],d=(u[1],function(){l(null),c(null),t.onSubmit()});return r.a.createElement(r.a.Fragment,null,t.visible?r.a.createElement(x.a,{type:"submit",onClick:d,block:!0,disabled:a===t.request&&!m,style:{marginTop:t.marginTop+"px"}},r.a.createElement(M.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true",hidden:a!==t.request||m}),"\xa0",t.caption,"\xa0"):r.a.createElement(r.a.Fragment,null))},z=a(310),J=a(183),H=a(184),W=a(190),X=a(192),Y=function(e){Object(X.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(H.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log("Error boundary:",e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(r.a.Fragment,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(r.a.Component),$=function(e){var t=Object.assign({namespace:"ModalMessage",centered:!0,message:"",title:null,footer:null,onHide:function(){},size:"sm",file:null,backdrop:!0},e),n=Object(d.a)([t.namespace]).t,s=null!==t.file?r.a.lazy((function(){return a(222)("./".concat(t.file))})):"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,Object.assign({},t,{size:t.size,"aria-labelledby":"contained-modal-title-vcenter",centered:t.centered,backdrop:t.backdrop}),null!==t.title&&r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(I.a,{style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"",boxShadow:"none"}},r.a.createElement(I.a.Brand,{href:"/"},r.a.createElement("img",{src:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top"})),r.a.createElement(w.a,{className:"mr-auto"},r.a.createElement(z.a.Title,{id:"contained-modal-title-vcenter"},t.title)))),r.a.createElement(z.a.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},""!==t.message?t.message:r.a.createElement(Y,null,r.a.createElement(s,null))),null!==t.footer&&r.a.createElement(z.a.Footer,null,r.a.createElement(x.a,{block:!0,onClick:t.onHide},n("Close")))))},Z=a(186),Q=function(e){var t=Object.assign({request:"get user sequence",namespace:"AccountRegistration"},e),a=t.barrelGetters,s=a.signedIn,l=a.accountNumber,c=(a.accountPhotoPath,a.userData),o=a.language,u=a.userBirthYear,m=a.userBirthMonth,p=a.userBirthDay,f=a.userBirthDateError,E=a.userTimezone,g=a.debug,b=t.barrelSetters,v=b.setUserBirthYear,h=b.setUserBirthMonth,y=b.setUserBirthDay,O=b.setUserBirthDateError,C=b.setUserTimezone,N=t.barrelFunctions,T=N.getReviser,R=N.getWorkplace,k=N.sendRequest,P=(N.formatDate,S(!1,"userAgreementShow")),I=Object(i.a)(P,2),w=I[0],A=I[1],G=S(!1,"privacyPolicyShow"),x=Object(i.a)(G,2),M=x[0],K=x[1],z=S(null,"offsetList"),J=Object(i.a)(z,2),H=(J[0],J[1],Object(n.useState)(!1)),W=Object(i.a)(H,2),X=(W[0],W[1],Object(d.a)(t.namespace).t),Y=B.b({timezone:B.c().required(X("Timezone at birth is required")),birthYear:B.a().required(X("Year is required")),birthMonth:B.a().required(X("Month is required")),birthDay:B.a().required(X("Day is required"))}),Q=Z,ee=function(e,t,a){var n="".concat(t,"/").concat(a,"/").concat(e);return function(e){if(!e.match(/^(0?[1-9]|1[0-2])[\/](0?[1-9]|[1-2][0-9]|3[01])[\/]\d{4}$/))return!1;var t=[];e.split("/").length>1&&(t=e.split("/"));var a=parseInt(t[0]),n=parseInt(t[1]),r=parseInt(t[2]);if(1==a||a>2){if(n>[31,28,31,30,31,30,31,31,30,31,30,31][a-1])return!1}else if(2==a){var s=!1;if((r%4||!(r%100))&&r%400||(s=!0),0==s&&n>=29)return!1;if(1==s&&n>29)return!1}return!0}(n)?""!==e&&""!==t&&""!==a?(O(""),n):(O(""),""):""!==e&&""!==t&&""!==a?(O(X("Date must be valid")),""):(O(""),"")},te=(new Date).getFullYear();return!1===s?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"info"},r.a.createElement(_.a.Heading,null,X("User not logged in")),r.a.createElement("p",null,r.a.createElement(q.a,{i18nKey:"AccountRegistration:Please log in first"},"Please log in first.")))):g||null===l?r.a.createElement(r.a.Fragment,null,r.a.createElement($,{show:w,file:"".concat(o,"/UserAgreement"),size:"lg",centered:!1,title:X("User Agreement"),footer:"",onHide:function(){return A(!1)}}),r.a.createElement($,{show:M,file:"".concat(o,"/PrivacyPolicy"),size:"lg",centered:!1,title:X("Privacy Policy"),footer:"",onHide:function(){return K(!1)}}),r.a.createElement(L,{title:X("Open account")},r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.setFieldValue,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Row,{style:{margin:"0 0"}},r.a.createElement(D.a.Group,{as:j.a,controlId:"formGridDateOfBirth",style:{margin:"0 0"}},r.a.createElement(D.a.Label,null,X("Date of birth")))),r.a.createElement(D.a.Row,null,r.a.createElement(D.a.Group,{as:j.a,controlId:"formGridYear"},r.a.createElement(D.a.Control,{custom:!0,as:"select",name:"birthYear",value:l.birthYear,onChange:function(e){s(e),v(e.target.value),O("")},isInvalid:!!c.birthYear&&i.birthYear},r.a.createElement("option",{key:"",value:""},X("Year")),Array.from(Array(120).keys()).map((function(e){var t=te-e;return r.a.createElement("option",{key:e,value:t},t)}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.birthYear),r.a.createElement("div",{className:"invalid-feedback-custom"},f)),r.a.createElement(D.a.Group,{as:j.a,controlId:"formGridMonth"},r.a.createElement(D.a.Control,{custom:!0,as:"select",name:"birthMonth",value:l.birthMonth,onChange:function(e){s(e),h(e.target.value),O("")},isInvalid:!!c.birthMonth&&i.birthMonth},r.a.createElement("option",{key:"",value:""},X("Month")),Array.from(Array(12).keys()).map((function(e){var t=new Date("".concat(e+1,"/1/1970")).toLocaleString(o,{month:"long"}),a=(e+1).toString().padStart(2,"0");return r.a.createElement("option",{key:e,value:a},a," - ",t)}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.birthMonth)),r.a.createElement(D.a.Group,{as:j.a,controlId:"formGridDay"},r.a.createElement(D.a.Control,{custom:!0,as:"select",name:"birthDay",value:l.birthDay,onChange:function(e){s(e),y(e.target.value),O("")},isInvalid:!!c.birthDay&&i.birthDay},r.a.createElement("option",{key:"",value:""},X("Day")),Array.from(Array(31).keys()).map((function(e){var t=(e+1).toString().padStart(2,"0");return r.a.createElement("option",{key:e,value:t},t)}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.birthDay))),r.a.createElement(D.a.Group,{controlId:"validationFormikTimezone"},r.a.createElement(D.a.Label,null,X("Timezone at birth")),r.a.createElement(D.a.Control,{as:"select",custom:!0,name:"timezone",value:l.timezone,onChange:function(e){s(e),C(e.target.value)},isInvalid:!!c.timezone&&i.timezone},r.a.createElement("option",{value:""},X("Choose...")),Q.map((function(e,t){return r.a.createElement("option",{key:t,value:"".concat(((e.Offset+12)%24+1).toString().padStart(2,"0")," - ").concat(e.Name)},e.Name)}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.timezone)),r.a.createElement("div",{style:{paddingBottom:"10px"}},X("Agree to terms and conditions")),r.a.createElement(q.a,{i18nKey:"AccountRegistration:The User Agreement and the Privacy Policy"},r.a.createElement(F.a,{style:{color:"var(--dark)"}}),r.a.createElement("a",{href:"#",onMouseDown:function(){return A(!0)}},"User Agreement"),r.a.createElement("br",null),r.a.createElement(F.a,{style:{color:"var(--dark)"}}),r.a.createElement("a",{href:"#",onMouseDown:function(){return K(!0)}},"Privacy Policy")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(V,Object.assign({},e,{caption:X("Submit"),request:t.request,namespace:t.namespace})))},validationSchema:Y,onSubmit:function(e){delete e.birthYear,delete e.birthMonth,delete e.birthDay;var a=ee(u,m,p);e.birthDate=a,""!==a&&function(e){null!==e&&(e.reviser=T(),e.workplace=R(),e.email=c.email,k({req:t.request,data:e}))}(e)},initialValues:{timezone:E,birthYear:u,birthMonth:m,birthDay:p}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"info"},r.a.createElement(_.a.Heading,null,X("Account successfully registered")),r.a.createElement("p",null,r.a.createElement(q.a,{i18nKey:"AccountRegistration:Account with your personal ID successfully registered",accountNumber:l},"Account with the personal ID",r.a.createElement("strong",null,{accountNumber:l}),"successfully registered."))))},ee=a(315),te=a(293),ae=a(136),ne=a.n(ae),re=a(319),se=a(292),le=a(64),ie=function(e){var t=Object.assign({namespace:"Pagination",size:"md",countItems:0,itemsPerPage:5,active:0,onClick:function(){},align:"center"},e),a=Math.ceil(t.countItems/t.itemsPerPage);if(a<2)return r.a.createElement(r.a.Fragment,null);var n=function(){for(var e=[],n=function(n){1===n||n===a||n>=t.active-1&&n<=t.active+1?e.push(r.a.createElement(le.a.Item,{key:n,active:n===t.active,onClick:function(){return function(e){switch(e){case"First":e=1;break;case"Prev":e=t.active>1?t.active-1:1;break;case"Next":e=t.active<Math.ceil(t.countItems/t.itemsPerPage)?t.active+1:Math.ceil(t.countItems/t.itemsPerPage);break;case"Last":e=Math.ceil(t.countItems/t.itemsPerPage)}t.onClick(e)}(n)}},n)):2!==n&&n!==a-1||e.push(r.a.createElement(le.a.Ellipsis,{key:n,disabled:!0}))},s=1;s<=a;s++)n(s);return e};return r.a.createElement(r.a.Fragment,null,function(){var e=t.align;return r.a.createElement("div",{style:{textAlign:"".concat(e)}},r.a.createElement("span",{style:{display:"inline-block"}},r.a.createElement(le.a,{size:t.size,style:{padding:0,margin:0}},a>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.First,{onClick:function(){return t.onClick("First")}}),r.a.createElement(le.a.Prev,{onClick:function(){return t.onClick("Prev")}})),n(),a>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Next,{onClick:function(){return t.onClick("Next")}}),r.a.createElement(le.a.Last,{onClick:function(){return t.onClick("Last")}})))))}())},ce=function(e){var t=Object.assign({request:"get transactions",namespace:"Transactions"},e),a=t.barrelGetters,n=a.transactions,s=a.countTransactions,l=a.activePageTransactions,i=a.transactionsPerPage,c=a.accountNumber,o=(a.responseProps,t.barrelFunctions),u=o.getTransactions,m=(o.getRequestStatus,o.showRequestStatus),p=o.format,f=o.formatDate,E=o.formatPerCent,g=Object(d.a)([t.namespace]).t,b=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{variant:"flush"},null!==n&&n.map((function(e,t){b++;var a=e.business_title,n=e.comment,s=e.conv_amount,l=e.created,i=e.sender_firstname,o=e.sender_lastname,u=e.recipient_firstname,m=e.recipient_lastname,d=e.purpose_id,v=e.purpose_title,h=e.recipient_id,y=e.roles,O=e.share,S=e.share_per_cent,C=e.sender_id,N=e.from_account,T=e.to_account,R=e.type,k=C===c,P=h===c,j=g(N),I=g(T),w=null!==y&&"-"!==y&&"undefined"!==typeof y,A=w?y.split(","):[],D="undefined"!==typeof O&&null!==O&&"-"!==O;if("transfer U2S"===R)return r.a.createElement(re.a.Item,{key:t,action:!0},r.a.createElement("span",{style:{float:"right"}},P?"":"-",p(s)),r.a.createElement(q.a,{i18nKey:"Transactions:fromAccountToAccount",t_from_account:j,t_to_account:I},{t_from_account:j}," ",r.a.createElement(se.a,{style:{color:"var(--dark)"}})," ",{t_to_account:I}),r.a.createElement("br",null),r.a.createElement("small",null,f(l)));if("transfer U2U"===R)return r.a.createElement(re.a.Item,{key:t,action:!0},u," ",m,r.a.createElement("span",{style:{float:"right"}},P?"":"-",p(s)),""!==n&&r.a.createElement("br",null),n,r.a.createElement("br",null),r.a.createElement("small",null,f(l)));if("transfer V2U"===R)return r.a.createElement(re.a.Item,{key:t,action:!0},g("Daily allowance"),r.a.createElement("span",{style:{float:"right"}},P?"":"-",p(s)),r.a.createElement("br",null),r.a.createElement("small",null,f(l)));if("transfer U2B"===R){var _=k?"":r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),i," ",o);return r.a.createElement(re.a.Item,{key:t,action:!0},d,r.a.createElement("span",{style:{float:"right"}},P?"":"-",p(s)),r.a.createElement("br",null),a," \xb7 ",v,_,w&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),A.map((function(e,t){return r.a.createElement("span",{key:t}," ",r.a.createElement(te.a,{pill:!0,variant:"secondary"},e))})))," ",D&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),O," ",g("shares")," (",E(S),")"),""!==n&&r.a.createElement("br",null),n,r.a.createElement("br",null),r.a.createElement("small",null,f(l)))}return console.log("Unknown transfer type:",R),r.a.createElement(r.a.Fragment,null)}))),m("get transactions / SELECT transactions",b,g("Loading..."),g("No transactions"),"finished"),r.a.createElement("br",null),r.a.createElement(ie,Object.assign({},e,{size:"sm",countItems:s,itemsPerPage:i,active:l,onClick:function(e){switch(e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}u(e)}})))},oe=a(314),ue=a(294),me=function(e){var t=Object.assign({namespace:"Shareholder",request:"change share",purpose:null,shareholder:null,closeButton:!0,rangeControl:!0,sharePerCent:null,businessTitle:null,purposeTitle:null,businessOwnerFirstname:null,businessOwnerLastname:null,sharesCreated:null},e),a=t.barrelGetters.purposeShareholders,s=t.barrelSetters.setPurposeShareholders,l=t.barrelFunctions,c=l.sendRequest,o=l.formatPerCent,u=l.formatDate,m=Object(n.useState)(t.share),p=Object(i.a)(m,2),f=p[0],E=p[1],g=Object(n.useRef)(R.a.debounce((function(e){return y(e)}),2e3)).current,b=Object(d.a)([t.namespace]).t,v=function(e){E(e.target.value),g(e.target.value)},h=function(){var e={};return e.purpose_id=t.purpose,e.shareholder_id=t.shareholder,c({req:"remove shareholder",data:e})},y=function(e){var n=a;n[t.id].share=e,s(JSON.stringify(n));var r={};return r.purpose_id=t.purpose,r.shareholder_id=t.shareholder,r.share=e,c({req:t.request,data:r})};return r.a.createElement(r.a.Fragment,null,function(){var e="sharesLabel".concat(t.key);return r.a.createElement(oe.a,{key:t.key,onClose:h,style:{minWidth:"100%"}},r.a.createElement(oe.a.Header,{closeButton:t.closeButton},r.a.createElement("strong",{className:"mr-auto"},t.firstname," ",t.lastname," ",r.a.createElement("small",null,r.a.createElement(ue.a,{hidden:!0,fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement("small",null,r.a.createElement("span",{id:e},f)," ",b("shares"))),r.a.createElement(oe.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(D.a.Group,{controlId:"formRoles"},r.a.createElement("div",null,t.roles.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement(te.a,{pill:!0,variant:"secondary"},e)," ")})))),t.rangeControl&&r.a.createElement(D.a.Group,{controlId:"formBasicRange"},r.a.createElement(D.a.Control,{type:"range",custom:!0,variant:"light",defaultValue:f,min:1,max:1e3,step:1,onChange:v}))),r.a.createElement("span",null,null!==t.sharePerCent&&o(t.sharePerCent)," ",null!==t.businessTitle&&t.businessTitle," ",null!==t.businessTitle&&null!==t.purposeTitle&&r.a.createElement(r.a.Fragment,null," \xb7 "),null!==t.purposeTitle&&t.purposeTitle," "),null!==t.sharesCreated&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),u(t.sharesCreated,{month:"long",day:"numeric",year:"numeric"}))," ",(null!==t.businessOwnerFirstname||null!==t.businessOwnerLastname)&&r.a.createElement("br",null),null!==t.businessOwnerFirstname&&t.businessOwnerFirstname," ",null!==t.businessOwnerLastname&&t.businessOwnerLastname," "))}())},de=function(e){var t=Object.assign({request:"get shares",namespace:"Shares"},e),a=t.barrelGetters,n=a.shares,s=a.countShares,l=a.activePageShares,i=a.sharesPerPage,c=a.userData,o=t.barrelFunctions,u=o.getShares,m=(o.getRequestStatus,o.showRequestStatus),p=Object(d.a)([t.namespace]).t,f=0;return r.a.createElement(r.a.Fragment,null,null!==n&&n.map((function(t,a){f++;var n=t.business_title,s=t.owner_firstname,l=t.owner_lastname,i=t.purpose_id,o=t.purpose_title,u=t.shareholder_id,m=t.shares_created,d=t.share_per_cent,p=t.shares_roles,E=t.shares_share,g=null!==p?p.split(","):[];return r.a.createElement(me,Object.assign({},e,{key:a,id:a,shareholder:u,purpose:i,firstname:c.firstname,lastname:c.lastname,share:E,roles:g,closeButton:!1,rangeControl:!1,sharePerCent:d,businessOwnerFirstname:s,businessOwnerLastname:l,businessTitle:n,purposeTitle:o,sharesCreated:m}))})),m("get shares / SELECT shares",f,p("Loading..."),p("No shares"),"finished"),r.a.createElement(ie,Object.assign({},e,{size:"md",countItems:s,itemsPerPage:i,active:l,onClick:function(e){switch(console.log("on page select",e),e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}u(e)}})))},pe=function(e){var t=Object.assign({},e),a=t.barrelGetters,n=a.userData,s=a.accountNumber,l=a.accordionView,i=t.barrelSetters,c=i.setAccountType,o=i.setRedirectTo,u=i.setAccordionView,m=i.setResponseProps,p=t.barrelFunctions,f=p.format,E=p.getAccountData,g=p.getTransactions,b=p.getShares,v=Object(d.a)("Balance").t,h=n,y=function(e){c(e),o("/transfer")},O=null!==h?f(h.acc_curr+h.acc_cred+h.acc_save):null,S=null!==h?f(h.acc_curr):null,C=null!==h?f(h.acc_cred):null,N=null!==h?f(h.acc_save):null;null===s&&o("/sign-out");var T=function(e){var t=l!==e?e:null;if(m(null),u(t),null!==t)switch(e){case"balance":E();break;case"transactions":g(1);break;case"shares":b(1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{defaultActiveKey:l},r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"accountNumber",style:{cursor:"pointer"},onClick:function(){return T("accountNumber")}},v("Account number")),r.a.createElement(ee.a.Collapse,{eventKey:"accountNumber"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,s)))),r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"balance",style:{cursor:"pointer"},onClick:function(){return T("balance")}},v("Balance")),r.a.createElement(ee.a.Collapse,{eventKey:"balance"},r.a.createElement(G.a.Body,null,r.a.createElement(D.a,{noValidate:!0},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,v("Available")),r.a.createElement(D.a.Text,null,r.a.createElement("div",{style:{fontSize:"3em"}},O))),r.a.createElement(D.a.Group,null,r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},v("Current account")),r.a.createElement("span",{className:"link",onClick:function(){return y("acc_curr")}},r.a.createElement(te.a,{variant:"Light"},S),"\xa0",r.a.createElement(ne.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},v("Credit account")),r.a.createElement("span",{className:"link",onClick:function(){return y("acc_cred")}},r.a.createElement(te.a,{variant:"Light"},C),"\xa0",r.a.createElement(ne.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},v("Savings account")),r.a.createElement("span",{className:"link",onClick:function(){return y("acc_save")}},r.a.createElement(te.a,{variant:"Light"},N),"\xa0",r.a.createElement(ne.a,{style:{color:"var(--dark)"}}))))))))),r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"transactions",style:{cursor:"pointer"},onClick:function(){return T("transactions")}},v("Transactions")),r.a.createElement(ee.a.Collapse,{eventKey:"transactions"},r.a.createElement(G.a.Body,null,r.a.createElement(ce,e)))),r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"shares",style:{cursor:"pointer"},onClick:function(){return T("shares")}},v("Shares")),r.a.createElement(ee.a.Collapse,{eventKey:"shares"},r.a.createElement(G.a.Body,null,r.a.createElement(de,e))))))},fe=a(295),Ee=function(e){var t=e.args,a=e.title,s=e.navigation,l=e.navigationdefaultActiveKey,i=e.onNavigationClick,c=Object.assign({request:"transfer U2S",namespace:"Transfer"},t),o=c.barrelGetters,u=o.userData,m=o.accountNumber,p=o.accountType,f=o.language,E=o.currencyAbbr,g=o.transferFromAccount,b=o.transferToAccount,v=o.transferAmount,h=c.barrelSetters,y=h.setTransferFromAccount,O=h.setTransferToAccount,S=h.setTransferAmount,C=c.barrelFunctions,N=C.format,T=C.parseLocaleNumber,R=C.sendRequest,k=C.getReviser,P=C.getWorkplace,j=Object(d.a)([c.namespace]).t,I=r.a.createRef();Object(n.useEffect)((function(){return function(){S(I.current.value)}}),[]);var w=B.b({fromAccount:B.c().required(j("From Account is required")),toAccount:B.c().required(j("To Account is required")),amount:B.c().required(j("Amount is required")).matches(new RegExp(j("Amount Regex")),j("Wrong amount format"))}),A="",q="",_="";null!==u&&(A=" ("+N(u.acc_curr)+")",q=" ("+N(u.acc_cred)+")",_=" ("+N(u.acc_save)+")");return r.a.createElement(U.a,{component:function(e){var n=e.handleSubmit,o=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,d=(e.isValid,e.validateForm,e.errors);return r.a.createElement(L,{title:a,navigation:s,navigationdefaultActiveKey:l,onNavigationClick:i},r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFromAccount"},r.a.createElement(D.a.Label,null,j("From account")),r.a.createElement(D.a.Control,{as:"select",custom:!0,name:"fromAccount",value:u.fromAccount,onChange:function(e){o(e),y(e.target.value)},isInvalid:!!d.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},j("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==p&&"acc_curr"!==p},j("Current account"),A),r.a.createElement("option",{value:"acc_cred",hidden:null!==p&&"acc_cred"!==p},j("Credit account"),q),r.a.createElement("option",{value:"acc_save",hidden:null!==p&&"acc_save"!==p},j("Savings account"),_)),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.fromAccount)),r.a.createElement(D.a.Group,{controlId:"validationToAccount"},r.a.createElement(D.a.Label,null,j("To account")),r.a.createElement(D.a.Control,{as:"select",custom:!0,name:"toAccount",value:u.toAccount,onChange:function(e){o(e),O(e.target.value)},isInvalid:!!d.toAccount&&m.toAccount},r.a.createElement("option",{value:""},j("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:"acc_curr"===p},j("Current account"),A),r.a.createElement("option",{value:"acc_cred",hidden:"acc_cred"===p},j("Credit account"),q),r.a.createElement("option",{value:"acc_save",hidden:"acc_save"===p},j("Savings account"),_)),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.toAccount)),r.a.createElement(D.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(D.a.Label,null,j("Amount")),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Prepend,null,r.a.createElement(fe.a.Text,{id:"inputGroupPrepend"},E)),r.a.createElement(D.a.Control,{placeholder:N(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",ref:I,value:u.amount,onChange:function(e){o(e)},isInvalid:!!d.amount&&m.amount}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.amount))),r.a.createElement(V,Object.assign({},t,{caption:j("Submit"),request:"transfer U2S",namespace:c.namespace}))))},validationSchema:w,onSubmit:function(e){!function(e){e.reviser=k(),e.workplace=P(),e.uid=m,e.amount=T(e.amount,f),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2,useGrouping:!1}).format(e.amount),R({req:c.request,data:e}),S("")}(e)},initialValues:{fromAccount:g,toAccount:b,amount:v}})},ge=function(e){var t=Object.assign({namespace:"TanInput",request:"submit tan",show:!1,size:"lg"},e),a=t.barrelGetters,s=a.tanRequired,l=a.userData,i=a.tanInputTAN,c=t.barrelSetters,o=c.setTanRequired,u=c.setTanInputTAN,m=t.barrelFunctions.sendRequest,p=Object(d.a)([t.namespace]).t,f=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==f.current&&i!==f.current.value&&u(f.current.value)}}),[]);var E=B.b({tan:B.c().required(p("TAN is required"))}),g=r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,p("A transaction number has been sent to your email account.")),r.a.createElement("br",null),r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFormikTAN"},r.a.createElement(D.a.Label,null,p("TAN")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"tan",ref:f,value:l.tan,onChange:s,isInvalid:!!c.tan&&i.tan}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.tan))),r.a.createElement(V,Object.assign({},e,{caption:p("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:E,onSubmit:function(e){return o(!1),e.email=l.email,u(""),m({req:t.request,data:e})},initialValues:{tan:i}});return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{message:g,show:s,size:t.size,centered:!0,onHide:function(){return o(!1)}}))},be=function(e){var t=e.args,a=e.title,s=e.navigation,l=e.navigationdefaultActiveKey,c=e.onNavigationClick,o=Object.assign({request:"transfer U2U",namespace:"Transfer"},t),u=o.barrelGetters,m=u.userData,p=u.accountNumber,f=u.language,E=u.accountType,g=u.currencyAbbr,b=u.tanRequired,v=u.transferFromAccount,h=u.transferAmount,y=u.transferToUID,O=u.transferDescription,C=o.barrelSetters,N=C.setTransferRequest,T=C.setTransferFromAccount,R=C.setTransferAmount,k=C.setTransferToUID,P=C.setTransferDescription,j=o.barrelFunctions,I=j.format,w=j.parseLocaleNumber,A=j.sendRequest,q=j.getReviser,_=j.getWorkplace,F=Object(d.a)([o.namespace]).t,G=S("","transferDescriptionTemp"),x=Object(i.a)(G,2),M=(x[0],x[1],r.a.createRef()),K=r.a.createRef(),z=r.a.createRef();Object(n.useEffect)((function(){return function(){k(M.current.value),P(K.current.value),R(z.current.value)}}),[]);var J=B.b({fromAccount:B.c().required(F("From Account is required")),toPersonalID:B.c().required(F("Recipients Personal ID is required")).matches(new RegExp(F("Personal ID Regex")),F("Wrong Personal ID format")),amount:B.c().required(F("Amount is required")).matches(new RegExp(F("Amount Regex")),F("Wrong amount format"))}),H="",W="",X="";null!==m&&(H=" ("+I(m.acc_curr)+")",W=" ("+I(m.acc_cred)+")",X=" ("+I(m.acc_save)+")");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,Object.assign({show:b,size:"sm"},t)),r.a.createElement(U.a,{component:function(e){var n=e.handleSubmit,i=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,d=(e.isValid,e.errors);return r.a.createElement(L,{title:a,navigation:s,navigationdefaultActiveKey:l,onNavigationClick:c},r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFromAccount"},r.a.createElement(D.a.Label,null,F("From account")),r.a.createElement(D.a.Control,{as:"select",custom:!0,name:"fromAccount",value:u.fromAccount,onChange:function(e){i(e),T(e.target.value)},isInvalid:!!d.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},F("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==E&&"acc_curr"!==E},F("Current account"),H),r.a.createElement("option",{value:"acc_cred",hidden:null!==E&&"acc_cred"!==E},F("Credit account"),W),r.a.createElement("option",{value:"acc_save",hidden:null!==E&&"acc_save"!==E},F("Savings account"),X)),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.fromAccount)),r.a.createElement(D.a.Group,{controlId:"validationFormikToPersonalID"},r.a.createElement(D.a.Label,null,F("To Personal ID")),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Prepend,null,r.a.createElement(fe.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(D.a.Control,{type:"text",placeholder:F("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"toPersonalID",ref:M,value:u.toPersonalID,onChange:i,isInvalid:!!d.toPersonalID&&m.toPersonalID}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.toPersonalID))),r.a.createElement(D.a.Group,{controlId:"validationFormikDescription"},r.a.createElement(D.a.Label,null,F("Description")),r.a.createElement(D.a.Control,{as:"textarea",rows:"3",name:"description",ref:K,value:u.description,onChange:i})),r.a.createElement(D.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(D.a.Label,null,F("Amount")),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Prepend,null,r.a.createElement(fe.a.Text,{id:"inputGroupPrepend"},g)),r.a.createElement(D.a.Control,{placeholder:I(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",ref:z,value:u.amount,onChange:i,isInvalid:!!d.amount&&m.amount}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.amount))),r.a.createElement(V,Object.assign({},t,{caption:F("Submit"),request:"get tan",namespace:o.namespace}))))},validationSchema:J,onSubmit:function(e){!function(e){e.transferType=o.request,e.reviser=q(),e.workplace=_(),e.uid=p,e.email=m.email,e.language=f,e.amount=w(e.amount,f),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2,useGrouping:!1}).format(e.amount),N(JSON.stringify(e)),e={email:e.email,language:e.language},A({req:"get tan",data:e}),R("")}(e)},initialValues:{fromAccount:v,toPersonalID:y,amount:h,description:O}}))},ve=function(e){var t=e.args,a=e.title,s=e.navigation,l=e.navigationdefaultActiveKey,i=e.onNavigationClick,c=Object.assign({request:"transfer U2B",namespace:"Transfer"},t),o=c.barrelGetters,u=o.userData,m=o.accountNumber,p=o.language,f=o.accountType,E=o.currencyAbbr,g=o.tanRequired,b=o.transferFromAccount,v=o.transferToPurpose,h=o.transferDescription,y=o.transferAmount,O=c.barrelSetters,S=O.setTransferRequest,C=O.setTransferFromAccount,N=O.setTransferToPurpose,T=O.setTransferDescription,R=O.setTransferAmount,k=c.barrelFunctions,P=k.format,j=k.parseLocaleNumber,I=k.sendRequest,w=k.getReviser,A=k.getWorkplace,q=Object(d.a)([c.namespace]).t,_=r.a.createRef(),F=r.a.createRef(),G=r.a.createRef();Object(n.useEffect)((function(){return function(){N(_.current.value),T(F.current.value),R(G.current.value)}}),[]);var x=B.b({fromAccount:B.c().required(q("From Account is required")),purposeID:B.c().required(q("Purpose ID is required")),amount:B.c().required(q("Amount is required")).matches(new RegExp(q("Amount Regex")),q("Wrong amount format"))}),M="",K="",z="";null!==u&&(M=" ("+P(u.acc_curr)+")",K=" ("+P(u.acc_cred)+")",z=" ("+P(u.acc_save)+")");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,Object.assign({show:g,size:"sm"},t)),r.a.createElement(U.a,{component:function(e){var n=e.handleSubmit,o=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,d=(e.isValid,e.errors);return r.a.createElement(L,{title:a,navigation:s,navigationdefaultActiveKey:l,onNavigationClick:i},r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFromAccount"},r.a.createElement(D.a.Label,null,q("From account")),r.a.createElement(D.a.Control,{as:"select",custom:!0,name:"fromAccount",value:u.fromAccount,onChange:function(e){o(e),C(e.target.value)},isInvalid:!!d.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},q("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==f&&"acc_curr"!==f},q("Current account"),M),r.a.createElement("option",{value:"acc_cred",hidden:null!==f&&"acc_cred"!==f},q("Credit account"),K),r.a.createElement("option",{value:"acc_save",hidden:null!==f&&"acc_save"!==f},q("Savings account"),z)),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.fromAccount)),r.a.createElement(D.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(D.a.Label,null,q("To Purpose ID")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:"PXXXXXXXXXXXXXXXXXXXXXXX","aria-describedby":"inputGroupPrepend",name:"purposeID",ref:_,value:u.purposeID,onChange:o,isInvalid:!!d.purposeID&&m.purposeID}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.purposeID))),r.a.createElement(D.a.Group,{controlId:"description"},r.a.createElement(D.a.Label,null,q("Description")),r.a.createElement(D.a.Control,{as:"textarea",rows:"3",name:"description",ref:F,value:u.description,onChange:o})),r.a.createElement(D.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(D.a.Label,null,q("Amount")),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Prepend,null,r.a.createElement(fe.a.Text,{id:"inputGroupPrepend"},E)),r.a.createElement(D.a.Control,{type:"string",placeholder:P(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",ref:G,value:u.amount,onChange:o,isInvalid:!!d.amount&&m.amount}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},d.amount))),r.a.createElement(V,Object.assign({},t,{caption:q("Submit"),request:"get tan",namespace:c.namespace}))))},validationSchema:x,onSubmit:function(e){!function(e){e.transferType=c.request,e.reviser=w(),e.workplace=A(),e.uid=m,e.email=u.email,e.language=p,e.currency=E,e.amount=j(e.amount,p),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2,useGrouping:!1}).format(e.amount),S(JSON.stringify(e)),e={email:e.email,language:e.language},I({req:"get tan",data:e}),R("")}(e)},initialValues:{fromAccount:b,purposeID:v,amount:y,description:h}}))},he=a(316),ye=a(296),Oe=a(297),Se=a(298),Ce=function(e){var t=Object.assign({namespace:"BusinessRegistration",request:"register business"},e),a=t.barrelGetters,s=a.accountNumber,l=a.businessRegistrationAddTitle,i=a.businessRegistrationAddDescription,c=t.barrelSetters,o=c.setBusinessRegistrationAddTitle,u=c.setBusinessRegistrationAddDescription,m=t.barrelFunctions,p=m.sendRequest,f=m.getReviser,E=m.getWorkplace,g=(t.barrelEventHandlers.onBusinessRegistration,Object(d.a)([t.namespace]).t),b=r.a.createRef(),v=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==b.current&&l!==b.current.value&&o(b.current.value),null!==v.current&&i!==v.current.value&&u(v.current.value)}}),[]);var h=B.b({businessTitle:B.c().required(g("Business title is a required field")).min(3,g("Business title too short")).max(70,g("Business title too long")).trim(),businessDescription:B.c().optional()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(D.a.Label,null,g("Business Title")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"businessTitle",ref:b,value:l.businessTitle,onChange:s,isInvalid:!!c.businessTitle&&i.businessTitle}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.businessTitle))),r.a.createElement(D.a.Group,{controlId:"businessDescription"},r.a.createElement(D.a.Label,null,g("Business Description")),r.a.createElement(D.a.Control,{as:"textarea",rows:"3",name:"businessDescription",ref:v,value:l.businessDescription,onChange:s})),r.a.createElement(V,Object.assign({},e,{caption:g("Submit"),request:t.request,namespace:t.namespace})))},validationSchema:h,onSubmit:function(e){e.reviser=f(),e.workplace=E(),e.uid=s,p({req:t.request,data:e})},initialValues:{businessTitle:l,businessDescription:i}}))},Ne=function(e){var t=Object.assign({namespace:"PurposeRegistration",requestInsert:"register purpose",requestUpdate:"update purpose property",businessID:null,purposeID:null,title:"",description:"",category:"",subcategory:"",subcategory2:"",keywords:""},e),a=t,s=t.businessID,l=t.purposeID,i=t.id,c=a.barrelGetters,o=c.accountNumber,u=c.language,m=(c.businessPurposes,c.purposeRegistrationTitle),p=c.purposeRegistrationDescription,f=c.purposeRegistrationKeywords,E=a.barrelSetters,g=(E.setBusinessPurposes,E.setPurposeRegistrationTitle),b=E.setPurposeRegistrationDescription,v=E.setPurposeRegistrationKeywords,h=a.barrelFunctions,y=h.getReviser,O=h.getWorkplace,S=a.barrelEventHandlers.onPurposeRegistration,C=Object(d.a)([t.namespace]).t,N=r.a.createRef(),T=r.a.createRef(),R=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==N.current&&m!==N.current.value&&g(N.current.value),null!==T.current&&p!==T.current.value&&b(T.current.value),null!==R.current&&f!==R.current.value&&v(R.current.value)}}),[]);var k=B.b({purposeTitle:B.c().required(C("Purpose title is a required field")).min(3,C("Purpose title too short")).max(70,C("Purpose title too long")).trim(),purposeDescription:B.c().optional(),purposeKeywords:B.c().optional()});return r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFormikPurposeID"},r.a.createElement(D.a.Label,null,C("Purpose Title")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeTitle",ref:N,value:l.purposeTitle,onChange:s,isInvalid:!!c.purposeTitle&&i.purposeTitle}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.purposeTitle))),r.a.createElement(D.a.Group,{controlId:"purposeDescription"},r.a.createElement(D.a.Label,null,C("Purpose Description")),r.a.createElement(D.a.Control,{as:"textarea",rows:"3",name:"purposeDescription",ref:T,value:l.purposeDescription,onChange:s})),r.a.createElement(D.a.Group,{controlId:"validationFormikPurposeKeywords"},r.a.createElement(D.a.Label,null,C("Purpose Keywords")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:"",name:"purposeKeywords",ref:R,value:l.purposeKeywords,onChange:s,isInvalid:!!c.purposeKeywords&&i.purposeKeywords}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.purposeKeywords))),r.a.createElement(V,Object.assign({},e,{caption:C(null===t.purposeID?"Submit":"Save"),request:null===t.purposeID?t.requestInsert:t.requestUpdate,namespace:t.namespace})))},validationSchema:k,onSubmit:function(e){!function(e){e.reviser=y(),e.workplace=O(),e.businessID=s,e.id=i,e.purposeID=l,e.uid=o,e.language=u,S({req:null===t.purposeID?t.requestInsert:t.requestUpdate,data:e})}(e)},initialValues:{purposeTitle:m,purposeDescription:p,purposeKeywords:f}})},Te=function(e){var t=Object.assign({request:"register shareholder",namespace:"ShareholderRegistration"},e),a=t,n=t.purposeID,s=a.barrelGetters.accountNumber,l=a.barrelFunctions,i=l.getReviser,c=l.getWorkplace,o=l.sendRequest,u=Object(d.a)([t.namespace]).t,m=B.b({shareholderRoles:B.c().optional(),shares:B.a().typeError(u("Shares must be a number")).required(u("Shares is required")).min(1,u("Shares too few")).max(1e3,u("Shares too many"))});return r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(oe.a,{style:{minWidth:"100%"}},r.a.createElement(oe.a.Body,null,r.a.createElement(D.a.Group,{controlId:"validationFormikShareholderPersonalID"},r.a.createElement(D.a.Label,null,u("Shareholder Personal ID")),r.a.createElement(fe.a,null,r.a.createElement(fe.a.Prepend,null,r.a.createElement(fe.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(D.a.Control,{type:"text",placeholder:u("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"personalID",value:l.personalID,onChange:s,isInvalid:!!c.personalID&&i.personalID}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.personalID))),r.a.createElement(D.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(D.a.Label,null,u("Shareholder Roles")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"shareholderRoles",value:l.shareholderRoles,onChange:s,isInvalid:!!c.shareholderRoles&&i.shareholderRoles}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.shareholderRoles))),r.a.createElement(D.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(D.a.Label,null,u("Shares")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"number",min:1,max:1e3,step:1,placeholder:"","aria-describedby":"inputGroupPrepend",name:"shares",value:l.shares,onChange:s,isInvalid:!!c.shares&&i.shares}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.shares))),r.a.createElement(V,Object.assign({},e,{caption:u("Submit"),request:t.request,namespace:t.namespace})))))},validationSchema:m,onSubmit:function(e){e.reviser=i(),e.workplace=c(),e.uid=s,e.purposeID=n,o({req:t.request,data:e})},initialValues:{personalID:"",shares:1,shareholderRoles:""}})},Re=function(e){var t=Object.assign({namespace:"MyBusiness"},e),a=t.barrelGetters,n=a.userBusinesses,s=a.countBusinesses,l=a.businessesPerPage,i=a.activePageBusinesses,c=a.userBusinessesLoaded,o=a.activeBusiness,u=a.activeBusinessID,m=a.businessPurposes,p=a.countBusinessPurposes,f=a.businessPurposesPerPage,E=a.activePageBusinessPurposes,g=a.activeBusinesPurpose,b=a.activePurposeProperty,v=a.purposeShareholders,h=a.activePurposeData,y=(a.language,a.accountNumber),O=t.barrelSetters,S=O.setRedirectTo,C=O.setResponseProps,N=O.setBusinessPurposes,T=O.setActiveBusiness,R=O.setActiveBusinesPurpose,k=(O.setActiveBusinessID,O.setActivePurposeProperty),I=O.setActivePageBusinessPurposes,w=O.setActivePurposeData,A=O.setPurposeRegistrationTitle,q=O.setPurposeRegistrationDescription,_=O.setPurposeRegistrationKeywords,F=O.setClearRefs,L=t.barrelFunctions,U=L.getBusinesses,B=L.getBusinessPurposes,x=L.getPurposeShareholders,M=L.sendRequest,K=L.showRequestStatus,V=L.formatDate,z=Object(d.a)([t.namespace]).t,J=[],H=[],W=0,X=0;null!==n&&Object.keys(n).map((function(t,a){return J[a]=[],H[a]=[],null!==m&&Object.keys(m).map((function(s,l){return W++,m[s].business_id===n[t].business_id&&(J[a][l]=r.a.createElement(re.a.Item,{action:!0,key:m[s].purpose_id,eventKey:m[s].purpose_id,style:{cursor:"default"},onClick:function(){return function(e){var t=e.eventKey,a=e.purposeID;C(null),x(a,t)}({eventKey:l,purposeID:m[s].purpose_id})}},r.a.createElement("span",{style:{whiteSpace:"nowrap",cursor:"pointer"}},m[s].title),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ye.a,{onClick:function(e){A(null!==m[s].title?m[s].title:""),q(null!==m[s].description?m[s].description:""),_(null!==m[s].keywords?m[s].keywords:""),w(JSON.stringify(m[s])),R("addPurpose"),e.stopPropagation()},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),H[a][l]=r.a.createElement(he.a.Pane,{key:m[s].purpose_id,eventKey:m[s].purpose_id},r.a.createElement(ee.a,{defaultActiveKey:null!==b?b:"shareholders"},r.a.createElement(G.a,{bg:"light"},r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"default"},eventKey:"shareholders",onClick:function(){return k("shareholders")}},r.a.createElement("span",{style:{cursor:"pointer"}},z("Purpose Shareholders")),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(Oe.a,{onClick:function(e){k("addShareholder"),e.stopPropagation()},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),r.a.createElement(ee.a.Collapse,{eventKey:"addShareholder"},r.a.createElement(G.a.Body,null,r.a.createElement(Te,Object.assign({},e,{purposeID:m[s].purpose_id})))),r.a.createElement(ee.a.Collapse,{eventKey:"shareholders"},r.a.createElement(G.a.Body,null,"undefined"!==typeof v&&null!==v&&Object.keys(v).map((function(t,a){if(v[t].purpose_id===m[s].purpose_id){var n=v[t].purpose_id,l=v[t],i=l.shareholder_id,c=l.firstname,o=l.lastname,u=l.roles,d=l.share;X++;var p=null!==u?u.split(","):[];return r.a.createElement(me,Object.assign({},e,{key:a,id:a,shareholder:i,purpose:n,firstname:c,lastname:o,share:d,roles:p}))}return""})),K("get purpose shareholders / SELECT shares",X,z("Loading shareholders..."),z("No shareholders"),"finished")))),r.a.createElement(G.a,{bg:"light"},r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"pointer"},eventKey:"productStatus",onClick:function(){return k("productStatus")}},z("Product Status")),r.a.createElement(ee.a.Collapse,{eventKey:"productStatus"},r.a.createElement(G.a.Body,{onClick:function(e){var t=m;t[s].status=0===m[s].status?1:0,N(JSON.stringify(t));var a={};return a.purpose_id=m[s].purpose_id,a.purpose_status=m[s].status,M({req:"change purpose status",data:a})}},r.a.createElement(D.a,null,"undefined"===typeof v||null===v&&r.a.createElement(D.a.Text,null,z("To publish, please add at least one shareholder"),r.a.createElement("br",null),r.a.createElement("br",null)),"undefined"!==typeof v&&null!==v&&r.a.createElement(D.a.Check,{type:"switch",custom:!0,disabled:"undefined"===typeof v||null===v,label:z(0===m[s].status?"Not published":"Published"),checked:1===m[s].status,onChange:function(e){console.log(e)}}))))),r.a.createElement(G.a,{bg:"light"},r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"pointer"},eventKey:"purpose_id",onClick:function(){return k("purpose_id")}},z("Purpose ID")),r.a.createElement(ee.a.Collapse,{eventKey:"purpose_id"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,m[s].purpose_id)))),r.a.createElement(G.a,{bg:"light"},r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"default"},eventKey:"title",onClick:function(){return k("title")}},r.a.createElement("span",{style:{cursor:"pointer"}},z("Purpose Title"))),r.a.createElement(ee.a.Collapse,{eventKey:"title"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,m[s].title)))),r.a.createElement(G.a,{bg:"light"},r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"default"},eventKey:"description",onClick:function(){return k("description")}},r.a.createElement("span",{style:{cursor:"pointer"}},z("Purpose Description"))),r.a.createElement(ee.a.Collapse,{eventKey:"description"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,m[s].description)))),r.a.createElement(G.a,{bg:"light"},r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"default"},eventKey:"keywords",onClick:function(){return k("keywords")}},r.a.createElement("span",{style:{cursor:"pointer"}},z("Purpose Keywords"))),r.a.createElement(ee.a.Collapse,{eventKey:"keywords"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,m[s].keywords))))))),X=0,!0})),!0}));var Y=r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{defaultActiveKey:null===o&&c?"myBusinesses":o},null!==n&&Object.keys(n).map((function(t,a){var s=new Date(n[t].created),l=V(s,{month:"long",day:"numeric",year:"numeric"});return r.a.createElement(G.a,{key:a},r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:a,style:{cursor:"pointer"},onClick:function(){return function(e){var t=e.eventKey,a=e.businessID;o===t?(T(null),I(null)):(C(null),B(a,t,1))}({eventKey:a,businessID:n[t].business_id})}},r.a.createElement(Se.a,{style:{color:"var(--dark)"}})," ",n[t].title),r.a.createElement(ee.a.Collapse,{eventKey:a},r.a.createElement(G.a.Body,null,r.a.createElement(he.a.Container,{id:"left-tabs-example",defaultActiveKey:null!==g?g:"aboutBusiness"},r.a.createElement(P.a,null,r.a.createElement(j.a,{sm:5},r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,{action:!0,eventKey:"aboutBusiness",style:{cursor:"default"},onClick:function(e){w(null),R(null),e.stopPropagation()}},r.a.createElement("span",{style:{whiteSpace:"nowrap",cursor:"pointer"}},z("About")),r.a.createElement("span",{style:{float:"right"}},r.a.createElement(Oe.a,{onClick:function(e){F(!0),w(null),R("addPurpose"),e.stopPropagation()},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),J[a]),null!==p&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(ie,Object.assign({},e,{size:"sm",countItems:p,itemsPerPage:f,active:E,onClick:function(e){return B(u,0,e)}}))),K("get business purposes / SELECT purposes",W,z("Loading purposes..."),z("No purposes"),"finished")),r.a.createElement(j.a,{sm:7},r.a.createElement(he.a.Content,null,r.a.createElement(he.a.Pane,{eventKey:"aboutBusiness"},r.a.createElement(ee.a,{defaultActiveKey:"businessID"},r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"pointer"},eventKey:"businessID"},z("Business ID")),r.a.createElement(ee.a.Collapse,{eventKey:"businessID"},r.a.createElement(G.a,{border:"light"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,n[t].business_id))))),r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"pointer"},eventKey:"businessDescription"},z("Business Description")),r.a.createElement(ee.a.Collapse,{eventKey:"businessDescription"},r.a.createElement(G.a,{border:"light"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,""!==n[t].description?n[t].description:r.a.createElement("span",{className:"text-center text-muted"},z("No description"))))))),r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,style:{cursor:"pointer"},eventKey:"businessCreationDate"},z("Business Created")),r.a.createElement(ee.a.Collapse,{eventKey:"businessCreationDate"},r.a.createElement(G.a,{border:"light"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Text,null,l))))))),H[a],r.a.createElement(he.a.Pane,{eventKey:"addPurpose"},r.a.createElement(ee.a,{defaultActiveKey:"newPurpose"},r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"newPurpose",style:{cursor:"default"}},z(null===h?"New Purpose":"Edit Purpose")),r.a.createElement(ee.a.Collapse,{eventKey:"newPurpose"},r.a.createElement(G.a.Body,null,r.a.createElement(Ne,Object.assign({},e,{businessID:n[t].business_id,id:null!==h?h.id:null,purposeID:null!==h?h.purpose_id:null,title:null!==h?h.title:"",description:null!==h?h.description:"",category:null!==h?h.category:"",subcategory:null!==h?h.subcategory:"",subcategory2:null!==h?h.subcategory2:"",keywords:null!==h?h.keywords:""}))))))))))))))})),r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"addBusiness",style:{cursor:"pointer"},onClick:function(){return T("addBusiness"!==o?"addBusiness":null)}},r.a.createElement("span",null,r.a.createElement(Oe.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",z("Add Business"))),r.a.createElement(ee.a.Collapse,{eventKey:"addBusiness"},r.a.createElement(G.a.Body,null,r.a.createElement(Ce,e))))),null!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(ie,Object.assign({},e,{size:"md",countItems:s,itemsPerPage:l,active:i,onClick:function(e){return U(e)}}))));return null===y&&S("/sign-out"),r.a.createElement(r.a.Fragment,null,Y)},ke=(a(230),a(300)),Pe=a(301),je=a(302),Ie=function(e){var t=Object.assign({namespace:"UserEditor",request:"update user",mode:"label"},e),a=t.barrelGetters,s=a.userData,l=a.accountNumber,i=a.userEditorEditFirstname,c=a.userEditorFirstname,o=a.userEditorEditLastname,u=a.userEditorLastname,m=a.userEditorEditEmail,p=a.userEditorEmail,f=a.userEditorEditPassword,E=a.userEditorPassword,g=a.userEditorPasswordVisible,b=a.userEditorSubmitButtonVisible,v=t.barrelSetters,h=v.setUserEditorEditFirstname,y=v.setUserEditorFirstname,O=v.setUserEditorEditLastname,S=v.setUserEditorLastname,C=(v.setUserEditorEditEmail,v.setUserEditorEmail),N=v.setUserEditorEditPassword,T=v.setUserEditorPassword,R=v.setUserEditorPasswordVisible,k=v.setUserEditorSubmitButtonVisible,P=t.barrelFunctions,j=P.sendRequest,I=P.getReviser,w=P.getWorkplace,A=Object(d.a)([t.namespace]).t,q=r.a.createRef(),_=r.a.createRef(),F=r.a.createRef(),G=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==q.current&&c!==q.current.value&&y(q.current.value),null!==_.current&&u!==_.current.value&&S(_.current.value),null!==F.current&&p!==F.current.value&&C(F.current.value),null!==G.current&&E!==G.current.value&&T(G.current.value)}}),[]),Object(n.useEffect)((function(){k(!!(i||o||m||f))}),[i,o,m,f]);var x=function(){R(!g)},M={firstName:i?B.c().required(A("First name is required")):B.c().optional(),lastName:o?B.c().required(A("Last name is required")):B.c().optional(),email:m?B.c().email(A("Invalid email address")).required(A("Email is required")):B.c().optional(),password:f?B.c().required(A("No password provided")).min(8,A("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,A("Password is too weak")):B.c().optional()},K=B.b(M);if(null===s)return r.a.createElement(r.a.Fragment,null);var z=t.mode,J=s.firstname,H=s.lastname,W=(s.email,"label"===z?r.a.createElement("span",{style:{whiteSpace:"nowrap"}},J," ",H):r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),c=a.touched,u=(a.isValid,a.validateForm,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(L,{title:A("Profile")},r.a.createElement(re.a,{variant:"flush"},r.a.createElement(re.a.Item,{as:"div",action:!0},r.a.createElement(D.a.Label,null,A("First name")),i?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ke.a,{onClick:function(){return h(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ye.a,{onClick:function(){return h(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,J)),i&&r.a.createElement(D.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:A("Enter first name"),name:"firstName",ref:q,value:l.firstName,onChange:s,isInvalid:!!u.firstName&&c.firstName}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},u.firstName)))),r.a.createElement(re.a.Item,{as:"div",action:!0},r.a.createElement(D.a.Label,null,A("Last name")),o?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ke.a,{onClick:function(){return O(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ye.a,{onClick:function(){return O(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,H)),o&&r.a.createElement(D.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:A("Enter last name"),name:"lastName",ref:_,value:l.lastName,onChange:s,isInvalid:!!u.lastName&&c.lastName}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},u.lastName)))),!1,r.a.createElement(re.a.Item,{as:"div",action:!0},r.a.createElement(D.a.Label,null,A("Password")),f?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ke.a,{onClick:function(){return N(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(ye.a,{onClick:function(){return N(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:g?"text":"password",placeholder:A("Enter new password"),name:"password",ref:G,value:l.password,onChange:s,isInvalid:!!u.password&&c.password}),r.a.createElement(fe.a.Append,null,r.a.createElement(fe.a.Text,{id:"inputGroupAppend",onClick:x,style:{cursor:"pointer"}},g?r.a.createElement(Pe.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}):r.a.createElement(je.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},u.password)))))),r.a.createElement(D.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(V,Object.assign({},e,{caption:A("Submit"),visible:b,marginTop:20,request:t.request,namespace:t.namespace})))))},validationSchema:K,onSubmit:function(e){e.personalID=l,i||(e.firstname=null),o||(e.lastname=null),m||(e.email=s.email),f||(e.password=null),function(e){null!==e&&(e.reviser=I(),e.workplace=w(),j({req:t.request,data:e}))}(e)},initialValues:{firstName:c,lastName:u,email:p,password:E}}));return r.a.createElement(r.a.Fragment,null,W)},we=a(303),Ae=function(e){var t=Object.assign({request:"get currencies",namespace:"Currencies"},e),a=t.barrelGetters,n=a.currencies,s=a.settings,l=a.countCurrencies,i=a.activePageCurrencies,c=a.currenciesPerPage,o=a.currencyAbbr,u=a.userData,m=t.barrelSetters,p=m.setCurrencyAbbr,f=m.setResponseProps,E=t.barrelFunctions,g=E.sendRequest,b=E.showRequestStatus,v=E.getCurrencies,h=E.formatExchangeRate,y=Object(d.a)([t.namespace]).t,O=function(e){p(e.target.id),g({req:"register user currency",data:{email:u.email,currency_id:e.target.id}})},S=function(e){switch(f(null),e){case"First":e=1;break;case"Prev":e=i>1?i-1:1;break;case"Next":e=i<Math.ceil(l/c)?i+1:Math.ceil(l/c);break;case"Last":e=Math.ceil(l/c)}v(e)},C=0;return r.a.createElement(U.a,{component:function(t){t.handleSubmit,t.handleChange,t.handleBlur,t.values,t.touched,t.isValid,t.validateForm,t.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"}},y("Currency")),r.a.createElement("th",{style:{textAlign:"center"}},y("Abbr")),r.a.createElement("th",{style:{textAlign:"center"}},y("Region")),r.a.createElement("th",{style:{textAlign:"center"}},y("Rate")))),r.a.createElement("tbody",null,null!==n&&n.map((function(e,t){C++;var a=e.name,n=e.abbr,l=e.rate,i=e.region;return"undefined"===typeof s.currencies||null===s.currencies||0===s.currencies.length||s.currencies.includes(n)?r.a.createElement("tr",{key:t},r.a.createElement("td",{style:{textAlign:"left",paddingLeft:"1rem"}},r.a.createElement(D.a.Check,{id:n,type:"radio",checked:o===n,"aria-label":"option 1",label:a,custom:!0,inline:!0,onChange:O,name:"selected-currency"})),r.a.createElement("td",{style:{textAlign:"center"}},n),r.a.createElement("td",{style:{textAlign:"left"}},i),r.a.createElement("td",{style:{textAlign:"right"}},h(l))):""})))),b("get currencies / SELECT currencies",C,y("Loading..."),y("No currencies"),"finished"),r.a.createElement(ie,Object.assign({},e,{size:"sm",countItems:l,itemsPerPage:c,active:i,onClick:S})))},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},qe=function(e){var t=Object.assign({namespace:"CurrencyRegistration",request:"register currency"},e),a=t.barrelGetters,s=a.currencyCode,l=a.currencyName,i=a.currencyRegion,c=a.currencyNewRate,o=t.barrelSetters,u=o.setCurrencyCode,m=o.setCurrencyName,p=o.setCurrencyRegion,f=o.setCurrencyNewRate,E=t.barrelFunctions,g=E.getReviser,b=E.getWorkplace,v=E.sendRequest,h=E.formatExchangeRate,y=Object(d.a)(["CurrencyRegistration"]).t,O=r.a.createRef(),S=r.a.createRef(),C=r.a.createRef(),N=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==O.current&&s!==O.current.value&&u(O.current.value),null!==S.current&&l!==S.current.value&&m(S.current.value),null!==C.current&&i!==C.current.value&&p(C.current.value),null!==N.current&&c!==N.current.value&&f(N.current.value)}}),[]);var T=B.b({curr_abbr:B.c().required(y("Currency abbreviation is required")).min(3,y("Currency abbreviation is too short")).max(5,y("Currency abbreviation is too long")),curr_title:B.c().required(y("Currency name is required")).min(3,y("Currency name is too short")).max(70,y("Currency name is too long")),curr_region:B.c().required(y("Currency region is required")).min(3,y("Currency region is too short")).max(70,y("Currency region is too long")),curr_rate:B.c().required(y("Exchange rate is required")).matches(new RegExp(y("Exchange Rate Regex")),y("Wrong exchange rate format"))});return r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFormikCurrAbbr"},r.a.createElement(D.a.Label,null,y("Abbreviation")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_abbr",ref:O,value:l.curr_abbr,onChange:s,isInvalid:!!c.curr_abbr&&i.curr_abbr}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.curr_abbr))),r.a.createElement(D.a.Group,{controlId:"validationFormikCurrName"},r.a.createElement(D.a.Label,null,y("Currency Name")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_title",ref:S,value:l.curr_title,onChange:s,isInvalid:!!c.curr_title&&i.curr_title}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.curr_title))),r.a.createElement(D.a.Group,{controlId:"validationFormikCurrRegion"},r.a.createElement(D.a.Label,null,y("Currency Region")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_region",ref:C,value:l.curr_region,onChange:s,isInvalid:!!c.curr_region&&i.curr_region}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.curr_region))),r.a.createElement(D.a.Group,{controlId:"validationFormikCurrRate"},r.a.createElement(D.a.Label,null,y("Initial Exchange Rate")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"string",placeholder:h(1),"aria-describedby":"inputGroupPrepend",name:"curr_rate",value:l.curr_rate,ref:N,onChange:s,isInvalid:!!c.curr_rate&&i.curr_rate}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.curr_rate))),r.a.createElement(V,Object.assign({},e,{caption:y("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:T,onSubmit:function(e){return e.reviser=g(),e.workplace=b(),v({req:t.request,data:e})},initialValues:{curr_abbr:s,curr_title:l,curr_region:i,curr_rate:c}})},De=a(317),_e=a(304),Fe=a(305),Ge=function(e){var t={namespace:"IdleTimer",timeout:300,timestamp:null,stage2:60,stage3:20,onTick:function(){},onTimerReset:function(){},onTimeout:function(){},events:["load","mousemove","mousedown","click","scroll","keypress"]},a=Object.assign(t,e),s=(a.barrelGetters.session,a.barrelFunctions.formatDate),l=a.barrelEventHandlers.onSessionTimeout,c=Object(d.a)(a.namespace).t,o=Object(n.useState)(a.timeout),u=Object(i.a)(o,2),m=u[0],p=u[1],f=r.a.useState(!1),E=Object(i.a)(f,2),g=E[0],b=E[1];!function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){t>0&&a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){p(m-1),a.onTick(m)}),1e3),function(e,t){var a=Object.assign({namespace:"EventListener",onTimeout:function(){},events:["load","mousemove","mousedown","click","scroll","keypress"]},{events:t});Object(n.useEffect)((function(){var t=function(t){e(t)};for(var n in a.events)window.addEventListener(a.events[n],t);return function(){for(var e in a.events)window.removeEventListener(a.events[e],t)}}),[])}((function(){p(a.timeout),a.onTimerReset()}),["mousedown","click","scroll","keypress"]),Object(n.useEffect)((function(){m===a.timeout&&b(!1),m===a.stage3&&b(!0),0===m&&l()}),[m]);return r.a.createElement(r.a.Fragment,null,function(){var t;t=m>a.stage2?Math.ceil(m/60):m;var n=s(new Date(1970,1,1,0,0,t),{minute:"numeric",second:"numeric"}),l=r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{i18nKey:"IdleTimer:Automatic logout",timeFormatted:n},r.a.createElement("div",{className:"text-center"},"Automatic logout in"),r.a.createElement("div",{className:"text-center",style:{fontSize:"4em",fontWeight:"bold",color:"#A93226"}},{timeFormatted:n}),r.a.createElement("div",{className:"text-center"},"Do you want to continue the session?")),r.a.createElement("br",null),r.a.createElement(V,Object.assign({},e,{caption:c("Continue now"),request:"continue session",onSubmit:function(){p(a.timeout),b(!1)},namespace:a.namespace})));return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{show:g,message:l,onHide:function(){return b(!1)}}),r.a.createElement(De.a,{placement:"bottom",overlay:r.a.createElement(_e.a,null,m>a.stage2?r.a.createElement(q.a,{i18nKey:"IdleTimer:Minutes to automatical log out",currTime:t},"You will be automatically logged out in ",{currTime:t}," ","minutes."):r.a.createElement(q.a,{i18nKey:"IdleTimer:Seconds to automatical log out",currTime:t},"You will be automatically logged out in ",{currTime:t}," ","seconds."))},r.a.createElement("div",{style:{whiteSpace:"nowrap",cursor:"default"}},r.a.createElement(Fe.a,{style:{color:"var(--dark)"}}),"\xa0",m>a.stage2?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-sm-inline text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:minutes",currTime:t},{currTime:t}," minutes")),r.a.createElement("span",{className:"d-inline d-sm-none text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:min",currTime:t},{currTime:t}," min"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-sm-inline text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:seconds",currTime:t},{currTime:t}," seconds")),r.a.createElement("span",{className:"d-inline d-sm-none text-muted"},r.a.createElement(q.a,{i18nKey:"IdleTimer:sec",currTime:t},r.a.createElement("span",null,{currTime:t})," sec"))))))}())},Le=function(e){var t=Object.assign({},e),a=t.barrelGetters,s=a.ip,l=a.logInEmail,i=a.logInPassword,c=t.barrelSetters,o=c.setLoggingIn,u=c.setUpdateInterval,m=c.setLogInEmail,p=c.setLogInPassword,f=t.barrelFunctions,E=f.getReviser,g=f.getWorkplace,b=f.sendRequest,v=f.getUri,h=Object(d.a)("LogIn").t,y=r.a.createRef(),O=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==y.current&&l!==y.current.value&&m(y.current.value),null!==O.current&&i!==O.current.value&&p(O.current.value)}}),[]);var S=B.b({email:B.c().email(h("Invalid email address")).required(h("Email is required")),password:B.c().required(h("No password provided"))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{component:function(t){var a=t.handleSubmit,n=t.handleChange,s=(t.handleBlur,t.values),l=t.touched,i=(t.isValid,t.validateForm,t.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:a},r.a.createElement("h3",null,h("Sign In")),r.a.createElement(D.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(D.a.Label,null,h("Email address")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{placeholder:h("Enter email"),name:"email",value:s.email,ref:y,onChange:n,isInvalid:!!i.email&&l.email}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},i.email))),r.a.createElement(D.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(D.a.Label,null,h("Password")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"password",placeholder:h("Enter password"),name:"password",value:s.password,ref:O,onChange:n,isInvalid:!!i.password&&l.password}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},i.password))),r.a.createElement(D.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(V,Object.assign({},e,{caption:h("Submit"),request:"sign in user",namespace:"LogIn"}))),r.a.createElement(k.a,{fluid:"md"},r.a.createElement(P.a,null,r.a.createElement(j.a,null,r.a.createElement("p",{className:"other-options text-left"},r.a.createElement(q.a,{i18nKey:"LogIn:Not yet registered"},"Not yet ",r.a.createElement("a",{href:"/sign-up"},"registered?")))),r.a.createElement(j.a,null,r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(q.a,{i18nKey:"LogIn:Forgot password"},"Forgot ",r.a.createElement("a",{href:"/reset"},"password?")))))))},validationSchema:S,onSubmit:function(e){u(-1),o(!0),function(e){e.reviser=E(),e.workplace=g(),e.ip=s,e.uri=v(),b({req:"sign in user",data:e})}(e)},initialValues:{email:l,password:i}}))},Ue=function(e){var t=Object.assign({namespace:"Summary"},e),a=t.barrelGetters,s=a.settings,l=a.signedIn,c=a.accountNumber,o=a.sessionTimeout,u=t.barrelFunctions,p=u.getBusinesses;u.sendRequest;Object(N.a)(t.barrelEventHandlers);var f=Object(d.a)(t.namespace).t;if(!1===l)return r.a.createElement(r.a.Fragment,null,"User not logged in");var E=Object(m.g)(),g=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{fluid:!0,style:{paddingRight:"0",paddingLeft:"0"}},r.a.createElement(P.a,null,r.a.createElement(j.a,null,r.a.createElement(I.a,{style:{borderRadius:"5px",backgroundColor:"var(--light)",boxShadow:"none"}},r.a.createElement(I.a.Brand,{href:"/"},r.a.createElement("img",{src:null!==s&&"undefined"!==typeof s.logo?s.logo:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top"})),r.a.createElement(w.a,{className:"mr-auto"},r.a.createElement(w.a.Link,{eventKey:"profile",href:"/profile"},r.a.createElement(Ie,e))),r.a.createElement(w.a,null,r.a.createElement(w.a.Link,{eventKey:"sign-out",href:"/sign-out"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement("span",null,r.a.createElement(A.a,{style:{color:"var(--dark)"}})),r.a.createElement("span",{className:"d-none d-sm-inline"},"\xa0",f("Sign out"))))),r.a.createElement(w.a,null,r.a.createElement(w.a.Item,null,r.a.createElement(Ge,Object.assign({timeout:o},e))))))),r.a.createElement(P.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{style:{height:"7px"}}),r.a.createElement(I.a,{collapseOnSelect:!0,expand:"sm",variant:"dark",style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"var(--dark)",boxShadow:"none"}},r.a.createElement(w.a,null,r.a.createElement(w.a.Link,{className:"nav-link-2",eventKey:"balance",href:"/balance",style:{fontWeight:"/balance"===E.pathname?"bold":"normal"}},f("Balance"))),r.a.createElement(I.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(I.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(w.a,{className:"mr-auto"},null!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a.Link,{className:"nav-link-2",eventKey:"transfer",href:"/transfer",style:{fontWeight:"/transfer"===E.pathname?"bold":"normal"}},f("Transfer")),r.a.createElement(w.a.Link,{className:"nav-link-2",eventKey:"my-business",onClick:function(){return p(1)},href:"#",style:{fontWeight:"/my-business"===E.pathname?"bold":"normal"}},f("Business")),null!==s&&"undefined"!==typeof s.currencies&&(null===s.currencies||0===s.currencies.length||s.currencies.length>1)&&r.a.createElement(w.a.Link,{className:"nav-link-2",eventKey:"currency",href:"/currency",style:{fontWeight:"/currency"===E.pathname?"bold":"normal"}},f("Currency")))))))))),b=r.a.createElement(C.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:function(){return null!==c?pe(e):Q(e)}}),r.a.createElement(m.b,{exact:!0,path:"/summary",component:function(){return null!==c?pe(e):Q(e)}}),r.a.createElement(m.b,{exact:!0,path:"/account-registration",component:function(){return Q(e)}}),r.a.createElement(m.b,{exact:!0,path:"/profile",component:function(){return Ie(Object(h.a)({},e,{mode:"profile"}))}}),null!==s&&"undefined"!==typeof s.currencies&&(null===s.currencies||0===s.currencies.length||s.currencies.length>1)&&r.a.createElement(m.b,{exact:!0,path:"/currency",component:function(){return function(e){var t=Object.assign({namespace:"CurrencyContainer"},e),a=t.barrelGetters,n=a.settings,s=a.accordionViewCurrency,l=a.activePageCurrencies,i=a.accountNumber,c=t.barrelSetters,o=c.setAccordionViewCurrency,u=c.setRedirectTo,m=c.setResponseProps,p=t.barrelFunctions.getCurrencies,f=Object(d.a)([t.namespace]).t;return null===i&&u("/sign-out"),"undefined"!==typeof n.currencies&&null!==n.currencies&&n.currencies.length<2?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{defaultActiveKey:s},r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"currencies",style:{cursor:"pointer"},onClick:function(){"currencies"!==s?(m(null),o("currencies"),p(l)):o(null)}},f("Currencies")),r.a.createElement(ee.a.Collapse,{eventKey:"currencies"},r.a.createElement(G.a.Body,null,r.a.createElement(Ae,e)))),"undefined"!==typeof n.currencyCreationAllowed&&n.currencyCreationAllowed&&r.a.createElement(G.a,null,r.a.createElement(ee.a.Toggle,{as:G.a.Header,eventKey:"currencyRegistration",style:{cursor:"pointer"},onClick:function(){o("currencyRegistration"!==s?"currencyRegistration":null)}},f("Currency Registration")),r.a.createElement(ee.a.Collapse,{eventKey:"currencyRegistration"},r.a.createElement(G.a.Body,null,r.a.createElement(qe,e))))))}(Object(h.a)({},e))}}),r.a.createElement(m.b,{exact:!0,path:"/my-business",component:function(){return Re(e)}}),r.a.createElement(m.b,{exact:!0,path:"/balance",component:function(){return pe(e)}}),r.a.createElement(m.b,{exact:!0,path:"/transfer",component:function(){return function(e){var t=Object.assign({},e),a=t.barrelGetters,s=a.accountNumber,l=a.transferType,c=t.barrelSetters.setRedirectTo,o=t.barrelFunctions.format,u=t.barrelEventHandlers.onTransferTypeChange,m=Object(d.a)("Transfer").t,p=t.data,f=l,E=Object(n.useState)(null),g=Object(i.a)(E,2),b=g[0],v=g[1],h=function(e){u(e)},y=[{name:m("U2S"),link:"#u2s"},{name:m("U2U"),link:"#u2u"},{name:m("U2B"),link:"#u2b"}];return Object(n.useEffect)((function(){if(null!==f)switch(f){case"#u2s":v(r.a.createElement(Ee,{title:m("Transfer to account"),args:t,navigation:y,navigationdefaultActiveKey:f,onNavigationClick:h}));break;case"#u2u":v(r.a.createElement(be,{title:m("Transfer to account"),args:t,navigation:y,navigationdefaultActiveKey:f,onNavigationClick:h}));break;case"#u2b":v(r.a.createElement(ve,{title:m("Transfer to account"),args:t,navigation:y,navigationdefaultActiveKey:f,onNavigationClick:h}))}}),[p,o,f]),null===s&&c("/sign-out"),r.a.createElement(r.a.Fragment,null,b)}(e)}}),r.a.createElement(m.b,{exact:!0,path:"/contact",component:function(){return function(e){var t=Object.assign({namespace:"Contact",request:"send message"},e),a=t.barrelGetters,s=a.language,l=a.accountNumber,i=a.contactSubject,c=a.contactMessage,o=t.barrelSetters,u=o.setContactSubject,m=o.setContactMessage,p=t.barrelFunctions.sendRequest,f=Object(d.a)([t.namespace]).t,E=r.a.createRef(),g=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==E.current&&i!==E.current.value&&u(E.current.value),null!==g.current&&c!==g.current.value&&m(g.current.value)}}),[]);var b=B.b({subject:B.c().required(f("Subject is required"))});return r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(L,{header:!1},r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFormikSubject"},r.a.createElement(D.a.Label,null,f("Subject")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"string",placeholder:f("Enter message subject"),"aria-describedby":"inputGroupPrepend",name:"subject",ref:E,value:l.subject,onChange:function(e){s(e)},isInvalid:!!c.subject&&i.subject}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.subject))),r.a.createElement(D.a.Group,{controlId:"validationFormikMessage"},r.a.createElement(D.a.Label,null,f("Message")),r.a.createElement(D.a.Control,{placeholder:f("Enter message"),name:"message",value:l.message,ref:g,onChange:s,as:"textarea",rows:"10"})),r.a.createElement(V,Object.assign({},e,{caption:f("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:b,onSubmit:function(e){e.sender=l,e.language=s,p({req:t.request,data:e})},initialValues:{subject:i,message:c}})}(e)}})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{fluid:"md"},r.a.createElement(P.a,null,r.a.createElement(j.a,null,g,r.a.createElement("div",{style:{height:"7px"}}))),r.a.createElement(P.a,null,r.a.createElement(j.a,null,b))))},Be=a(189),xe=a.n(Be).a.connect(O.uri.ENDPOINT,{secure:!0,reconnect:!0}),Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&console.log("request: ".concat(e.req),e),xe.emit("onDataReceived",e),!0},Ke=function(e){var t=Object.assign({request:"register user",namespace:"SignUp"},e),a=t.barrelGetters,s=a.language,l=a.signUpFirstName,c=a.signUpLastName,o=a.signUpEmail,u=a.signUpPassword,m=t.barrelSetters,p=m.setSignUpFirstName,f=m.setSignUpLastName,E=m.setSignUpEmail,g=m.setSignUpPassword,b=t.barrelFunctions,v=b.getReviser,h=b.getWorkplace,y=b.sendRequest,O=Object(n.useState)(!1),S=Object(i.a)(O,2),C=S[0],N=S[1],T=Object(d.a)(t.namespace).t,R=r.a.createRef(),k=r.a.createRef(),P=r.a.createRef(),j=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==R.current&&l!==R.current.value&&p(R.current.value),null!==k.current&&c!==k.current.value&&f(k.current.value),null!==P.current&&o!==P.current.value&&E(P.current.value),null!==j.current&&u!==j.current.value&&g(j.current.value)}}),[]);var I=B.b({firstName:B.c().required(T("First name is required")),lastName:B.c().required(T("Last name is required")),email:B.c().email(T("Invalid email address")).required(T("Email is required")),password:B.c().required(T("No password provided")).min(8,T("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,T("Password is too weak"))}),w=function(){N(!C)};return r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,T("Sign Up")),r.a.createElement(D.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(D.a.Label,null,T("First name")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:T("Enter first name"),name:"firstName",ref:R,value:l.firstName,onChange:s,isInvalid:!!c.firstName&&i.firstName}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.firstName))),r.a.createElement(D.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(D.a.Label,null,T("Last name")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:"text",placeholder:T("Enter last name"),name:"lastName",ref:k,value:l.lastName,onChange:s,isInvalid:!!c.lastName&&i.lastName}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.lastName))),r.a.createElement(D.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(D.a.Label,null,T("Email address")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{placeholder:T("Enter email"),name:"email",value:l.email,ref:P,onChange:s,isInvalid:!!c.email&&i.email}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.email))),r.a.createElement(D.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(D.a.Label,null,T("Password")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:C?"text":"password",placeholder:T("Enter password"),name:"password",ref:j,value:l.password,onChange:s,isInvalid:!!c.password&&i.password}),r.a.createElement(fe.a.Append,null,r.a.createElement(fe.a.Text,{id:"inputGroupAppend",onClick:w,style:{cursor:"pointer"}},C?r.a.createElement(Pe.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(je.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.password))),r.a.createElement(D.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(V,Object.assign({},e,{caption:T("Submit"),request:t.request,namespace:t.namespace}))),r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(q.a,{i18nKey:"SignUp:Already registered"},"Already registered ",r.a.createElement("a",{href:"/sign-in"},"sign in?"))))},validationSchema:I,onSubmit:function(e){!function(e){null!==e&&(e.reviser=v(),e.workplace=h(),e.language=s,e.validateEmail=!0,y({req:t.request,data:e}))}(e)},initialValues:{firstName:l,lastName:c,email:o,password:u}})},Ve=(a(264),function(e){var t=Object.assign({namespace:"Overlay",visible:!1,variant:"info",dismissible:!1,onClose:function(){}},e);Object(d.a)([t.namespace]).t;K((function(){t.onClose()}),t.dismissible?-1:5e3);return r.a.createElement(r.a.Fragment,null,function(){if(t.visible){var a="custom-overlay";switch(t.dismissible&&(a+=" alert-dismissible"),t.variant){case"danger":a+=" alert-danger";break;default:a+=" alert-info"}var s=0;return r.a.createElement("div",{className:a},t.dismissible&&r.a.createElement("button",{type:"button",className:"close",onMouseDown:t.onClose},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"),r.a.createElement("span",{className:"sr-only"},"Close alert")),r.a.Children.map(e.children,(function(t){return"object"!==typeof t?t:(s++,Object(n.cloneElement)(t,Object(h.a)({},e,{styles:null,key:s})))})))}return r.a.createElement(r.a.Fragment,null)}())}),ze=(a(265),function(e){var t=Object.assign({namespace:"AlertContainer",visible:!1},e);Object(d.a)([t.namespace]).t;return r.a.createElement(r.a.Fragment,null,t.visible?r.a.createElement("div",{className:"alert-container"},r.a.Children.map(e.children,(function(e){return e}))):r.a.createElement(r.a.Fragment,null))}),Je=function(e){var t=Object.assign({},e.data),a=t.barrelGetters,n=a.error,s=a.info,l=t.barrelEventHandlers.onAlertClose,i=Object(d.a)("Errors").t,c=Object(d.a)("Infos").t;if(null!==n&&null!==s){var o=i(n.msg),u=c(s.msg);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{visible:!0},""!==o&&null!==o&&r.a.createElement(Ve,{visible:!0,variant:"danger",onClose:function(){return l("error")},dismissible:n.dismissible},o),""!==u&&null!==u&&r.a.createElement(Ve,{visible:!0,variant:"info",onClose:function(){return l("info")},dismissible:s.dismissible},u)))}if(null!==n){var m=i(n.msg);return r.a.createElement(ze,{visible:!0},""!==m&&null!==m&&r.a.createElement(Ve,{visible:!0,variant:"danger",onClose:function(){return l("error")},dismissible:n.dismissible},m))}if(null!==s){var p=c(s.msg);return r.a.createElement(ze,{visible:!0},""!==p&&null!==p&&r.a.createElement(Ve,{visible:!0,variant:"info",onClose:function(){return l("info")},dismissible:s.dismissible},p))}return r.a.createElement(r.a.Fragment,null)},He=function(e){var t=Object.assign({namespace:"CurrencyContainer"},e),a=t.barrelGetters.userData,n=t.barrelFunctions.sendRequest,s=(Object(d.a)("LanguageSelector").t,function(e){v.changeLanguage(e)}),l=function(e){s(e),null!==a&&n({req:"register user language",data:{email:a.email,language:e}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"7px"}}),r.a.createElement(te.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){l("en")}},"en")," ",r.a.createElement(te.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){l("lv")}},"lv"))},We=function(e){var t=Object.assign({namespace:"Main"},e),a=e,s=t.barrelGetters,l=s.session,c=(s.instance,s.debug,s.serverResponseReceived),o=s.signedIn,u=s.userData,p=s.dailyAllowanceDispatched,f=s.accountNumber,E=(s.updateInterval,s.externalRequest),g=s.cartContent,b=s.validateTokenEmail,v=s.passwordResetTokenValidated,h=s.validateTokenPasswordReset,y=s.connected,O=s.isExternalRequest,S=s.clearRefs,N=t.barrelSetters,T=N.setRequestTimedOut,R=N.setUpdateInterval,k=N.setDailyAllowanceDispatched,P=(N.setSignedIn,N.setRedirectTo,N.setRequest),j=N.setIsExternalRequest,I=N.setUserEditorFirstname,w=N.setUserEditorLastname,A=N.setUserEditorEmail,q=N.setUserEditorPassword,_=N.setCurrencyCode,F=N.setCurrencyName,G=N.setCurrencyRegion,x=N.setCurrencyNewRate,z=N.setBusinessRegistrationAddTitle,J=N.setBusinessRegistrationAddDescription,H=N.setPurposeRegistrationTitle,W=N.setPurposeRegistrationDescription,X=N.setPurposeRegistrationKeywords,Y=N.setContactSubject,$=N.setContactMessage,Z=N.setClearRefs,Q=t.barrelFunctions,ee=(Q.processUserResponse,Q.getIP),te=Q.getCart,ae=Q.getCartPurposes,ne=Q.getAccountData,re=Q.sendRequest,se=Q.sendEmailValidationRequest,le=Q.sendPasswordResetRequest,ie=Q.getContainerClass,ce=Q.getRedirect,oe=Q.showMessage,ue=t.barrelEventHandlers,me=ue.onRedirect,de=ue.onSessionStart,pe=(ue.onSessionEnd,Object(d.a)(t.namespace).t);Object(n.useEffect)((function(){return ee(),te(),function(){}}),[]),Object(n.useEffect)((function(){null!==l&&de()}),[l]),Object(n.useEffect)((function(){}),[y]),K((function(){T(!0),P(null),oe("REQUEST_EXPIRED","info")}),!1===c?7e3:-1),Object(n.useEffect)((function(){null!==u&&(I(u.firstname),w(u.lastname),A(u.email),q(""))}),[JSON.stringify(u)]),Object(n.useEffect)((function(){o&&(R(-1),null===f||p||(ne(),re({req:"dispatch daily allowance",data:{uid:f}}),k(!0)),null!==f?O&&(j(!1),me("/auth")):me("/account-registration"))}),[o]),Object(n.useEffect)((function(){}),[f]),Object(n.useEffect)((function(){!1!==S&&(z(""),J(""),H(""),W(""),X(""),_(""),F(""),G(""),x(""),Y(""),$(""),Z(!1))}),[S]),Object(n.useEffect)((function(){if(null!==E){var e={customer:f,cart:E.cart};re({req:"get cart",data:e})}}),[JSON.stringify(E)]),Object(n.useEffect)((function(){null!==g&&ae()}),[JSON.stringify(g)]),Object(n.useEffect)((function(){null!==b&&se(JSON.parse(b))}),[b]),Object(n.useEffect)((function(){null!==v&&me("/password")}),[v]),Object(n.useEffect)((function(){null!==h&&le(JSON.parse(h))}),[h]);var Ee=ie(o),ge=Ee.wrapperClass,be=Ee.innerClass,ve=o?"App":"App bg",he=r.a.useState(!0),ye=Object(i.a)(he,2);ye[0],ye[1],r.a.useRef(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,ce(),r.a.createElement("div",{className:ve,style:{}},r.a.createElement(Je,{data:a}),r.a.createElement("div",{className:ge,style:{}},r.a.createElement("div",{className:"d-none d-md-block",style:{height:"1rem"}}),r.a.createElement("div",{className:be},r.a.createElement("div",{style:{height:"16px"}}),!1,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:function(){return o?Ue(a):Le(a)}}),r.a.createElement(m.b,{exact:!0,path:"/sign-in",component:function(){return Le(a)}}),r.a.createElement(m.b,{exact:!0,path:"/sign-up",component:function(){return Ke(a)}}),r.a.createElement(m.b,{exact:!0,path:"/auth",component:function(){return o?function(e){var t=Object.assign({namespace:"Checkout"},e),a=t.barrelGetters,n=(a.externalRequest,a.accountNumber,a.cartContent),s=a.cartPurposes,l=t.barrelFunctions,i=(l.sendRequest,l.format),c=Object(d.a)([t.namespace]).t,o=function(){var e=0,t=0;return r.a.createElement(r.a.Fragment,null,null!==n&&n.map((function(a,n){e+=a.price*a.amount;var l="N";null!==s&&("undefined"!==typeof s.find((function(e){return e.purpose_id===a.product}))&&(l="Y",t+=a.price*a.amount));return r.a.createElement("div",{key:n},r.a.createElement("div",null,"product: ",a.product),r.a.createElement("div",null,"price: ",a.price),r.a.createElement("div",null,"amount: ",a.amount),r.a.createElement("div",null,"found: ",l),r.a.createElement("br",null))})),r.a.createElement("div",null,"Total: ",i(e)),r.a.createElement("div",null,"Real: ",i(t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{title:c("Checkout")},r.a.createElement("div",null,r.a.createElement(o,null))))}(a):Le(a)}}),r.a.createElement(m.b,{exact:!0,path:"/validate-email",component:function(){return function(e){var t=Object.assign({namespace:"ValidateEmail"},e),a=t.barrelGetters,s=(a.validateTokenEmail,a.validationTokenEmail),l=a.validationTokenEmailResent,i=a.language,c=t.barrelSetters.setValidateTokenEmail,o=t.barrelFunctions,u=o.getUrlParam,m=o.sendRequest,p=Object(d.a)([t.namespace]).t,f=u("token"),E=u("email");Object(n.useEffect)((function(){null!==f&&null!==E&&c(JSON.stringify({token:f,email:E}))}),[]);var g=function(e){m({req:"resend validate email token",data:{token:s.token,email:s.email,language:i}})};return r.a.createElement(r.a.Fragment,null,null===f?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,p("A verification link has been sent to your email account.")),r.a.createElement("hr",null),r.a.createElement("p",null,p("Please click on the link that has just been sent to your email account")),l<5&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("h5",null,p("Didn't receive email?")),r.a.createElement(V,Object.assign({},e,{caption:p("Submit"),visible:!0,marginTop:20,request:"resend validate email token",namespace:t.namespace,onSubmit:g})))):r.a.createElement("div",{className:"text-center"},r.a.createElement(M.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1})))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/password",component:function(){return function(e){var t=Object.assign({namespace:"ChangePassword",request:"change password",email:null},e),a=t.barrelGetters,s=a.passwordResetTokenValidated,l=a.passwordResetTokenEmail,c=t.barrelFunctions.sendRequest,o=Object(d.a)([!0===s?"SignUp":"ChangePassword"]).t,u=Object(n.useState)(!1),m=Object(i.a)(u,2),p=m[0],f=m[1],E=function(){f(!p)},g=B.b({password:B.c().required(o("No password provided")).min(8,o("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,o("Password is too weak"))});return!0===s?r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement(D.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(D.a.Label,null,o("New password")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{type:p?"text":"password",placeholder:o("Enter password"),name:"password",value:l.password,onChange:s,isInvalid:!!c.password&&i.password}),r.a.createElement(fe.a.Append,null,r.a.createElement(fe.a.Text,{id:"inputGroupAppend",onClick:E,style:{cursor:"pointer"}},p?r.a.createElement(Pe.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(je.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.password))),r.a.createElement(V,Object.assign({},e,{caption:o("Submit"),request:t.request,namespace:t.namespace})))},validationSchema:g,onSubmit:function(e){return e.email=l,c({req:t.request,data:e})},initialValues:{password:""}}):r.a.createElement(r.a.Fragment,null,o("Awaiting validation"))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/profile",component:function(){return o?Ue(a):Le(a)}}),r.a.createElement(m.b,{exact:!0,path:"/currency",component:function(){return o?Ue(a):Le(a)}}),r.a.createElement(m.b,{exact:!0,path:"/sign-out",component:function(){return function(e){var t=Object.assign({},e),a=Object(d.a)("Logout").t,s=t.barrelGetters,l=s.error,i=s.info,c=s.language,o=t.barrelSetters,u=o.setLanguage,m=o.setInfo,p=o.setError,f=(t.barrelFunctions.showMessage,t.barrelEventHandlers),E=f.onLogOut;f.onSessionStart;return Object(n.useEffect)((function(){var e=l,t=i,a=c;E(),u(a),p(null!==e?JSON.stringify(e):null),m(null!==t?JSON.stringify(t):null)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,a("See you soon")),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},r.a.createElement("a",{href:"/"},a("Sign in"))))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/reset",component:function(){return function(e){var t=Object.assign({namespace:"ResetPassword",request:"reset password"},e),a=t.barrelGetters,s=a.language,l=a.passwordResetEmail,i=t.barrelSetters,c=i.setValidateTokenPasswordReset,o=i.setPasswordResetEmail,u=t.barrelFunctions,m=u.sendRequest,p=u.getUrlParam,f=Object(d.a)(t.namespace).t,E=p("token"),g=p("email"),b=r.a.createRef();Object(n.useEffect)((function(){return function(){null!==b.current&&l!==b.current.value&&o(b.current.value)}}),[]),Object(n.useEffect)((function(){null!==E&&null!==g&&c(JSON.stringify({token:E,email:g}))}),[]);var v=B.b({email:B.c().email(f("Invalid email address")).required(f("Email is required"))});return null===E?r.a.createElement(U.a,{component:function(a){var n=a.handleSubmit,s=a.handleChange,l=(a.handleBlur,a.values),i=a.touched,c=(a.isValid,a.validateForm,a.errors);return r.a.createElement(D.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,f("Reset password")),r.a.createElement(D.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(D.a.Label,null,f("Email address")),r.a.createElement(fe.a,null,r.a.createElement(D.a.Control,{placeholder:f("Enter email"),name:"email",ref:b,value:l.email,onChange:s,isInvalid:!!c.email&&i.email}),r.a.createElement(D.a.Control.Feedback,{type:"invalid"},c.email))),r.a.createElement(D.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(V,Object.assign({},e,{caption:f("Submit"),request:t.request,namespace:t.namespace}))))},validationSchema:v,onSubmit:function(e){e.language=s,m({req:t.request,data:e})},initialValues:{email:l}}):r.a.createElement("div",{className:"text-center"},r.a.createElement(M.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1}))}(a)}}),r.a.createElement(m.b,{exact:!0,path:"/account-registration",component:function(){return Ue(a)}}),r.a.createElement(m.b,{exact:!0,path:"/business-registration",component:function(){return Ue(a)}}),r.a.createElement(m.b,{exact:!0,path:"/my-business",component:function(){return Ue(a)}}),r.a.createElement(m.b,{exact:!0,path:"/balance",component:function(){return Ue(a)}}),r.a.createElement(m.b,{exact:!0,path:"/transfer",component:function(){return Ue(a)}}),r.a.createElement(m.b,{exact:!0,path:"/contact",component:function(){return Ue(a)}}),r.a.createElement(m.b,{exact:!0,path:"/summary",component:function(){return Ue(a)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{style:{width:"40%"}},r.a.createElement(He,a)),r.a.createElement("span",{className:"text-muted",style:{float:"left",marginLeft:"18px",width:"30%",textAlign:"left"}},o&&"/contact"!=window.location.pathname&&"/account-registration"!=window.location.pathname&&r.a.createElement("small",null,"\xa0")),r.a.createElement("span",{className:"text-muted",style:{float:"right",marginRight:"18px",width:"30%",textAlign:"right"}},o&&"/contact"!=window.location.pathname&&"/account-registration"!=window.location.pathname&&r.a.createElement("small",null,r.a.createElement("a",{href:"/contact"},pe("Contact"))))))))))},Xe=(a(266),a(308)),Ye=function(e){var t=Object.assign({namespace:"Main"},e),a=e,n=t.barrelFunctions,s=n.getContainerClass,l=n.getRedirect,i=(Object(d.a)(t.namespace).t,s(!1)),c=i.wrapperClass,o=i.innerClass;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,l(),r.a.createElement("div",{className:"App bg",style:{}},r.a.createElement("div",{className:c,style:{}},r.a.createElement("div",{className:"d-none d-md-block",style:{height:"1rem"}}),r.a.createElement("div",{className:o},r.a.createElement("div",{style:{height:"16px"}}),r.a.createElement("div",null,r.a.createElement(Je,{data:a})),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",component:function(){return function(e){var t=Object.assign({namespace:"UnderConstruction"},e),a=Object(d.a)([t.namespace]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,r.a.createElement(Xe.a,{style:{color:"var(--dark)",fontSize:"3rem"}}),r.a.createElement("br",null),r.a.createElement("br",null),a("We are constructing"),r.a.createElement("br",null),r.a.createElement("br",null)))}(a)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,r.a.createElement(He,a))))))))},$e=(a(267),a(309)),Ze=function(e){var t=Object.assign({namespace:"Main"},e),a=e,n=t.barrelFunctions,s=n.getContainerClass,l=n.getRedirect,i=(Object(d.a)(t.namespace).t,s(!1)),c=i.wrapperClass,o=i.innerClass;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,l(),r.a.createElement("div",{className:"App bg",style:{}},r.a.createElement("div",{className:c,style:{}},r.a.createElement("div",{className:"d-none d-md-block",style:{height:"1rem"}}),r.a.createElement("div",{className:o},r.a.createElement("div",{style:{height:"16px"}}),r.a.createElement("div",null,r.a.createElement(Je,{data:a})),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",component:function(){return function(e){var t=Object.assign({namespace:"NotConnected"},e),a=Object(d.a)([t.namespace]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,r.a.createElement($e.a,{style:{color:"var(--dark)",fontSize:"3rem"}}),r.a.createElement("br",null),r.a.createElement("br",null),a("Not connected"),r.a.createElement("br",null),r.a.createElement("br",null)))}(a)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",null,r.a.createElement(He,a))))))))},Qe=a(25),et=function(e){var t=e.args,a=e.barrels,n=Object.assign({},t),r=a.barrelGetters,s=r.debug,l=(r.session,r.sessionTimeout,r.settings,r.loggingIn,r.isExternalRequest,r.signedIn),c=r.instance,o=r.responseProps,u=r.currencies,m=r.transactions,d=r.transferRequest,p=r.shares,f=r.userData,E=r.accountNumber,g=r.language,b=r.userBusinesses,v=r.cartPurposes,h=r.businessPurposes,y=r.purposeShareholders,O=r.activeBusinesPurpose,S=r.lastInsertId,C=a.barrelSetters,N=C.setRequest,T=C.setSession,R=C.setResponseProps,k=C.setSettings,P=C.setLoggingIn,j=(C.setUpdateInterval,C.setCurrencies),I=C.setTransactions,w=C.setShares,A=C.setCountCurrencies,q=C.setCountTransactions,D=C.setCountShares,_=C.setConnected,F=C.setUserData,G=C.setSignedIn,L=(C.setIsExternalRequest,C.setCartContent),U=C.setCurrencyAbbr,B=C.setCurrencyRate,x=C.setRedirectTo,M=C.setLastInsertId,K=C.setAccountNumber,V=C.setUserSequence,z=C.setUID,J=C.setUserBusinesses,H=C.setCountBusinesses,W=C.setUserBusinessesLoaded,X=C.setCartPurposes,Y=C.setBusinessPurposes,$=C.setCountBusinessPurposes,Z=C.setPurposeShareholders,Q=C.setAccountPhotoPath,ee=C.setPasswordResetTokenValidated,te=C.setPasswordResetTokenEmail,ae=C.setValidateTokenEmail,ne=C.setValidationTokenEmail,re=C.setValidationTokenEmailResent,se=C.setActivePurposeData,le=C.setTanRequired,ie=C.setClearRefs,ce=a.barrelFunctions,oe=ce.sendRequest,ue=(ce.getBusinesses,ce.getAccountData),me=ce.getTransactionById,de=ce.getBusinessPurposes,pe=ce.getPurposeShareholders,fe=ce.showMessage,Ee=ce.changeLanguage,ge=ce.sortObjectArray,be=ce.getObjectArrayElementIndex,ve=ce.deleteObjectArrayElement,he=(ce.showTanInput,a.barrelEventHandlers),ye=he.onRedirect,Oe=(he.onSessionTimeout,he.onSessionEnd),Se=n.req;s&&console.log("response: ".concat(Se," (").concat(n.status,")"),n,a);var Ce=!1,Ne=function(e,t){if(!Ce){var a=Object(i.a)(e,3),r=a[0],s=a[1],l=a[2],u=void 0===l?null:l;(c===n.reqData.instance&&"*"===r&&s===n.status&&u===n.name||c===n.reqData.instance&&r===n.req&&s===n.status||c===n.reqData.instance&&"unknown"===r)&&(!function(e){var t=e.req,a=e.name,n=e.status,r="undefined"!==typeof a?"".concat(t," / ").concat(a):t;if(null===o)R(JSON.stringify([{res:r,status:n}]));else{var s=ve(o,"res",r);R(JSON.stringify([].concat(Object(Qe.a)(s),[{res:r,status:n}])))}}({req:Se,name:n.name,status:n.status}),t()&&N(null),null===u&&(Ce=!0))}};return Ne(["*","continue","VALIDATE SESSION"],(function(){return"undefined"!==typeof n.token&&(console.log("Renewing session..."),Oe(),T(n.token)),!1})),Ne(["start session","success"],(function(){return l&&oe({req:"validate session",data:{}}),_(!0),!0})),Ne(["end session","success"],(function(){return _(!1),!0})),Ne(["get user sequence","continue"],(function(){if("SELECT FROM users"===n.name)return V(n.results.sequence),!1})),Ne(["get user sequence","success"],(function(){oe({req:"register account",data:n.reqData})})),Ne(["get tan","success"],(function(){return le(!0),!0})),Ne(["get cart","continue"],(function(){"SELECT carts"===n.name&&L(n.results.content)})),Ne(["submit tan","pending"],(function(){})),Ne(["submit tan","finished"],(function(){if("UPDATE tans"===n.name)return!(n.queryCnt>0)})),Ne(["submit tan","success"],(function(){return oe({req:d.transferType,data:d}),!1})),Ne(["register user","pending"],(function(){return!1})),Ne(["register user","continue"],(function(){return"INSERT INTO users"===n.name?!(n.results.insertId>0):("INSERT INTO validation_tokens"===n.name&&ne({token:n.tags.token,email:n.tags.email}),!1)})),Ne(["register user","success"],(function(){return ye("/validate-email"),!0})),Ne(["resend validate email token","continue"],(function(){if("SELECT validation_tokens"===n.name)return re(n.results.resent),!1})),Ne(["resend validate email token","success"],(function(){return!0})),Ne(["validate email token","continue"],(function(){return"UPDATE validation tokens"===n.name?!(n.results.affectedRows>0):"UPDATE users"===n.name&&(!(n.results.affectedRows>0)||(ye("/sign-in"),!0))})),Ne(["validate email token","success"],(function(){return ae(null),!0})),Ne(["validate password reset token","success"],(function(){return ee(!0),!0})),Ne(["get uri settings","continue"],(function(){if("SELECT FROM uri_settings"===n.name){var e=JSON.parse(n.results.settings);if(k(JSON.stringify(e)),"undefined"!==typeof e.currency&&null!==e.currency){var t=e.currency;oe({req:"register user currency",data:{email:f.email,currency_id:t}})}}return!1})),Ne(["register user currency","success"],(function(){U(n.reqData.currency_id)})),Ne(["sign in user","continue"],(function(){if("SELECT users"===n.name){if(1===n.results.status)return F(JSON.stringify(n.results)),K(n.results.uid),U(n.results.currency_abbr),B(isNaN(n.results.currency_rate)?1:n.results.currency_rate),Ee(n.results.language),!1;if(0===n.results.status)return ye("/validate-email"),!0;if(2===n.results.status)return x("/sign-out"),fe("ACCOUNT_SUSPENDED","error"),!0;if(3===n.results.status)return x("/sign-out"),fe("ACCOUNT_DELETED","error"),!0}})),Ne(["sign in user","finished"],(function(){if("SELECT users"===n.name)return!(n.queryCnt>0)&&(fe("INVALID_SIGN_IN","error"),x("/sign-out"),!0)})),Ne(["sign in user","success"],(function(){return G(!0),P(!1),Oe(),T(n.token),!0})),Ne(["update user","success"],(function(){return oe({req:"get user",data:{email:f.email}}),!1})),Ne(["get user","continue"],(function(){return"SELECT users"!==n.name||(F(JSON.stringify(n.results)),z(n.results.uid),K(n.results.uid),null===E&&null!==n.results.uid&&x("/summary"),!1)})),Ne(["get user","finished"],(function(){if("SELECT users"===n.name)return 1!==n.queryCnt&&(0!==n.queryCnt||(x("/sign-out"),!0))})),Ne(["get user","success"],(function(){return!0})),Ne(["get user businesses","continue"],(function(){if("SELECT businesses"===n.name){var e=n.results,t=e.business_id;null===b?(J(JSON.stringify([e])),de(t,0,1)):J(JSON.stringify([].concat(Object(Qe.a)(b),[e])))}else"COUNT businesses"===n.name&&H(n.results.count_businesses);return!1})),Ne(["get user businesses","finished"],(function(){return W(!0),x("/my-business"),!1})),Ne(["get user businesses","success"],(function(){return!0})),Ne(["get cart purposes","continue"],(function(){return"SELECT purposes"===n.name?X(null===v?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(v),[n.results]))):n.name,!1})),Ne(["get cart purposes","success"],(function(){return!0})),Ne(["get business purposes","continue"],(function(){return"SELECT purposes"===n.name?Y(null===h?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(h),[n.results]))):"COUNT purposes"===n.name&&$(n.results.count_purposes),!1})),Ne(["get business purposes","finished"],(function(){return!0})),Ne(["get purpose shareholders","continue"],(function(){return"SELECT shares"===n.name&&Z(null===y?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(y),[n.results]))),!1})),Ne(["get purpose shareholders","finished"],(function(){return!0})),Ne(["get business by id","continue"],(function(){return"SELECT businesses"===n.name&&J(null===b?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(b),[n.results]))),!1})),Ne(["get business by id","finished"],(function(){return!(n.queryCnt>0)&&(console.log("Error getting business by id"),!0)})),Ne(["get business by id","success"],(function(){return!0})),Ne(["get purpose by id","continue"],(function(){var e=be(h,"purpose_id",n.results.purpose_id);if(e>-1){h.splice(e,1);var t=[].concat(Object(Qe.a)(h),[n.results]);t=ge(t,"title"),Y(JSON.stringify(t)),se(JSON.stringify(n.results))}else"SELECT purposes"===n.name&&Y(null===h?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(h),[n.results])));return!1})),Ne(["get purpose by id","finished"],(function(){return n.queryCnt<1})),Ne(["get purpose by id","success"],(function(){return!0})),Ne(["get shareholder by id","continue"],(function(){return Z(null===y?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(y),[n.results]))),!1})),Ne(["get shareholder by id","finished"],(function(){return!0})),Ne(["upload file","continue"],(function(){return Q(Date.now()),!1})),Ne(["upload file","finished"],(function(){return"SELECT 1"!==n.name||0===n.queryCnt})),Ne(["upload file","success"],(function(){return!0})),Ne(["register account","continue"],(function(){return n.results.affectedRows<1&&(z(null),K(null),fe("INVALID_DATA","error"),!0)})),Ne(["register account","success"],(function(){return oe({req:"get user",data:{email:n.email}}),!1})),Ne(["get account data","continue"],(function(){return"SELECT users"===n.name&&(z(n.results.uid),F(JSON.stringify(n.results))),!1})),Ne(["get account data","finished"],(function(){return"SELECT users"===n.name&&0===n.queryCnt&&(fe("SESSION_TIMED_OUT","info",!1),x("/sign-out"),!0)})),Ne(["get account data","success"],(function(){return!0})),Ne(["transfer U2S","pending"],(function(){return!1})),Ne(["transfer U2S","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(M(n.results.insertId),!1))})),Ne(["transfer U2S","success"],(function(){return fe("TRANSFER_SUCCESS","info",!1),me(S),!1})),Ne(["transfer U2U","pending"],(function(){return!1})),Ne(["transfer U2U","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(M(n.results.insertId),!1))})),Ne(["transfer U2U","success"],(function(){return fe("TRANSFER_SUCCESS","info",!1),me(S),le(!1),!1})),Ne(["transfer U2B","pending"],(function(){return!1})),Ne(["transfer U2B","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(M(n.results.insertId),!1))})),Ne(["transfer U2B","success"],(function(){return fe("TRANSFER_SUCCESS","info",!1),me(S),le(!1),!1})),Ne(["register business","continue"],(function(){if("INSERT INTO businesses"===n.name)return!(n.results.insertId>0)||(M(n.results.insertId),!1)})),Ne(["register business","success"],(function(){return ie(!0),fe("REGISTER_BUSINESS_SUCCESS","info",!1),oe({req:"get business by id",data:{id:S}}),!1})),Ne(["register currency","continue"],(function(){return!(n.results.insertId>0)||(M(n.results.insertId),!1)})),Ne(["register currency","success"],(function(){return fe("REGISTER_CURRENCY_SUCCESS","info",!1),ie(!0),oe({req:"get currency by id",data:{id:S}}),!1})),Ne(["get currencies","continue"],(function(){return"SELECT currencies"===n.name?j(null===u?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(u),[n.results]))):"COUNT currencies"===n.name&&A(n.results.count_currencies),!1})),Ne(["get currencies","finished"],(function(){return x("/currency"),!0})),Ne(["get currency by id","continue"],(function(){return"SELECT currencies"===n.name&&j(null===u?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(u),[n.results]))),!1})),Ne(["get currency by id","finished"],(function(){return!0})),Ne(["get transactions","continue"],(function(){return"SELECT transactions"===n.name?I(null===m?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(m),[n.results]))):"COUNT transactions"===n.name&&q(n.results.count_transaction_positions),!1})),Ne(["get transactions","finished"],(function(){return x("/balance"),!0})),Ne(["get shares","continue"],(function(){return"SELECT shares"===n.name?w(null===p?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(p),[n.results]))):"COUNT shares"===n.name&&D(n.results.count_shares),!1})),Ne(["get shares","finished"],(function(){return!0})),Ne(["get transaction by id","continue"],(function(){return I(null===m?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Qe.a)(m),[n.results]))),!1})),Ne(["get transaction by id","finished"],(function(){return ue(),!1})),Ne(["send message","success"],(function(){return ie(!0),fe("SEND_MESSAGE_SUCCESS","info",!1),!0})),Ne(["register purpose","continue"],(function(){if("INSERT INTO purposes"===n.name)return!(n.results.insertId>0)||(M(n.results.insertId),!1)})),Ne(["register purpose","success"],(function(){return fe("REGISTER_PURPOSE_SUCCESS","info",!1),ie(!0),oe({req:"get purpose by id",data:{id:S,language:g}}),!1})),Ne(["update purpose property","success"],(function(){return fe("UPDATE_PURPOSE_SUCCESS","info",!1),oe({req:"get purpose by id",data:{id:n.reqData.id,language:g}}),!1})),Ne(["register shareholder","continue"],(function(){if(!(n.results.insertId>0))return!0;M(n.results.insertId)})),Ne(["register shareholder","success"],(function(){return fe("REGISTER_SHAREHOLDER_SUCCESS","info",!1),pe(O),!1})),Ne(["change share","success"],(function(){return!0})),Ne(["remove shareholder","success"],(function(){return pe(O),!1})),Ne(["reset password","success"],(function(){return ee(!1),!0})),Ne(["change password","success"],(function(){return ee(null),te(null),ye("/sign-in"),fe("PASSWORD_CHANGE_SUCCESS","info",!1),!0})),Ne(["unknown"],(function(){return!1})),Ce},tt=function(e){var t=Object.assign({namespace:"Dispatcher"},e),a=Object(d.a)([t.namespace]),s=a.t,l=("localhost"===window.location.hostname||window.location.hostname,Object(n.useState)(!0)),o=Object(i.a)(l,2),p=o[0],f=o[1],E=Object(n.useState)(!1),g=Object(i.a)(E,2),b=g[0],h=g[1],y=Object(n.useState)(!1),C=Object(i.a)(y,2),T=C[0],R=C[1],k=Object(n.useState)(!0),P=Object(i.a)(k,2),j=P[0],I=P[1],w=S(null,"request"),A=Object(i.a)(w,2),q=A[0],D=A[1],_=S(null,"serverResponseReceived"),F=Object(i.a)(_,2),G=F[0],L=F[1],U=S(!1,"requestTimedOut"),B=Object(i.a)(U,2),x=B[0],M=B[1],K=Object(n.useState)(Date.now()),V=Object(i.a)(K,2),z=V[0],J=V[1],H=S(Object(c.a)(),"session"),W=Object(i.a)(H,2),X=W[0],Y=W[1],$=S(null,"settings"),Z=Object(i.a)($,2),Q=Z[0],ee=Z[1],te=S(null,"responseProps"),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],se=S(60*(p?120:5),"sessionTimeout"),le=Object(i.a)(se,2),ie=le[0],ce=le[1],oe=S(!1,"connected"),ue=Object(i.a)(oe,2),me=ue[0],de=ue[1],pe=S(!1,"reconnecting"),fe=Object(i.a)(pe,2),Ee=fe[0],ge=fe[1],be=S("","ip"),ve=Object(i.a)(be,2),he=ve[0],ye=ve[1],Oe=S(!1,"signedIn"),Se=Object(i.a)(Oe,2),Ce=Se[0],Ne=Se[1],Te=S(!1,"dailyAllowanceDispatched"),Re=Object(i.a)(Te,2),ke=Re[0],Pe=Re[1],je=S(!1,"isExternalRequest"),Ie=Object(i.a)(je,2),we=Ie[0],Ae=Ie[1],qe=S(null,"externalRequest"),De=Object(i.a)(qe,2),_e=De[0],Fe=De[1],Ge=S(null,"cartContent"),Le=Object(i.a)(Ge,2),Ue=Le[0],Be=Le[1],Ke=S(-1,"updateInterval"),Ve=Object(i.a)(Ke,2),ze=Ve[0],Je=Ve[1],He=S("Z","currencyAbbr"),Xe=Object(i.a)(He,2),$e=Xe[0],Qe=Xe[1],tt=Object(n.useState)(1),at=Object(i.a)(tt,2),nt=at[0],rt=at[1],st=S(null,"currencies"),lt=Object(i.a)(st,2),it=lt[0],ct=lt[1],ot=S(null,"transactions"),ut=Object(i.a)(ot,2),mt=ut[0],dt=ut[1],pt=S(null,"shares"),ft=Object(i.a)(pt,2),Et=ft[0],gt=ft[1],bt=S("balance","accordionView"),vt=Object(i.a)(bt,2),ht=vt[0],yt=vt[1],Ot=S(null,"accordionViewCurrency"),St=Object(i.a)(Ot,2),Ct=St[0],Nt=St[1],Tt=S(null,"countCurrencies"),Rt=Object(i.a)(Tt,2),kt=Rt[0],Pt=Rt[1],jt=S(null,"countTransactions"),It=Object(i.a)(jt,2),wt=It[0],At=It[1],qt=S(null,"countShares"),Dt=Object(i.a)(qt,2),_t=Dt[0],Ft=Dt[1],Gt=S(1,"activePageCurrencies"),Lt=Object(i.a)(Gt,2),Ut=Lt[0],Bt=Lt[1],xt=S(1,"activePageTransactions"),Mt=Object(i.a)(xt,2),Kt=Mt[0],Vt=Mt[1],zt=S(1,"activePageShares"),Jt=Object(i.a)(zt,2),Ht=Jt[0],Wt=Jt[1],Xt=S(5,"currenciesPerPage"),Yt=Object(i.a)(Xt,2),$t=Yt[0],Zt=Yt[1],Qt=S(5,"transactionsPerPage"),ea=Object(i.a)(Qt,2),ta=ea[0],aa=ea[1],na=S(5,"sharesPerPage"),ra=Object(i.a)(na,2),sa=ra[0],la=ra[1],ia=S(null,"userData"),ca=Object(i.a)(ia,2),oa=ca[0],ua=ca[1],ma=S(null,"uid"),da=Object(i.a)(ma,2),pa=da[0],fa=da[1],Ea=S(null,"accountNumber"),ga=Object(i.a)(Ea,2),ba=ga[0],va=ga[1],ha=S(null,"userSequence"),ya=Object(i.a)(ha,2),Oa=ya[0],Sa=ya[1],Ca=S(null,"accountType"),Na=Object(i.a)(Ca,2),Ta=Na[0],Ra=Na[1],ka=S(null,"userBusinesses"),Pa=Object(i.a)(ka,2),ja=Pa[0],Ia=Pa[1],wa=S(null,"countBusinesses"),Aa=Object(i.a)(wa,2),qa=Aa[0],Da=Aa[1],_a=S(1,"businessesPerPage"),Fa=Object(i.a)(_a,2),Ga=Fa[0],La=Fa[1],Ua=S(1,"activePageBusinesses"),Ba=Object(i.a)(Ua,2),xa=Ba[0],Ma=Ba[1],Ka=S(!1,"userBusinessesLoaded"),Va=Object(i.a)(Ka,2),za=Va[0],Ja=Va[1],Ha=S(null,"activeBusiness"),Wa=Object(i.a)(Ha,2),Xa=Wa[0],Ya=Wa[1],$a=S(null,"activeBusinessID"),Za=Object(i.a)($a,2),Qa=Za[0],en=Za[1],tn=S(null,"businessPurposes"),an=Object(i.a)(tn,2),nn=an[0],rn=an[1],sn=S(null,"cartPurposes"),ln=Object(i.a)(sn,2),cn=ln[0],on=ln[1],un=S(null,"countBusinessPurposes"),mn=Object(i.a)(un,2),dn=mn[0],pn=mn[1],fn=S(5,"businessPurposesPerPage"),En=Object(i.a)(fn,2),gn=En[0],bn=En[1],vn=S(1,"activePageBusinessPurposes"),hn=Object(i.a)(vn,2),yn=hn[0],On=hn[1],Sn=S(null,"activeBusinesPurpose"),Cn=Object(i.a)(Sn,2),Nn=Cn[0],Tn=Cn[1],Rn=S(null,"activePurposeData"),kn=Object(i.a)(Rn,2),Pn=kn[0],jn=kn[1],In=S(null,"activePurposeProperty"),wn=Object(i.a)(In,2),An=wn[0],qn=wn[1],Dn=S(null,"purposeShareholders"),_n=Object(i.a)(Dn,2),Fn=_n[0],Gn=_n[1],Ln=S(!1,"clearRefs"),Un=Object(i.a)(Ln,2),Bn=Un[0],xn=Un[1],Mn=S("","logInEmail"),Kn=Object(i.a)(Mn,2),Vn=Kn[0],zn=Kn[1],Jn=S("","logInPassword"),Hn=Object(i.a)(Jn,2),Wn=Hn[0],Xn=Hn[1],Yn=S("","signUpFirstName"),$n=Object(i.a)(Yn,2),Zn=$n[0],Qn=$n[1],er=S("","signUpLastName"),tr=Object(i.a)(er,2),ar=tr[0],nr=tr[1],rr=S("","signUpEmail"),sr=Object(i.a)(rr,2),lr=sr[0],ir=sr[1],cr=S("","signUpPassword"),or=Object(i.a)(cr,2),ur=or[0],mr=or[1],dr=S("","businessRegistrationAddTitle"),pr=Object(i.a)(dr,2),fr=pr[0],Er=pr[1],gr=S("","businessRegistrationAddDescription"),br=Object(i.a)(gr,2),vr=br[0],hr=br[1],yr=S("","purposeRegistrationTitle"),Or=Object(i.a)(yr,2),Sr=Or[0],Cr=Or[1],Nr=S("","purposeRegistrationDescription"),Tr=Object(i.a)(Nr,2),Rr=Tr[0],kr=Tr[1],Pr=S("","purposeRegistrationKeywords"),jr=Object(i.a)(Pr,2),Ir=jr[0],wr=jr[1],Ar=S(!1,"userEditorEditFirstname"),qr=Object(i.a)(Ar,2),Dr=qr[0],_r=qr[1],Fr=S("","userEditorFirstname"),Gr=Object(i.a)(Fr,2),Lr=Gr[0],Ur=Gr[1],Br=S(!1,"userEditorEditLastname"),xr=Object(i.a)(Br,2),Mr=xr[0],Kr=xr[1],Vr=S("","userEditorLastname"),zr=Object(i.a)(Vr,2),Jr=zr[0],Hr=zr[1],Wr=S(!1,"userEditorEditEmail"),Xr=Object(i.a)(Wr,2),Yr=Xr[0],$r=Xr[1],Zr=S("","userEditorEmail"),Qr=Object(i.a)(Zr,2),es=Qr[0],ts=Qr[1],as=S(!1,"userEditorEditPassword"),ns=Object(i.a)(as,2),rs=ns[0],ss=ns[1],ls=S("","userEditorPassword"),is=Object(i.a)(ls,2),cs=is[0],os=is[1],us=S(!1,"userEditorPasswordVisible"),ms=Object(i.a)(us,2),ds=ms[0],ps=ms[1],fs=S(!1,"userEditorSubmitButtonVisible"),Es=Object(i.a)(fs,2),gs=Es[0],bs=Es[1],vs=S("","passwordResetEmail"),hs=Object(i.a)(vs,2),ys=hs[0],Os=hs[1],Ss=S("","tanInputTAN"),Cs=Object(i.a)(Ss,2),Ns=Cs[0],Ts=Cs[1],Rs=Object(n.useState)(null),ks=Object(i.a)(Rs,2),Ps=ks[0],js=ks[1],Is=Object(n.useState)(null),ws=Object(i.a)(Is,2),As=ws[0],qs=ws[1],Ds=Object(n.useState)(null),_s=Object(i.a)(Ds,2),Fs=_s[0],Gs=_s[1],Ls=Object(n.useState)(null),Us=Object(i.a)(Ls,2),Bs=Us[0],xs=Us[1],Ms=Object(n.useState)(null),Ks=Object(i.a)(Ms,2),Vs=Ks[0],zs=Ks[1],Js=Object(n.useState)(null),Hs=Object(i.a)(Js,2),Ws=Hs[0],Xs=Hs[1],Ys=S(null,"validationTokenEmail"),$s=Object(i.a)(Ys,2),Zs=$s[0],Qs=$s[1],el=S(0,"validationTokenEmailResent"),tl=Object(i.a)(el,2),al=tl[0],nl=tl[1],rl=S(v.options.fallbackLng[0],"language"),sl=Object(i.a)(rl,2),ll=sl[0],il=sl[1],cl=S("#u2s","transferType"),ol=Object(i.a)(cl,2),ul=ol[0],ml=ol[1],dl=S(null,"transferRequest"),pl=Object(i.a)(dl,2),fl=pl[0],El=pl[1],gl=S("","transferFromAccount"),bl=Object(i.a)(gl,2),vl=bl[0],hl=bl[1],yl=S("","transferToAccount"),Ol=Object(i.a)(yl,2),Sl=Ol[0],Cl=Ol[1],Nl=S("","transferAmount"),Tl=Object(i.a)(Nl,2),Rl=Tl[0],kl=Tl[1],Pl=S("","transferToUID"),jl=Object(i.a)(Pl,2),Il=jl[0],wl=jl[1],Al=S("","transferToPurpose"),ql=Object(i.a)(Al,2),Dl=ql[0],_l=ql[1],Fl=S("","transferDescription"),Gl=Object(i.a)(Fl,2),Ll=Gl[0],Ul=Gl[1],Bl=S("","contactSubject"),xl=Object(i.a)(Bl,2),Ml=xl[0],Kl=xl[1],Vl=S("","contactMessage"),zl=Object(i.a)(Vl,2),Jl=zl[0],Hl=zl[1],Wl=S("","userBirthYear"),Xl=Object(i.a)(Wl,2),Yl=Xl[0],$l=Xl[1],Zl=S("","userBirthMonth"),Ql=Object(i.a)(Zl,2),ei=Ql[0],ti=Ql[1],ai=S("","userBirthDay"),ni=Object(i.a)(ai,2),ri=ni[0],si=ni[1],li=Object(n.useState)("","userBirthDateError"),ii=Object(i.a)(li,2),ci=ii[0],oi=ii[1],ui=S("","userTimezone"),mi=Object(i.a)(ui,2),di=mi[0],pi=mi[1],fi=S("","currencyCode"),Ei=Object(i.a)(fi,2),gi=Ei[0],bi=Ei[1],vi=S("","currencyName"),hi=Object(i.a)(vi,2),yi=hi[0],Oi=hi[1],Si=S("","currencyRegion"),Ci=Object(i.a)(Si,2),Ni=Ci[0],Ti=Ci[1],Ri=S(1,"currencyNewRate"),ki=Object(i.a)(Ri,2),Pi=ki[0],ji=ki[1],Ii=S(!1,"tanRequired"),wi=Object(i.a)(Ii,2),Ai=wi[0],qi=wi[1],Di=Object(n.useState)(""),_i=Object(i.a)(Di,2),Fi=_i[0],Gi=_i[1],Li=Object(n.useState)(null),Ui=Object(i.a)(Li,2),Bi=Ui[0],xi=Ui[1],Mi=Object(n.useState)(null),Ki=Object(i.a)(Mi,2),Vi=Ki[0],zi=Ki[1],Ji={debug:p,loggingOut:b,loggingIn:T,pageLoading:j,request:q,serverResponseReceived:G,requestTimedOut:x,instance:z,responseProps:JSON.parse(ne),session:X,sessionTimeout:ie,settings:JSON.parse(Q),ip:he,updateInterval:ze,currencies:JSON.parse(it),transactions:JSON.parse(mt),shares:JSON.parse(Et),accordionView:ht,accordionViewCurrency:Ct,countCurrencies:kt,countTransactions:wt,countShares:_t,activePageCurrencies:Ut,activePageTransactions:Kt,activePageShares:Ht,currenciesPerPage:$t,transactionsPerPage:ta,sharesPerPage:sa,userData:JSON.parse(oa),redirectTo:Ps,lastInsertId:As,connected:me,reconnecting:Ee,signedIn:Ce,dailyAllowanceDispatched:ke,isExternalRequest:we,externalRequest:JSON.parse(_e),cartContent:JSON.parse(Ue),currencyAbbr:$e,currencyRate:nt,accountNumber:ba,userSequence:Oa,accountType:Ta,uid:pa,userBusinesses:JSON.parse(ja),countBusinesses:qa,businessesPerPage:Ga,activePageBusinesses:xa,userBusinessesLoaded:za,activeBusiness:Xa,activeBusinessID:Qa,businessPurposes:JSON.parse(nn),cartPurposes:JSON.parse(cn),countBusinessPurposes:dn,businessPurposesPerPage:gn,activePageBusinessPurposes:yn,activeBusinesPurpose:Nn,activePurposeProperty:An,activePurposeData:JSON.parse(Pn),purposeShareholders:JSON.parse(Fn),clearRefs:Bn,logInEmail:Vn,logInPassword:Wn,signUpFirstName:Zn,signUpLastName:ar,signUpEmail:lr,signUpPassword:ur,businessRegistrationAddTitle:fr,businessRegistrationAddDescription:vr,purposeRegistrationTitle:Sr,purposeRegistrationDescription:Rr,purposeRegistrationKeywords:Ir,userEditorEditFirstname:Dr,userEditorFirstname:Lr,userEditorEditLastname:Mr,userEditorLastname:Jr,userEditorEditEmail:Yr,userEditorEmail:es,userEditorEditPassword:rs,userEditorPassword:cs,userEditorPasswordVisible:ds,userEditorSubmitButtonVisible:gs,passwordResetEmail:ys,tanInputTAN:Ns,tanRequired:Ai,validateTokenEmail:Fs,validateTokenPasswordReset:Bs,passwordResetTokenValidated:Vs,passwordResetTokenEmail:Ws,validationTokenEmail:Zs,validationTokenEmailResent:al,transferRequest:JSON.parse(fl),transferFromAccount:vl,transferToAccount:Sl,transferAmount:Rl,transferToUID:Il,transferToPurpose:Dl,transferDescription:Ll,contactSubject:Ml,contactMessage:Jl,userBirthYear:Yl,userBirthMonth:ei,userBirthDay:ri,userBirthDateError:ci,userTimezone:di,currencyCode:gi,currencyName:yi,currencyRegion:Ni,currencyNewRate:Pi,language:ll,transferType:ul,accountPhotoPath:Fi,error:JSON.parse(Bi),info:JSON.parse(Vi)},Hi={setDebug:f,setLoggingOut:h,setLoggingIn:R,setPageLoading:I,setRequest:D,setServerResponseReceived:L,setRequestTimedOut:M,setInstance:J,setResponseProps:re,setSession:Y,setSessionTimeout:ce,setSettings:ee,setIP:ye,setUpdateInterval:Je,setCurrencies:ct,setTransactions:dt,setShares:gt,setAccordionView:yt,setAccordionViewCurrency:Nt,setCountCurrencies:Pt,setCountTransactions:At,setCountShares:Ft,setActivePageCurrencies:Bt,setActivePageTransactions:Vt,setActivePageShares:Wt,setCurrenciesPerPage:Zt,setTransactionsPerPage:aa,setSharesPerPage:la,setConnected:de,setReconnecting:ge,setLanguage:il,setUserData:ua,setSignedIn:Ne,setDailyAllowanceDispatched:Pe,setIsExternalRequest:Ae,setExternalRequest:Fe,setCartContent:Be,setCurrencyAbbr:Qe,setCurrencyRate:rt,setRedirectTo:js,setLastInsertId:qs,setAccountNumber:va,setUserSequence:Sa,setAccountType:Ra,setUID:fa,setUserBusinesses:Ia,setCountBusinesses:Da,setBusinessesPerPage:La,setActivePageBusinesses:Ma,setUserBusinessesLoaded:Ja,setActiveBusiness:Ya,setActiveBusinessID:en,setBusinessPurposes:rn,setCartPurposes:on,setCountBusinessPurposes:pn,setBusinessPurposesPerPage:bn,setActivePageBusinessPurposes:On,setActiveBusinesPurpose:Tn,setActivePurposeProperty:qn,setActivePurposeData:jn,setPurposeShareholders:Gn,setClearRefs:xn,setLogInEmail:zn,setLogInPassword:Xn,setSignUpFirstName:Qn,setSignUpLastName:nr,setSignUpEmail:ir,setSignUpPassword:mr,setBusinessRegistrationAddTitle:Er,setBusinessRegistrationAddDescription:hr,setPurposeRegistrationTitle:Cr,setPurposeRegistrationDescription:kr,setPurposeRegistrationKeywords:wr,setUserEditorEditFirstname:_r,setUserEditorFirstname:Ur,setUserEditorEditLastname:Kr,setUserEditorLastname:Hr,setUserEditorEditEmail:$r,setUserEditorEmail:ts,setUserEditorEditPassword:ss,setUserEditorPassword:os,setUserEditorPasswordVisible:ps,setUserEditorSubmitButtonVisible:bs,setPasswordResetEmail:Os,setTanInputTAN:Ts,setError:xi,setInfo:zi,setAccountPhotoPath:Gi,setValidateTokenEmail:Gs,setValidateTokenPasswordReset:xs,setPasswordResetTokenValidated:zs,setPasswordResetTokenEmail:Xs,setValidationTokenEmail:Qs,setValidationTokenEmailResent:nl,setTransferRequest:El,setTransferFromAccount:hl,setTransferToAccount:Cl,setTransferAmount:kl,setTransferToUID:wl,setTransferToPurpose:_l,setTransferDescription:Ul,setContactSubject:Kl,setContactMessage:Hl,setUserBirthYear:$l,setUserBirthMonth:ti,setUserBirthDay:si,setUserBirthDateError:oi,setUserTimezone:pi,setCurrencyCode:bi,setCurrencyName:Oi,setCurrencyRegion:Ti,setCurrencyNewRate:ji,setTanRequired:qi},Wi=function(e){var t=e.req,a=e.data,n=void 0===a?null:a;return Xi({req:t,data:n,session:X,uid:"STA",barrels:nc})?(L(!1),!0):(console.log("THIS SHOULD NEVER BE REACHED"),Me({req:t,uid:"STA",session:X,data:n},p))},Xi=function(e){var t=e.req,a=e.data,n=e.session,r=e.uid,s=e.barrels;return a.instance=z,D(t),function(e){var t=Object.assign({},e),a=t.req,n=t.data,r=t.session,s=t.uid,l=t.barrels,i=l.barrelGetters,c=i.debug,o=i.userData,u=i.userSequence,m=l.barrelSetters,d=m.setUserData,p=m.setUID;m.setAccountNumber;Object(N.a)(l.barrelFunctions);var f=!1,E=function(e,a){f||e!==t.req&&"default"!==e||(a(),f=!0)};return E("sign in user",(function(){d(JSON.stringify(n)),Me({req:a,data:n,uid:s,session:r},c)})),E("get user sequence",(function(){var e=new Date(n.birthDate),t=e.getFullYear().toString(),l=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");n.birthDate="".concat(t,"-").concat(l,"-").concat(i),Me({req:a,data:n,uid:s,session:r},c)})),E("register account",(function(){var e=new Date(n.birthDate),t=e.getFullYear().toString(),l=t.slice(-2),i=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0"),d="".concat(m).concat(i).concat(l),f=n.timezone.slice(0,2),E=o.lastname.slice(0,1).toUpperCase(),g=E.charCodeAt(0).toString().padStart(5,"0");n.scode="".concat(f).concat(d).concat(E),n.tcode="".concat(f).concat(d).concat(g),n.timezone=n.timezone.slice(5),n.sequence=u.toString().padStart(5,"0"),n.birthDate="".concat(t,"-").concat(i,"-").concat(m),p(n.personalID),Me({req:a,data:n,uid:s,session:r},c)})),E("default",(function(){return Me({req:a,data:n,uid:s,session:r},c),!0})),f}({req:t,data:a,session:n,uid:r,barrels:s})},Yi=function(e){var t=e.args,a=e.barrels;return"error"===t.status?function(e){var t=e.args,a=e.barrels,n=Object.assign({},t),r=a.barrelGetters.debug,s=a.barrelSetters,l=s.setRequest,c=s.setUID,o=s.setAccountNumber,u=s.setRedirectTo,m=a.barrelFunctions.showMessage,d=n.req,p=n.error,f=n.context;r&&console.log("ERROR: ".concat(d),p,f,n,a);var E=!1,g=function(e,t){if(!E){var a=Object(i.a)(e,2),n=a[0],r=a[1];return(n===d&&r===p.code||"*"===n&&r===p.code||"unknown"===n)&&(t(),l(null),E=!0,!0)}};return g(["*","INVALID_SESSION"],(function(){return m("SESSION_TIMED_OUT","info",!1),u("/sign-out"),!0})),g(["transfer U2S","NO_ROWS_CHANGED"],(function(){return m("INVALID_TRANSFER","error"),!0})),g(["transfer U2U","NO_ROWS_CHANGED"],(function(){return m("INVALID_TRANSFER","error"),!0})),g(["transfer U2B","NO_ROWS_CHANGED"],(function(){return m("INVALID_TRANSFER","error"),!0})),g(["register user","NO_ROWS_CHANGED"],(function(){return m("INVALID_USER_REGISTRATION","error"),!0})),g(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),g(["validate email token","NO_ROWS_CHANGED"],(function(){return m("TOKEN_VALIDATION_FAILED","error"),!0})),g(["validate password reset token","NO_ROWS_CHANGED"],(function(){return m("TOKEN_VALIDATION_FAILED","error"),!0})),g(["reset password","NO_ROWS_CHANGED"],(function(){return!0})),g(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),g(["update user","NO_ROWS_CHANGED"],(function(){return!0})),g(["sign in user","NO_ROWS_CHANGED"],(function(){return m("USER_NOT_FOUND","error"),!0})),g(["change password","NO_ROWS_CHANGED"],(function(){return m("SAME_PASSWORD_RESET","info"),!0})),g(["submit tan","NO_ROWS_CHANGED"],(function(){return m("INVALID_TAN","error",!1),!0})),g(["get cart","NO_ROWS_CHANGED"],(function(){return!0})),g(["transfer V2U","NO_ROWS_CHANGED"],(function(){return!0})),g(["register user currency","NO_ROWS_CHANGED"],(function(){return!0})),g(["end session","NO_ROWS_CHANGED"],(function(){return!0})),g(["register currency","NO_ROWS_CHANGED"],(function(){return m("DUPLICATE_CURRENCY_REGISTRATION","error"),!0})),g(["update purpose property","NO_ROWS_CHANGED"],(function(){return m("DUPLICATE_PURPOSE_PROPERTY","error"),!0})),g(["register purpose","ER_DUP_ENTRY"],(function(){return m("DUPLICATE_PURPOSE_PROPERTY","error"),!0})),g(["register account","ER_DUP_ENTRY"],(function(){return c(null),o(null),m("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),g(["register account","ER_FOREIGN_DUPLICATE_KEY_WITH_CHILD_INFO"],(function(){return c(null),o(null),m("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),g(["register shareholder","ER_NO_REFERENCED_ROW_2"],(function(){return m("USER_NOT_FOUND","error"),!0})),g(["*","ER_CANT_CREATE_THREAD"],(function(){return m("NO_RESPONSE_FROM_SERVER","error"),!0})),g(["unknown"],(function(){return m(p.code,"error"),!0})),!1}({args:t,uid:pa,barrels:a}):et({args:t,uid:pa,barrels:a})},$i=function(e){var t=e.args,a=e.barrels;return"error"===t.status?function(e){var t=e.args,a=e.barrels,n=Object.assign({},t),r=a.barrelGetters,s=r.debug,l=r.error,c=a.barrelSetters,o=c.setRequest,u=c.setReconnecting,m=a.barrelFunctions.showMessage,d=n.req,p=n.error,f=n.context;s&&console.log("SYSTEM ERROR: ".concat(d),p,f,n,a);var E=!1,g=function(e,t){if(!E){var a=Object(i.a)(e,2),n=a[0],r=a[1];return(n===d&&r===p.code||"*"===n&&r===p.code||"unknown"===n)&&(t(),o(null),E=!0,!0)}};return g(["connect_error","none"],(function(){return"SERVER_UNAVAILABLE"!==l&&u(!0),!0})),g(["connect_timeout","connect_timeout"],(function(){return!0})),g(["reconnect_error","TransportError"],(function(){return"SERVER_STILL_UNAVAILABLE"!==l&&u(!0),!0})),g(["unknown"],(function(){return m(p.code,"error"),!0})),!1}({args:t,barrels:a}):function(e){var t=e.args,a=e.barrels,n=Object.assign({},t),r=a.barrelGetters,s=r.debug,l=(r.instance,r.info),c=a.barrelSetters,o=c.setRequest,u=c.setReconnecting,m=a.barrelFunctions,d=m.showMessage,p=m.hideMessage,f=n.req;s&&console.log("system response: ".concat(f," (").concat(n.status,")"),n,a);var E=!1,g=function(e,t){if(!E){var a=Object(i.a)(e,3),r=a[0],s=a[1],l=a[2],c=void 0===l?null:l;("*"===r&&s===n.status&&c===c||r===n.req&&s===n.status||"unknown"===r)&&(t()&&o(null),null===c&&(E=!0))}};return g(["reconnect attempt","continue"],(function(){return!0})),g(["reconnecting","continue"],(function(){return"RECONNECTING"!==l&&(u(!0),d("RECONNECTING","info")),!0})),g(["reconnect","success"],(function(){return u(!1),p(),!0})),g(["unknown"],(function(){return!1})),E}({args:t,barrels:a})},Zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"error"===e?xi(null):("info"===e||xi(null),zi(null))},Qi=function(e,t,a){return null===e?null:e.find((function(e){return e[t]===a}))},ec=function(e){var t=Qi(Ji.responseProps,"res",e);return null===t?"undefined":"undefined"!==typeof t?t.status:"undefined"},tc=function(e){var t=window.location.search;return new URLSearchParams(t).get(e)},ac={sendRequest:Wi,processUserResponse:Yi,showMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"error"===t?xi(JSON.stringify({msg:e,dismissible:a})):zi(JSON.stringify({msg:e,dismissible:a}))},hideMessage:Zi,changeLanguage:function(e){v.changeLanguage(e),il(e)},sortObjectArray:function(e,t){return e.sort((function(e,a){return e[t]>a[t]?1:a[t]>e[t]?-1:0}))},getObjectArrayElementIndex:function(e,t,a){return null===e?-1:e.map((function(e){return e[t]})).indexOf(a)},deleteObjectArrayElement:function(e,t,a){return e.filter((function(e){return e[t]!==a}))},getArrayObject:Qi,getRequestStatus:ec,showRequestStatus:function(e,t,a,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"success",l=ec(e);return"undefined"===l?"":"undefined"===l||l!==s?r.a.createElement("p",{className:"text-center text-muted"},a):l===s&&0===t?r.a.createElement("p",{className:"text-center text-muted"},n):""},format:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=new Intl.NumberFormat(ll,{notation:"standard",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:a}).format(e*nt);return 0!==parseFloat(e)&&"0.00"===e.toString().substr(0,4)?s("micro amount"):n+" "+t},formatPerCent:function(e){return new Intl.NumberFormat(ll,{notation:"standard",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)+"%"},formatExchangeRate:function(e){return new Intl.NumberFormat(ll,{notation:"standard",minimumFractionDigits:5,maximumFractionDigits:5}).format(e)},getContainerClass:function(e){return{wrapperClass:e?"auth-wrapper auth-wrapper-summary":"auth-wrapper",innerClass:e?"auth-inner auth-inner-summary":"auth-inner autoWidth"}},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ll,r=new Date(e);if(a){var s=r.getTimezoneOffset();r=u()(r).add(-s,"m").toDate()}return new Intl.DateTimeFormat(n,t).format(r)},sendEmailValidationRequest:function(e){var t=e.token,a=e.email;Wi({req:"validate email token",data:{token:t,email:a}})},sendPasswordResetRequest:function(e){var t=e.token,a=e.email;Xs(a),Wi({req:"validate password reset token",data:{token:t,email:a}})},getRedirect:function(){return null===Ps?"":r.a.createElement(m.a,{push:!0,to:Ps})},getUri:function(){return"".concat(window.location.hostname)},getIP:function(){p||fetch("".concat(O.uri.ENDPOINT,"/ip"),{method:"post",mode:"no-cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){ye("string"===typeof e.ip?e.ip:"")})).catch((function(e){console.error("Error:",e)}))},getCart:function(){var e=tc("cart");null!==e&&(Fe(JSON.stringify({cart:e})),Ce||Ae(!0))},getCartPurposes:function(){if(null!==Ue){var e=[];Ji.cartContent.map((function(t){e.push(t.product)})),on(null),Wi({req:"get cart purposes",data:{purposes:JSON.stringify(e),language:ll,page:1,limit:5}})}},getUrlParam:tc,getAccountData:function(){null!==ba&&Wi({req:"get account data",data:{uid:ba}})},getTransactionById:function(e){Wi({req:"get transaction by id",data:{id:e,language:ll}})},getBusinesses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Ia(null),pn(null),On(1),en(null),Wi({req:"get user businesses",data:{uid:ba,page:e,limit:Ga}}),Ma(e)},getBusinessPurposes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return null!==t&&(Ya(t),Tn(null),qn(null)),rn(null),pn(null),On(a),en(e),Wi({req:"get business purposes",data:{business_id:e,language:ll,page:a,limit:gn}})},getPurposeShareholders:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==t&&Tn(e),Gn(null),Wi({req:"get purpose shareholders",data:{purpose_id:e}})},getCurrencies:function(e){ct(null),Wi({req:"get currencies",data:{uid:ba,page:e,limit:$t}}),Bt(e)},getTransactions:function(e){dt(null),Wi({req:"get transactions",data:{page:e,limit:ta,uid:ba,language:ll}}),Vt(e)},getShares:function(e){gt(null),Wi({req:"get shares",data:{page:e,limit:sa,uid:ba,language:ll}}),Wt(e)},parseLocaleNumber:function(e,t){var a=new Intl.NumberFormat(t,{style:"currency",currency:"USD"}).formatToParts(123456.789),n="",r="",s="";return a.forEach((function(e){switch(e.type){case"group":n=e.value;break;case"decimal":r=e.value;break;case"currency":s=e.value}})),parseFloat(e.replace(new RegExp("\\"+n,"g"),"").replace(new RegExp("\\"+r),".").replace(new RegExp("\\"+s,"g"),""))},getReviser:function(){return"STA"},getWorkplace:function(){return"LAPSTA"}};v.on("languageChanged",(function(e){il(e)}));var nc={barrelGetters:Ji,barrelSetters:Hi,barrelFunctions:ac,barrelEventHandlers:{onRedirect:function(e){js(e)},onSignUp:function(e){return Wi({req:"register user",data:e})},onSessionTimeout:function(){console.log("Session timed out..."),h(!0),js("/sign-out")},onTransferTypeChange:function(e){ml(e)},onTransferSuccess:function(){},onTransfer:function(e){Wi(e)},onSessionStart:function(){var e={request:"hello"};e.instance=z,function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&console.log("request: start session",e,t),xe.emit("start session",{data:e,session:t,req:"start session"})}(e,X,p),L(!1)},onSessionEnd:function(){Wi({req:"end session",data:{}});var e={request:"bye"};e.instance=z,function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a&&console.log("request: end session",e,t),xe.emit("end session",{data:e,session:t,req:"end session"})}(e,X,p),L(!1)},onSessionReset:function(){Y(Object(c.a)())},onPurposeRegistration:function(e){Wi(e)},onLogOut:function(){window.localStorage.clear(),Ne(!1)},onAlertClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Zi(e)}}};return function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],s=a[1];xe.on("onDataReceived",(function(e){s(e)})),Object(n.useEffect)((function(){null!==r&&e(r)}),[r])}((function(e){L(!0),M(!1),Yi({args:e,barrels:nc})})),function(e,t){Object(n.useEffect)((function(){xe.on("connect_error",(function(){e({status:"error",req:"connect_error",context:{},error:{code:"none"}},!0)})),xe.on("connect_timeout",(function(t){e({status:"error",req:"connect_timeout",context:{},error:{code:"connect_timeout",timeout:t}},!0)})),xe.on("reconnect_error",(function(t){e({status:"error",req:"reconnect_error",context:{},error:{code:t.type,error:t}},!0)})),xe.on("reconnect_failed",(function(){e({status:"error",req:"reconnect_failed",context:{},error:{code:"reconnect_failed"}},!0)})),xe.on("error",(function(t){e({status:"error",req:"error",context:{},error:{code:"error",error:t}},!0)})),xe.on("ping",(function(){})),xe.on("pong",(function(e){})),xe.on("disconnect",(function(t){"io server disconnect"===t&&xe.connect(),e({req:"disconnect",status:"success",reason:t},!0)})),xe.on("reconnect",(function(t){e({req:"reconnect",status:"success",attemptNumber:t},!0)})),xe.on("reconnect_attempt",(function(t){e({req:"reconnect attempt",status:"continue",attemptNumber:t},!0)})),xe.on("reconnecting",(function(t){e({req:"reconnecting",status:"continue",attemptNumber:t},!0)}))}),[t])}((function(e){$i({args:e,barrels:nc})}),z),"construction"!==t.mode?p||!Ee?r.a.createElement(We,nc):r.a.createElement(Ze,nc):r.a.createElement(Ye,nc)},at=(a(268),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"lds-hourglass"})))});null!==function(e){var t=window.location.search;return new URLSearchParams(t).get(e)}("reset")&&(window.localStorage.clear(),console.log("Local storage cleared"));var nt=document.getElementById("root"),rt=document.getElementById("construction");nt&&l.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement(at,null)},r.a.createElement(Y,null,r.a.createElement(tt,{mode:rt?"construction":""}))),nt)}},[[199,5,6]]]);
//# sourceMappingURL=main.24fc0967.chunk.js.map